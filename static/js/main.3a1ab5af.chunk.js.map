{"version":3,"sources":["reportWebVitals.js","context/authContext.js","GuardedRoute.js","keys.js","config/server.js","services/rating.js","services/book.js","services/subscription.js","services/event.js","components/loader/index.js","utils/navigation.js","components/nav-link/index.js","components/logo-link/index.js","components/header/index.js","components/footer/index.js","components/scroller/index.js","components/page-layout/index.js","common.js","components/star/index.js","components/book-card-medium/index.js","components/medium-event-card/index.js","pages/home/index.js","pages/landing/index.js","pages/no-match/index.js","utils/validation.js","hooks/useBookSearch.js","components/title/index.js","components/validation-error/index.js","pages/book/books/index.js","services/user.js","hooks/useAuthForm.js","pages/auth/login/index.js","pages/auth/logout/index.js","hooks/useEventSearch.js","pages/event/events/index.js","context/notificationContext.js","components/notification/index.js","components/book-card-lite/index.js","components/lite-event-card/index.js","pages/auth/my-page/index.js","pages/auth/register/index.js","services/image.js","hooks/useBookForm.js","components/category/index.js","pages/book/book-edit/index.js","hooks/useEventForm.js","components/map-event/index.js","pages/event/event-edit/index.js","pages/book/book-create/index.js","services/comment.js","hooks/useBook.js","components/rating/index.js","components/comment/index.js","pages/book/book-details/index.js","pages/event/event-create/index.js","hooks/useEvent.js","pages/event/event-details/index.js","App.js","ErrorBoundary.js","hooks/useLocalStorage.js","AuthContextProvider.js","NotificationContextProvider.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AuthContext","React","createContext","AuthRoute","useContext","isAuthenticated","to","UserRoute","storageKeys","PARSE_APPLICATION_ID","PARSE_HOST_URL","PARSE_JAVASCRIPT_KEY","Parse","initialize","serverURL","createBookRating","bookId","a","rating","Object","set","save","result","console","log","error","rateBook","userId","value","getBookById","book","updatedVoted","voted","slice","push","updatedValue","Math","floor","length","data","bookRatingId","createBook","ratingResult","title","author","description","User","current","category","image","editBook","Book","extend","query","Query","get","include","equalTo","first","viewModel","getAllBooks","pagination","descending","skip","counter","perPage","limit","find","results","map","getAllBooksCount","count","getBooksByAuthor","search","matches","getBooksByAuthorCount","getBooksByTitle","getBooksByTitleCount","getBooksByCategory","getBooksByCategoryCount","getBooksByCreator","innerQuery","toLocaleLowerCase","matchesQuery","getBooksByCreatorCount","getLastFourBooks","getMostLikedBooks","BookRating","record","creator","id","date","Date","createdAt","toLocaleDateString","year","month","day","imageUrl","getMySubscriptions","username","subscription","containedIn","createEventSubscription","event","signSubscription","subscriptionId","subscribed","unsignSubscription","list","splice","indexOf","hour","minute","hour12","name","status","eventId","createEvent","GeoPoint","latitude","location","longitude","response","editEvent","cancelEvent","getEventById","getAllEvents","getAllEventsCount","getActiveEvents","greaterThan","ascending","getActiveEventsCount","getCancelledEvents","getCancelledEventsCount","getMyEvents","getMyEventsCount","getLastFourEvents","getMostRecentEvents","dateRespone","dateObj","getFullYear","getMonth","getDate","getHours","getMinutes","_latitude","_longitude","Loader","className","getNavigation","user","authLinks","link","NavLink","href","type","LogoLink","props","children","Header","useState","links","setLinks","useEffect","alt","src","x","Footer","Cookies","secure","onClickHandler","e","window","scrollTo","Scroller","scroller","useRef","scrollY","addEventListener","innerHeight","outerHeight","style","display","ref","onClick","PageLayout","DEFAULT_BOOK_CATEGORIES","DEFAULT_BOOK_URL","DEFAULT_EVENT_URL","INITIAL_AUTH_VALUE","sessionToken","INITIAL_USER_FORM_VALUE","password","rePass","INITIAL_AUTH_VALIDATION_ERROR","exists","credentials","INITIAL_BOOK_VALUE","categories","INITIAL_BOOK_VALIDATION_ERROR","required","INITIAL_EVENT_VALUE","INITIAL_EVENT_VALIDATION_ERROR","DEFAULT_LAG_LTD","DEFAULT_MAP_CENTER","INITIAL_NOTIFICATION_VALUE","show","message","Star","stars","Array","fill","i","BookCardMedium","EventCardMedium","Home","books","setBooks","events","setEvents","isLoading","setIsloading","labelLatestBooks","setLabelLatestBooks","labelLikedBooks","setLabelLikedBooks","labelUpcomingEvents","setLabelUpcomingEvents","labelNewestEvents","setLabelNewestEvents","latestBooksHandler","newestEventHandler","mostLikedBooksHandler","res","upcomingEventsHandler","pageIntro","Landing","NoMatch","bookDataValidation","trim","size","includes","eventDataValidation","now","searchDataValidation","criteria","commentDataValidation","isDisabledIncreaseButton","isDisabledDecreaseButton","searchMessage","useBookSearch","all","setQuery","totalPages","setPagination","validationError","setValidationError","requestCountHandler","myPosts","postedBy","ceil","prev","requestDataHandler","onClickMyPostsHandler","onClickAllPostsHandler","onSubmitSearchHandler","preventDefault","formData","FormData","target","reset","decreaseCounter","increaseCounter","Title","ValidationError","Books","searchMyPosts","searchAllPosts","searchResults","disabled","action","onSubmit","placeholder","defaultValue","login","authData","logIn","register","signUp","logout","logOut","checkUserExists","updateUserReadingList","relation","add","getUserReadingList","checkBookInUserReadingList","removeBookFromUserReadingList","remove","authServices","useAuthForm","formValue","setFormValue","authValue","setAuthValue","isSuccess","setIsSuccess","doesUserExist","userService","onChangeInputHandler","check","userDataValidation","onSubmitUserRegisterHandler","requestHandler","onSubmitUserLoginHandler","catch","err","Login","navigate","useNavigate","replace","method","htmlFor","onChange","Logout","useEventSearch","myEvents","active","cancelled","onClickMyEventsHandler","onClickAllEventsHandler","onClickActiveEventsHandler","onClickCancelledEventsHandler","Events","searchMyEvents","searchAllEvents","searchActiveEvents","searchCancelledEvents","NotificationContext","Notification","notification","handleNotification","BookCardLite","onClickRemoveBook","EventCardLite","onClickSignoutEvent","pagesReadingCounter","pagesEventCounter","MyPage","useParams","showNotification","reading","update","setUpdate","view","readingList","setReadingList","eventList","setEventList","setTotalPages","increase","decrease","readingListButton","setReadingListButton","eventListButton","setEventListButton","fetchData","fetchedReadingListData","fetchedEventListData","readingPages","eventPages","onClickRemoveEvent","objectId","toLocaleUpperCase","Register","uploadImage","apiUrl","file","append","fetch","body","json","secure_url","useBookForm","isImageLoading","setIsImageloading","bookValue","setBookValue","imagePreview","setImagePreview","setInitialBookEditValue","useCallback","bookFormReset","onChangeImageHandler","files","url","onBlurInputHandler","onSubmitBookCreateHandler","onSubmitBookEditHandler","Category","selectedCategories","onChangeSelectedHandler","index","BookEdit","accept","lang","cols","rows","useEventForm","point","setPoint","eventValue","setEventValue","setInitialEventEditValue","onClickCancelEventHandler","eventFormReset","getGeoPoint","onSubmitEventCreateHandler","dataParser","dateError","JSON","stringify","onSubmitEventEditHandler","Number","MapComponent","useMapEvent","latlng","lat","lng","Marker","position","Popup","toString","MapEvent","center","MapContainer","zoom","scrollWheelZoom","TileLayer","attribution","EventEdit","min","max","BookCreate","onBlur","getAllCommentsByBookId","BookComment","reduce","getAllCommentsByEventId","EventComment","createBookComment","text","bookComment","createEventComment","eventComment","second","initialBookValue","useBook","setBook","canVote","setCanVote","canAdd","setCanAdd","comments","setComments","isCreator","Boolean","onClickAddBookHandler","onSubmitCommentHandler","comment","updated","Rating","isDisabled","setIsDisabled","from","values","CustomComment","BookDetails","EventCreate","initialEventValue","useEvent","setEvent","canSubscribe","setCanSubscribe","onClickAddEventHandler","updatedSuscribed","EventDetails","App","path","element","ErrorBoundary","state","hasError","this","Component","useLocalStorage","key","item","localStorage","getItem","parse","setState","setItem","AuthContextProvider","setUser","Provider","NotificationContextProvider","setNotification","setTimeout","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"uzBAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCHCQ,G,MAFKC,IAAMC,cAAc,K,OCG3BC,EAAY,WAErB,OAD4BC,qBAAWJ,GAA/BK,gBACiB,cAAC,IAAD,IAAa,cAAC,IAAD,CAAUC,GAAG,WAG1CC,EAAY,WAErB,OAD4BH,qBAAWJ,GAA/BK,gBACiB,cAAC,IAAD,CAAUC,GAAG,UAAa,cAAC,IAAD,K,uDCZjDE,EAIM,yDCANC,EDkBoB,2CCjBpBC,EDkBc,iCCjBdC,EDkBoB,2CCjB1BC,IAAMC,WAAWJ,EAAsBE,GACvCC,IAAME,UAAYJ,EAEHE,QAAf,ECmBMG,G,MAAgB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DAIfC,EAAS,IAAIN,EAAMO,OAAO,eAEzBC,IAAI,QAAS,IACpBF,EAAOE,IAAI,OAAQ,GAPE,kBAUIF,EAAOG,OAVX,cAUXC,EAVW,OAWjBC,QAAQC,IAAI,qBAAsBF,GAXjB,kBAYVA,GAZU,kCAcjBC,QAAQE,MAAM,oCAAd,MAdiB,0DAAH,uDAmBhBC,EAAQ,uCAAG,WAAOC,EAAQX,EAAQY,GAAvB,uBAAAX,EAAA,+EAEUY,EAAYb,GAFtB,cAEHc,EAFG,OAGTP,QAAQC,IAAIM,IAENC,EAAeD,EAAKE,MAAMC,SACnBC,KAAKP,GACZQ,EAAeC,KAAKC,OAAOT,EAAQE,EAAKZ,QAAUa,EAAaO,SAE/DC,EAAO,IAAI3B,EAAMO,OAAO,eACzBC,IAAI,WAAYU,EAAKU,cAC1BD,EAAKnB,IAAI,QAASW,GAClBQ,EAAKnB,IAAI,OAAQe,GAZR,UAcYI,EAAKlB,OAdjB,QAcHC,EAdG,OAeTC,QAAQC,IAAI,qBAAsBF,GAfzB,kDAiBTC,QAAQE,MAAM,oCAAd,MAjBS,0DAAH,0DC5CRgB,EAAU,uCAAG,WAAOF,GAAP,mBAAAtB,EAAA,+EAEUF,IAFV,cAEX2B,EAFW,QAIXZ,EAAO,IAAIlB,EAAMO,OAAO,SACzBC,IAAI,QAASmB,EAAKI,OACvBb,EAAKV,IAAI,SAAUmB,EAAKK,QACxBd,EAAKV,IAAI,cAAemB,EAAKM,aAC7Bf,EAAKV,IAAI,UAAWR,EAAMkC,KAAKC,WAC/BjB,EAAKV,IAAI,WAAYmB,EAAKS,UAC1BlB,EAAKV,IAAI,WAAYmB,EAAKU,OAC1BnB,EAAKV,IAAI,aAAcsB,GAXN,UAaIZ,EAAKT,OAbT,eAaXC,EAbW,yBAcVA,GAdU,kCAgBjBC,QAAQE,MAAM,8BAAd,MAhBiB,0DAAH,sDAoBVyB,EAAQ,uCAAG,WAAOlC,EAAQuB,GAAf,qBAAAtB,EAAA,6DACVkC,EAAOvC,EAAMO,OAAOiC,OAAO,QAC3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,GAFd,kBAKIE,EAAME,IAAIvC,GALd,cAKTc,EALS,QAMVV,IAAI,QAASmB,EAAKI,OACvBb,EAAKV,IAAI,SAAUmB,EAAKK,QACxBd,EAAKV,IAAI,cAAemB,EAAKM,aAC7Bf,EAAKV,IAAI,UAAWR,EAAMkC,KAAKC,WAC/BjB,EAAKV,IAAI,WAAYmB,EAAKS,UAC1BlB,EAAKV,IAAI,WAAYmB,EAAKU,OAXX,oBAaOnB,EAAKT,OAbZ,eAaRC,EAbQ,yBAcPA,GAdO,mCAgBdC,QAAQE,MAAM,4BAAd,MAhBc,0DAmBfF,QAAQE,MAAM,8BAAd,MAnBe,kEAAH,wDAyCRI,EAAW,uCAAG,WAAgBb,GAAhB,qBAAAC,EAAA,6DACbkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMI,QAAQ,WAAYzC,GANP,kBASCqC,EAAMK,QATP,cASZnB,EATY,OAUZjB,EAASqC,EAAUpB,GAVP,kBAWXjB,GAXW,kCAalBC,QAAQE,MAAM,4BAAd,MAbkB,0DAAH,sDAiBXmC,EAAW,uCAAG,WAAgBC,GAAhB,qBAAA5C,EAAA,6DACbkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMS,WAAW,aACjBT,EAAMU,MAAMF,EAAWG,QAAQ,GAAGH,EAAWI,SAASC,MAAML,EAAWI,SAPpD,kBAUCZ,EAAMc,OAVP,cAUZ5B,EAVY,OAWZ6B,EAAU7B,EAAK8B,IAAIV,GAXP,kBAYXS,GAZW,kCAclB7C,QAAQE,MAAM,4BAAd,MAdkB,0DAAH,sDAkBX6C,EAAgB,uCAAG,8BAAArD,EAAA,6DAClBkC,EAAOvC,EAAMO,OAAOiC,OAAO,QAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,GAHN,kBAKVE,EAAMkB,QALI,wEAOvBhD,QAAQE,MAAM,4BAAd,MAPuB,yDAAH,qDAWhB+C,EAAgB,uCAAG,WAAgBX,EAAWY,GAA3B,qBAAAxD,EAAA,6DAClBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMqB,QAAQ,SAAUD,EAAQ,KAChCpB,EAAMU,MAAMF,EAAWG,QAAQ,GAAGH,EAAWI,SAASC,MAAML,EAAWI,SAP/C,kBAUJZ,EAAMc,OAVF,cAUjB5B,EAViB,OAWjB6B,EAAU7B,EAAK8B,IAAIV,GAXF,kBAYhBS,GAZgB,kCAcvB7C,QAAQE,MAAM,4BAAd,MAduB,0DAAH,wDAkBhBkD,EAAqB,uCAAG,WAAgBF,GAAhB,iBAAAxD,EAAA,6DACvBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBuB,QAAQ,SAAUD,EAAQ,KAJH,kBAOfpB,EAAMkB,QAPS,wEAS5BhD,QAAQE,MAAM,4BAAd,MAT4B,yDAAH,sDAarBmD,EAAe,uCAAG,WAAgBf,EAAYY,GAA5B,qBAAAxD,EAAA,6DACjBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMqB,QAAQ,QAASD,EAAQ,KAC/BpB,EAAMU,MAAMF,EAAWG,QAAQ,GAAGH,EAAWI,SAASC,MAAML,EAAWI,SAPhD,kBAUHZ,EAAMc,OAVH,cAUhB5B,EAVgB,OAWhB6B,EAAU7B,EAAK8B,IAAIV,GAXH,kBAYfS,GAZe,kCActB7C,QAAQE,MAAM,4BAAd,MAdsB,0DAAH,wDAkBfoD,EAAoB,uCAAG,WAAgBJ,GAAhB,iBAAAxD,EAAA,6DACtBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBuB,QAAQ,QAASD,EAAQ,KAJH,kBAOdpB,EAAMkB,QAPQ,wEAS3BhD,QAAQE,MAAM,4BAAd,MAT2B,yDAAH,sDAcpBqD,EAAkB,uCAAG,WAAgBjB,EAAWY,GAA3B,qBAAAxD,EAAA,6DACpBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMI,QAAQ,WAAYgB,GAC1BpB,EAAMU,MAAMF,EAAWG,QAAQ,GAAGH,EAAWI,SAASC,MAAML,EAAWI,SAP7C,kBAUNZ,EAAMc,OAVA,cAUnB5B,EAVmB,OAWnB6B,EAAU7B,EAAK8B,IAAIV,GAXA,kBAYlBS,GAZkB,kCAczB7C,QAAQE,MAAM,4BAAd,MAdyB,0DAAH,wDAkBlBsD,EAAuB,uCAAG,WAAgBN,GAAhB,iBAAAxD,EAAA,6DACzBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBM,QAAQ,WAAYgB,GAJK,kBAOjBpB,EAAMkB,QAPW,wEAS9BhD,QAAQE,MAAM,4BAAd,MAT8B,yDAAH,sDAavBuD,EAAiB,uCAAG,WAAgBnB,EAAWY,GAA3B,qBAAAxD,EAAA,6DACnBgE,EAAa,IAAIrE,EAAM0C,MAAM,SACxBG,QAAQ,WAAYgB,EAAOS,sBAEhC7B,EAAQ,IAAIzC,EAAM0C,MAAM,SACxBE,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAM8B,aAAa,UAAWF,GAC9B5B,EAAMU,MAAMF,EAAWG,QAAQ,GAAGH,EAAWI,SAASC,MAAML,EAAWI,SAR9C,mBAWLZ,EAAMc,OAXD,eAWlB5B,EAXkB,OAYlB6B,EAAU7B,EAAK8B,IAAIV,GAZD,kBAajBS,GAbiB,kCAexB7C,QAAQE,MAAM,4BAAd,MAfwB,0DAAH,wDAmBjB2D,EAAsB,uCAAG,WAAgBX,GAAhB,iBAAAxD,EAAA,6DACxBgE,EAAa,IAAIrE,EAAM0C,MAAM,SACxBG,QAAQ,WAAYgB,EAAOS,sBAEhC7B,EAAQ,IAAIzC,EAAM0C,MAAM,SACxBE,QAAQ,WACdH,EAAM8B,aAAa,UAAWF,GANA,kBAShB5B,EAAMkB,QATU,0EAW7BhD,QAAQE,MAAM,4BAAd,MAX6B,0DAAH,sDAgBtB4D,EAAgB,uCAAG,kCAAApE,EAAA,6DAClBkC,EAAOvC,EAAMO,OAAOiC,OAAO,SAE3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAMS,WAAW,aAAaI,MAAM,GANZ,kBASJb,EAAMc,OATF,cASjB5B,EATiB,OAUjB6B,EAAU7B,EAAK8B,IAAIV,GAVF,kBAWhBS,GAXgB,kCAavB7C,QAAQE,MAAM,4BAAd,MAbuB,0DAAH,qDAiBhB6D,EAAiB,uCAAG,sCAAArE,EAAA,6DACnBsE,EAAa3E,EAAMO,OAAOiC,OAAO,eACjC6B,EAAa,IAAIrE,EAAM0C,MAAMiC,IACxB9B,QAAQ,OAAQ,GAErBN,EAAOvC,EAAMO,OAAOiC,OAAO,SAC3BC,EAAQ,IAAIzC,EAAM0C,MAAMH,IACxBK,QAAQ,WACdH,EAAMG,QAAQ,cACdH,EAAM8B,aAAa,aAAcF,GACjC5B,EAAMS,WAAW,aACjBT,EAAMa,MAAM,GAXa,oBAcLb,EAAMc,OAdD,eAclB5B,EAdkB,OAexBhB,QAAQC,IAAIe,GACN6B,EAAU7B,EAAK8B,IAAIV,GAhBD,kBAiBjBS,GAjBiB,mCAmBxB7C,QAAQE,MAAM,4BAAd,MAnBwB,2DAAH,qDAuBjBkC,EAAY,SAAC6B,GAClB,IAAMC,EAAUD,EAAOjC,IAAI,WAAWA,IAAI,YACpCf,EAAegD,EAAOjC,IAAI,cAAcmC,GACxCxE,EAASsE,EAAOjC,IAAI,cAAcA,IAAI,QACtCvB,EAAQwD,EAAOjC,IAAI,cAAcA,IAAI,SACrCoC,EAAO,IAAIC,KAAKJ,EAAOK,WAC3BC,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,YAErE,MAAO,CACNP,GAAIF,EAAOE,GACXG,UAAWF,EACXhD,MAAO6C,EAAOjC,IAAI,SAClBX,OAAQ4C,EAAOjC,IAAI,UACnBV,YAAa2C,EAAOjC,IAAI,eACxB2C,SAAUV,EAAOjC,IAAI,YACrBP,SAAUwC,EAAOjC,IAAI,YACrBvB,QACAd,SACAuE,UACAjD,iB,QCzRI2D,EAAkB,uCAAG,WAAOC,GAAP,qBAAAnF,EAAA,6DACjBoF,EAAe,IAAIzF,EAAMO,OAAO,sBAChCkC,EAAQ,IAAIzC,EAAM0C,MAAM+C,IACxB7C,QAAQ,SACdH,EAAMiD,YAAY,aAAc,CAACF,IAJV,kBAOA/C,EAAMc,OAPN,cAOb5B,EAPa,OAQb6B,EAAU7B,EAAK8B,IAAIV,GARN,kBASZS,GATY,kCAWnB7C,QAAQE,MAAM,yCAAd,MAXmB,0DAAH,sDAelB8E,EAAuB,uCAAG,WAAOC,GAAP,iBAAAvF,EAAA,6DACtBoF,EAAe,IAAIzF,EAAMO,OAAO,sBACzBC,IAAI,aAAc,IAC/BiF,EAAajF,IAAI,QAASoF,GAHE,kBAMHH,EAAahF,OANV,cAMlBC,EANkB,OAOxBC,QAAQC,IAAI,4BAA6BF,GAPjB,kBAQjBA,GARiB,kCAUxBC,QAAQE,MAAM,2CAAd,MAVwB,0DAAH,sDAevBgF,EAAgB,uCAAG,WAAO9E,EAAQ+E,EAAgBC,GAA/B,qBAAA1F,EAAA,6DACfoF,EAAe,IAAIzF,EAAMO,OAAO,qBAChCkC,EAAQ,IAAIzC,EAAM0C,MAAM+C,GAFT,kBAKEhD,EAAME,IAAImD,GALZ,cAKXnE,EALW,QAMZnB,IAAI,aAAT,sBAA2BuF,GAA3B,CAAuChF,KANtB,mBASQY,EAAKlB,OATb,QASPC,EATO,OAUbC,QAAQC,IAAI,4BAA6BF,GAV5B,kDAYbC,QAAQE,MAAM,yCAAd,MAZa,0DAejBF,QAAQE,MAAM,kDAAd,MAfiB,iEAAH,0DAmBhBmF,EAAkB,uCAAG,WAAOR,EAASM,GAAhB,uBAAAzF,EAAA,sEAEboF,EAAe,IAAIzF,EAAMO,OAAO,qBAChCkC,EAAQ,IAAIzC,EAAM0C,MAAM+C,GAHX,SAKAhD,EAAME,IAAImD,GALV,cAKbnE,EALa,QAObsE,EAAOtE,EAAKgB,IAAI,eACjBuD,OAAOD,EAAKE,QAAQX,GAAW,GACpC7D,EAAKnB,IAAI,aAAcyF,GATJ,UAWEtE,EAAKlB,OAXP,eAWbC,EAXa,OAYnBC,QAAQC,IAAI,4BAA6BF,GAZtB,mBAaZ,GAbY,kCAenBC,QAAQE,MAAM,2CAAd,MAfmB,0DAAH,wDAmBlBkC,EAAY,SAAC6B,GAClB,IACMG,EADY,IAAIC,KAAKJ,EAAOjC,IAAI,SAASA,IAAI,SAEjDuC,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,UAAWe,KAAM,UAAWC,OAAQ,UAAUC,QAAQ,IAC3H,MAAO,CACNR,eAAgBlB,EAAOE,GACvByB,KAAM3B,EAAOjC,IAAI,SAASA,IAAI,QAC9B2C,SAAUV,EAAOjC,IAAI,SAASA,IAAI,YAClC6D,OAAQ5B,EAAOjC,IAAI,SAASA,IAAI,UAChCoC,OACM0B,QAAQ7B,EAAOjC,IAAI,SAASmC,KC5F9B4B,EAAW,uCAAG,WAAO/E,GAAP,qBAAAtB,EAAA,uEAEZuF,EAAQ,IAAI5F,EAAMO,OAAO,UACzBC,IAAI,OAAQmB,EAAK4E,MACvBX,EAAMpF,IAAI,OAAQmB,EAAKoD,MACvBa,EAAMpF,IAAI,cAAemB,EAAKM,aAC9B2D,EAAMpF,IAAI,UAAWR,EAAMkC,KAAKC,WAChCyD,EAAMpF,IAAI,WAAY,IAAIR,EAAM2G,SAAS,CAACC,SAAUjF,EAAKkF,SAAS,GAAIC,UAAWnF,EAAKkF,SAAS,MAC/FjB,EAAMpF,IAAI,WAAYmB,EAAKU,OAC3BuD,EAAMpF,IAAI,SAAUmB,EAAK6E,QATP,UAUKZ,EAAMnF,OAVX,eAUZsG,EAVY,iBAYSpB,EAAwBoB,GAZjC,eAYZtB,EAZY,OAclBsB,EAASvG,IAAI,eAAgBiF,GAdX,UAeGsB,EAAStG,OAfZ,eAeZC,EAfY,yBAiBXA,GAjBW,kCAmBlBC,QAAQE,MAAM,+BAAd,MAnBkB,0DAAH,sDAuBXmG,EAAS,uCAAG,WAAOP,EAAS9E,GAAhB,qBAAAtB,EAAA,6DACXuF,EAAQ5F,EAAMO,OAAOiC,OAAO,SAC5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,GAFb,kBAKInD,EAAME,IAAI8D,GALd,cAKVb,EALU,QAMVpF,IAAI,OAAQmB,EAAK4E,MACvBX,EAAMpF,IAAI,OAAQmB,EAAKoD,MACvBa,EAAMpF,IAAI,cAAemB,EAAKM,aAC9B2D,EAAMpF,IAAI,UAAWR,EAAMkC,KAAKC,WAChCyD,EAAMpF,IAAI,WAAY,IAAIR,EAAM2G,SAAS,CAACC,SAAUjF,EAAKkF,SAAS,GAAIC,UAAWnF,EAAKkF,SAAS,MAC/FjB,EAAMpF,IAAI,WAAYmB,EAAKU,OAXX,oBAcMuD,EAAMnF,OAdZ,eAcTC,EAdS,yBAeRA,GAfQ,mCAiBfC,QAAQE,MAAM,6BAAd,MAjBe,0DAoBhBF,QAAQE,MAAM,+BAAd,MApBgB,kEAAH,wDAwBToG,EAAW,uCAAG,WAAOR,GAAP,qBAAApG,EAAA,6DACbuF,EAAQ5F,EAAMO,OAAOiC,OAAO,SAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,GAHX,kBAMEnD,EAAME,IAAI8D,GANZ,cAMZb,EANY,gBAQjBA,EAAMpF,IAAI,SAAU,aARH,UASIoF,EAAMnF,OATV,eASXC,EATW,yBAUVA,GAVU,kCAYjBC,QAAQE,MAAM,6BAAd,MAZiB,0DAelBF,QAAQE,MAAM,+BAAd,MAfkB,iEAAH,sDAmBXqG,EAAY,uCAAG,WAAgBT,GAAhB,qBAAApG,EAAA,6DACduF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IACxBhD,QAAQ,WACdH,EAAMG,QAAQ,gBACdH,EAAMI,QAAQ,WAAY4D,GANN,kBASAhE,EAAMK,QATN,cASbnB,EATa,OAUbjB,EAASqC,GAAUpB,GAVN,kBAWZjB,GAXY,kCAanBC,QAAQE,MAAM,6BAAd,MAbmB,0DAAH,sDAiBZsG,EAAY,uCAAG,WAAgBlE,GAAhB,qBAAA5C,EAAA,6DACduF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IAGxB1C,WAAW,aACjBT,EAAMU,MAAMF,EAAWG,QAAU,GAAKH,EAAWI,SAASC,MAAML,EAAWI,SAPvD,kBAUAZ,EAAMc,OAVN,cAUb5B,EAVa,OAWb6B,EAAU7B,EAAK8B,IAAIV,IAXN,kBAYZS,GAZY,kCAcnB7C,QAAQE,MAAM,6BAAd,MAdmB,0DAAH,sDAkBZuG,GAAiB,uCAAG,8BAAA/G,EAAA,6DACnBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,SAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,GAHL,kBAKXnD,EAAMkB,QALK,wEAOxBhD,QAAQE,MAAM,6BAAd,MAPwB,yDAAH,qDAWjBwG,GAAe,uCAAG,WAAgBpE,GAAhB,qBAAA5C,EAAA,6DACjBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IAGxB/C,QAAQ,SAAS,UACvBJ,EAAM6E,YAAY,OAAO,IAAItC,MAC7BvC,EAAM8E,UAAU,QAChB9E,EAAMU,MAAMF,EAAWG,QAAU,GAAKH,EAAWI,SAASC,MAAML,EAAWI,SATpD,kBAYHZ,EAAMc,OAZH,cAYhB5B,EAZgB,OAahB6B,EAAU7B,EAAK8B,IAAIV,IAbH,kBAcfS,GAde,kCAgBtB7C,QAAQE,MAAM,6BAAd,MAhBsB,0DAAH,sDAoBf2G,GAAoB,uCAAG,8BAAAnH,EAAA,6DACtBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IAGxB/C,QAAQ,SAAS,UACvBJ,EAAM6E,YAAY,OAAO,IAAItC,MAC7BvC,EAAM8E,UAAU,QARY,kBAUd9E,EAAMkB,QAVQ,0EAY3BhD,QAAQE,MAAM,6BAAd,MAZ2B,0DAAH,qDAgBpB4G,GAAkB,uCAAG,WAAgBxE,GAAhB,qBAAA5C,EAAA,6DACpBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IAGxB/C,QAAQ,SAAS,aACvBJ,EAAM6E,YAAY,OAAO,IAAItC,MAC7BvC,EAAM8E,UAAU,QAChB9E,EAAMU,MAAMF,EAAWG,QAAU,GAAKH,EAAWI,SAASC,MAAML,EAAWI,SATjD,kBAYNZ,EAAMc,OAZA,cAYnB5B,EAZmB,OAanB6B,EAAU7B,EAAK8B,IAAIV,IAbA,kBAclBS,GAdkB,kCAgBzB7C,QAAQE,MAAM,6BAAd,MAhByB,0DAAH,sDAoBlB6G,GAAuB,uCAAG,8BAAArH,EAAA,6DACzBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IAGxB/C,QAAQ,SAAS,aACvBJ,EAAM6E,YAAY,OAAO,IAAItC,MAC7BvC,EAAM8E,UAAU,QARe,kBAUjB9E,EAAMkB,QAVW,0EAY9BhD,QAAQE,MAAM,6BAAd,MAZ8B,0DAAH,qDAgBvB8G,GAAW,uCAAG,WAAgBnC,EAAUvC,GAA1B,uBAAA5C,EAAA,6DACbgE,EAAa,IAAIrE,EAAM0C,MAAM,SACxBG,QAAQ,WAAY2C,EAASlB,qBAClCsB,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IACxBhD,QAAQ,WAEdH,EAAMS,WAAW,aACjBT,EAAM8B,aAAa,UAAWF,GAC9B5B,EAAMU,MAAMF,EAAWG,QAAU,GAAKH,EAAWI,SAASC,MAAML,EAAWI,SAVxD,mBAaCZ,EAAMc,OAbP,eAaZ5B,EAbY,OAcZ6B,EAAU7B,EAAK8B,IAAIV,IAdP,kBAeXS,GAfW,kCAiBlB7C,QAAQE,MAAM,6BAAd,MAjBkB,0DAAH,wDAqBX+G,GAAgB,uCAAG,WAAgBpC,GAAhB,mBAAAnF,EAAA,6DAClBgE,EAAa,IAAIrE,EAAM0C,MAAM,SACxBG,QAAQ,WAAY2C,EAASlB,qBAClCsB,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IACxBhD,QAAQ,WAEdH,EAAMS,WAAW,aACjBT,EAAM8B,aAAa,UAAWF,GATN,mBAYV5B,EAAMkB,QAZI,2EAcvBhD,QAAQE,MAAM,6BAAd,MAduB,0DAAH,sDAkBhBgH,GAAiB,uCAAG,kCAAAxH,EAAA,6DACnBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAE5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IACxBhD,QAAQ,WAEdH,EAAMS,WAAW,aAAaI,MAAM,GANX,kBASLb,EAAMc,OATD,cASlB5B,EATkB,OAUlB6B,EAAU7B,EAAK8B,IAAIV,IAVD,kBAWjBS,GAXiB,kCAaxB7C,QAAQE,MAAM,6BAAd,MAbwB,0DAAH,qDAiBjBiH,GAAmB,uCAAG,kCAAAzH,EAAA,6DACrBuF,EAAQ5F,EAAMO,OAAOiC,OAAO,UAC5BC,EAAQ,IAAIzC,EAAM0C,MAAMkD,IACxBhD,QAAQ,WAEdH,EAAMI,QAAQ,SAAS,UACvBJ,EAAM6E,YAAY,OAAO,IAAItC,MAC7BvC,EAAMS,WAAW,QACjBT,EAAMa,MAAM,GARe,mBAWPb,EAAMc,OAXC,eAWpB5B,EAXoB,OAYpB6B,EAAU7B,EAAK8B,IAAIV,IAZC,kBAanBS,GAbmB,kCAe1B7C,QAAQE,MAAM,6BAAd,MAf0B,0DAAH,qDAmBnBkC,GAAY,SAAC6B,GAClB,IAAMC,EAAUD,EAAOjC,IAAI,WAAWA,IAAI,YACpCmD,EAAiBlB,EAAOjC,IAAI,gBAAgBmC,GAC5CiB,EAAanB,EAAOjC,IAAI,gBAAgBA,IAAI,cAC5CsC,EAAY,IAAID,KAAKJ,EAAOK,WAChCC,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,UAAWe,KAAM,UAAWC,OAAQ,UAAUC,QAAQ,IACrHyB,EAAY,IAAI/C,KAAKJ,EAAOjC,IAAI,SAChCoC,EAAOgD,EACX7C,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,UAAWe,KAAM,UAAWC,OAAQ,UAAUC,QAAQ,IAEpH0B,EAAQ,CACd7C,KAAK4C,EAAYE,cACjB7C,MAAO2C,EAAYG,WAAW,EAC9B7C,IAAI0C,EAAYI,UAChB/B,KAAM2B,EAAYK,WAClB/B,OAAO0B,EAAYM,cAIpB,OAFA1H,QAAQC,IAAIoH,GAEL,CACNlD,GAAIF,EAAOE,GACXG,YACAsB,KAAM3B,EAAOjC,IAAI,QACjBV,YAAa2C,EAAOjC,IAAI,eACxB2C,SAAUV,EAAOjC,IAAI,YACrB6D,OAAQ5B,EAAOjC,IAAI,UACnBkE,SAAS,CAACjC,EAAOjC,IAAI,YAAY2F,UAAU1D,EAAOjC,IAAI,YAAY4F,YAClExD,OACAF,UACAiB,iBACAC,aACAiC,YC5QaQ,I,MAxBA,WAEb,OACE,qBAAKC,UAAU,oBAAf,SACE,qBAAKA,UAAU,UAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,iCCuBKC,I,YA1CO,SAACjJ,EAAiBkJ,GAEtC,IAAMC,EAAY,CAChB,CACE7G,MAAO,QACP8G,KAAM,UAER,CACE9G,MAAO,SACP8G,KAAM,WAER,CACE9G,MAAO,UACP8G,KAAK,YAAD,OAAcpJ,GAAmBkJ,EAAK5H,SAE5C,CACEgB,MAAO,SACP8G,KAAM,YAsBV,OAAOpJ,EAAkBmJ,EAlBN,CACjB,CACE7G,MAAO,QACP8G,KAAM,UAER,CACE9G,MAAO,SACP8G,KAAM,WAER,CACE9G,MAAO,WACP8G,KAAM,aAER,CACE9G,MAAO,QACP8G,KAAM,aCtBGC,I,MAVC,SAAC,GAA2B,IAAzB/G,EAAwB,EAAxBA,MAAOgH,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KAC9B,OACE,qBAAMP,UAAS,UAAKO,EAAL,cAAf,SACE,cAAC,IAAD,CAAMtJ,GAAIqJ,EAAMN,UAAS,UAAKO,EAAL,SAAzB,SACGjH,QCIMkH,I,MARE,SAACC,GAChB,OACE,cAAC,IAAD,CAAMxJ,GAAG,QAAT,SACGwJ,EAAMC,aC0CEC,GAtCA,WACb,MAAiC5J,qBAAWJ,GAApCuJ,EAAR,EAAQA,KAAKlJ,EAAb,EAAaA,gBACb,EAA0B4J,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACRD,EAASb,GAAcjJ,EAAiBkJ,MACvC,CAACA,IAEJ,IAAM5D,GAAO,IAAIC,MAAOE,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,YAE3F,OACE,yBAAQoD,UAAU,iBAAlB,UACE,sBAAKA,UAAU,wBAAf,UACE,sBAAMA,UAAU,cAAhB,SACE,cAAC,GAAD,CAAUM,KAAK,QAAQN,UAAU,YAAjC,SAA8C,qBAAKgB,IAAI,OAAOhB,UAAU,kBAAkBiB,IAAI,6BAEhG,sBAAKjB,UAAU,cAAf,UACE,sBAAMA,UAAU,aAAhB,gCACA,+BAAO1D,UAGX,qBAAK0D,UAAU,kBAAf,SAEIa,EAAM7F,KAAI,SAAAkG,GACR,OACE,cAAC,GAAD,CAEEZ,KAAMY,EAAEd,KACR9G,MAAO4H,EAAE5H,MACTiH,KAAK,UAHAW,EAAE5H,gBCnBR6H,I,MAbA,WACb,OACE,yBAAQnB,UAAU,iBAAlB,UACE,sBAAKA,UAAU,wBAAf,UACE,sBAAMA,UAAU,cAAhB,SACE,cAAC,GAAD,CAAUM,KAAK,QAAf,SAAwB,qBAAKU,IAAI,OAAOhB,UAAU,kBAAkBiB,IAAI,6BAE1E,sBAAMjB,UAAU,cAAhB,qCAEF,sE,0BCRNoB,KAAQrJ,IAAI,WAAW,OAAO,CAAEsJ,QAAQ,IAExC,IAAMC,GAAiB,SAACC,GACtBC,OAAOC,SAAS,EAAG,IA6BNC,GApBE,WACf,IAAMC,EAAWC,mBANbJ,OAAOK,QAAU,GACnBL,OAAOC,SAAS,EAAG,GAmBrB,OAFAD,OAAOM,iBAAiB,UARL,WACbN,OAAOO,YAAc,KAAOP,OAAOQ,aACjCL,EAASjI,UACXiI,EAASjI,QAAQuI,MAAMC,QAAU,YAQrC,wBAAQC,IAAKR,EAAU3B,UAAS,kBAAqBoC,QAASd,GAA9D,SAA8E,mBAAGtB,UAAU,uBChBhFqC,GAbI,SAAC5B,GAClB,OACE,sBAAKT,UAAU,eAAf,UACE,cAAC,GAAD,IACA,qBAAKA,UAAU,qBAAf,SACKS,EAAMC,WAEX,cAAC,GAAD,IACA,cAAC,GAAD,QCXO4B,I,MAAwB,CAAC,UAAW,UAAW,kBAAmB,YAAa,UAAW,YAAa,SAAU,WAAY,qBAAsB,aAAc,SAAU,uBAAwB,kBAAmB,YAAa,UAAW,MAAO,cAAe,eAAgB,mBAAoB,UAAW,0BAA2B,mBAAmB,SAAU,qBAE3WC,GAAiB,+BAEjBC,GAAkB,gCAElBC,GAAqB,CAC9BnK,OAAQ,GACRyE,SAAU,GACV2F,aAAc,IAGLC,GAA0B,CACnC5F,SAAU,GACV6F,SAAU,GACVC,OAAQ,IAGCC,GAAgC,CACzC/F,SAAU,KACV6F,SAAU,KACVC,OAAQ,KACRE,OAAQ,KACRC,YAAY,MAGHC,GAAqB,CAC9B5G,GAAI,GACJ/C,MAAO,GACPC,OAAQ,GACRC,YAAa,GACbqD,SAAU,GACVhF,OAAQ,GACR2E,UAAW,GACX0G,WAAW,IAGFC,GAAgC,CACzC7J,MAAO,KACPC,OAAQ,KACRK,MAAO,KACPJ,YAAa,KACb4J,SAAS,MAGAC,GAAsB,CAC/BhH,GAAI,GACJyB,KAAM,GACNxB,KAAM,GACN8B,SAAU,GACV5E,YAAa,GACbqD,SAAU,GACVkB,OAAQ,GACRvB,UAAU,GACVJ,QAAQ,GACRmD,QAAQ,IAGC+D,GAAiC,CAC1CxF,KAAK,KACLxB,KAAM,KACN8B,SAAU,KACV5E,YAAa,KACbI,MAAO,KACPwJ,SAAS,MAGAG,GAAkB,CAAC,SAAU,UAE7BC,GAAqB,CAAC,SAAU,UAIhCC,GAA2B,CACpCC,MAAK,EACLC,QAAQ,GACR1L,OAAO,IC5DI2L,I,MAfF,SAAC,GAAgB,IAAd/L,EAAa,EAAbA,OAENgM,EAAQC,MDLc,GCKYC,KAAK,GAE7C,OACI,mCACKF,EAAM7I,KAAI,SAACkG,EAAG8C,GAAJ,OACPA,EAAInM,EACG,sBAAcmI,UAAU,sBAAbgE,GACX,sBAAchE,UAAU,cAAbgE,UCenBC,GArBQ,SAAC,GAAmD,IAAjD5H,EAAgD,EAAhDA,GAAIQ,EAA4C,EAA5CA,SAAUvD,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,OAA2B,IAAnB1B,cAAmB,MAAV,IAAU,EAEtE,OACI,sBAAKmI,UAAU,mBAAf,UACI,sBAAMA,UAAU,uBAAhB,SACI,qBAAKiB,IAAKpE,GAAqB,oBAAqBmE,IAAI,iBAE5D,sBAAKhB,UAAU,2BAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAe/I,GAAE,iBAAYoF,GAA7C,kBACA,sBAAK2D,UAAU,gCAAf,UACI,8BAAG,sBAAMA,UAAU,mCAAhB,qBAAmE1G,KACtE,kCAAI,sBAAM0G,UAAU,mCAAhB,uBAAoEzG,KACxE,8BAAG,sBAAMyG,UAAU,mCAAhB,sBACC,cAAC,GAAD,CAAMnI,OAAQA,iBCKvBqM,I,MApBS,SAAC,GAAoD,IAAlD7H,EAAiD,EAAjDA,GAAIQ,EAA6C,EAA7CA,SAAUiB,EAAmC,EAAnCA,KAAMxB,EAA6B,EAA7BA,KAAMyB,EAAuB,EAAvBA,OAAOvB,EAAgB,EAAhBA,UAExD,OACI,sBAAKwD,UAAU,oBAAf,UACI,sBAAMA,UAAU,wBAAhB,SACI,qBAAKiB,IAAKpE,GAAqB,qBAAsBmE,IAAI,kBAE7D,sBAAKhB,UAAU,4BAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAe/I,GAAE,kBAAaoF,GAA9C,kBACA,sBAAK2D,UAAU,iCAAf,UACI,8BAAG,sBAAMA,UAAU,oCAAhB,qBAAoElC,KACvE,kCAAI,sBAAMkC,UAAU,yCAAhB,qBAAwE1D,KAC5E,8BAAG,sBAAM0D,UAAU,oCAAhB,sBAAoEjC,KACvE,oBAAGiC,UAAU,YAAb,cAA2B,sBAAMA,UAAU,8CAAhB,0BAAkFxD,gBC+GlH2H,GAlHF,WACX,MAA0BvD,mBAAS,IAAnC,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAA4BzD,mBAAS,IAArC,mBAAO0D,EAAP,KAAeC,EAAf,KACA,EAAkC3D,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAAgD7D,mBAAS,YAAzD,mBAAO8D,EAAP,KAAyBC,EAAzB,KACA,EAA8C/D,mBAAS,IAAvD,mBAAOgE,EAAP,KAAwBC,EAAxB,KACA,EAAsDjE,mBAAS,YAA/D,mBAAOkE,EAAP,KAA4BC,EAA5B,KACA,EAAkDnE,mBAAS,IAA3D,mBAAOoE,EAAP,KAA0BC,EAA1B,KAEAlE,qBAAU,WACR0D,GAAa,GACbS,IACAP,EAAoB,YACpBQ,IACAJ,EAAuB,YACvBN,GAAa,KACZ,IAGH,IAAMW,EAAqB,uCAAG,4BAAAxN,EAAA,6DAC5B6M,GAAa,GADe,SAEVxI,IAFU,OAEtBoJ,EAFsB,OAG5BZ,GAAa,GACbJ,EAASgB,GACTR,EAAmB,YACnBF,EAAoB,IANQ,2CAAH,qDASrBO,EAAkB,uCAAG,4BAAAtN,EAAA,6DACzB6M,GAAa,GADY,SAEPzI,IAFO,OAEnBqJ,EAFmB,OAGzBZ,GAAa,GACbJ,EAASgB,GACTV,EAAoB,YACpBE,EAAmB,IANM,2CAAH,qDASlBM,EAAkB,uCAAG,4BAAAvN,EAAA,6DACzB6M,GAAa,GADY,SAEPrF,KAFO,OAEnBiG,EAFmB,OAGzBZ,GAAa,GACbF,EAAUc,GACVJ,EAAqB,YACrBF,EAAuB,IANE,2CAAH,qDASlBO,EAAqB,uCAAG,4BAAA1N,EAAA,6DAC5B6M,GAAa,GADe,SAEVpF,KAFU,OAEtBgG,EAFsB,OAG5BZ,GAAa,GACbF,EAAUc,GACVN,EAAuB,YACvBE,EAAqB,IANO,2CAAH,qDASrBM,EACJ,sBAAKvF,UAAU,kBAAf,UACE,0BAASA,UAAU,uBAAnB,UACE,2EACA,oBAAIA,UAAU,oBAAd,iCACA,iDACA,iFAJF,0OAOA,yBAASA,UAAU,sBAAnB,SACE,qBAAKiB,IAAI,+BAA+BD,IAAI,sBAKlD,OAAIwD,EAEA,eAAC,GAAD,WACGe,EACD,cAAC,GAAD,QAKNrN,QAAQC,IAAI,UAGV,eAAC,GAAD,WACGoN,EACD,sBAAKvF,UAAU,+BAAf,UACE,0BAASA,UAAU,wBAAnB,UACE,qBAAKA,UAAU,kBAAf,SACGoE,EAAMpJ,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA2B7E,GAAI6E,EAAE7E,GAAIQ,SAAUqE,EAAErE,SAAUvD,MAAO4H,EAAE5H,MAAOC,OAAQ2H,EAAE3H,OAAQ1B,OAAQqJ,EAAErJ,QAAlFqJ,EAAE7E,SAExC+H,EAAMnL,OAAS,EACZ,sBAAK+G,UAAU,kBAAf,UACA,mBAAGA,UAAS,gBAAW0E,GAAoBtC,QAAS8C,EAApD,0BACA,mBAAGlF,UAAS,gBAAW4E,GAAmBxC,QAASgD,EAAnD,iCAEA,oDAGN,0BAASpF,UAAU,yBAAnB,UACE,qBAAKA,UAAU,mBAAf,SACGsE,EAAOtJ,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA4B7E,GAAI6E,EAAE7E,GAAIQ,SAAUqE,EAAErE,SAAUiB,KAAMoD,EAAEpD,KAAMtB,UAAW0E,EAAE1E,UAAWF,KAAM4E,EAAE5E,KAAMyB,OAAQmD,EAAEnD,QAApGmD,EAAE7E,SAE1CiI,EAAOrL,OAAS,EACb,sBAAK+G,UAAU,kBAAf,UACA,mBAAGA,UAAS,gBAAWgF,GAAqB5C,QAAS+C,EAArD,2BACA,mBAAGnF,UAAS,gBAAW8E,GAAuB1C,QAASkD,EAAvD,gCAEA,6DClGCE,I,MAjBC,WACZ,OACI,sBAAKxF,UAAU,uBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,uDAEJ,qBAAKA,UAAU,cAAf,SACI,6EAEJ,sBAAKA,UAAU,aAAf,UACI,4CACA,cAAC,IAAD,CAAM/I,GAAG,QAAT,SAAkB,mBAAG+I,UAAU,iCCDhCyF,I,MAXC,WACZ,OACI,sBAAKzF,UAAU,WAAf,UACI,uDACA,4BACI,cAAC,IAAD,CAAM/I,GAAG,QAAT,wC,wBCaVyO,GAAqB,SAACnF,EAAMhI,GAE9B,GAAa,UAATgI,GACIhI,EAAMoN,OAAO1M,OAAS,EACtB,MAAO,6CAIf,GAAa,WAATsH,IACIhI,EAAMoN,OAAO1M,OAAS,GAAKV,EAAMoN,OAAS,IAC1C,MAAO,qDAIf,GAAa,gBAATpF,EAAwB,CACxB,GAA4B,IAAxBhI,EAAMoN,OAAO1M,OACb,MAAO,gCAEX,GAAIV,EAAMoN,OAAO1M,OAAS,IACtB,MAAO,gDAIf,MAAa,aAATsH,GACIhI,EAAMqN,KAAO,IAAMrN,EAAMgI,KAAKsF,SAAS,SAChC,8CAIR,MAELC,GAAsB,SAACvF,EAAMhI,EAAMoE,GAErC,GAAa,SAAT4D,GACIhI,EAAMoN,OAAO1M,OAAS,EACtB,MAAO,6CAIf,GAAa,SAATsH,EAAiB,CACjB,IAAMwF,EAAMxJ,KAAKwJ,MAEjB,GADA7N,QAAQC,IAAII,IACPA,GAA+B,OAAtBA,EAAMiH,eAA8B,KAAR7C,EACtC,MAAO,mBAEX,GAAIoJ,EAAMxN,EACN,MAAO,gCAIf,GAAa,gBAATgI,EAAwB,CACxB,GAA4B,IAAxBhI,EAAMoN,OAAO1M,OACb,MAAO,iCAEX,GAAIV,EAAMoN,OAAO1M,OAAS,IACtB,MAAO,iDAIf,MAAa,aAATsH,GACIhI,EAAMqN,KAAO,IAAMrN,EAAMgI,KAAKsF,SAAS,SAChC,8CAIR,MAGLG,GAAuB,SAACC,EAAU1N,GACpC,OAAK0N,GAAa1N,GAA6B,KAApB0N,EAASN,QAAkC,KAAjBpN,EAAMoN,OAGpD,KAFI,4FAKTO,GAAwB,SAAC3N,GAC3B,OAA4B,IAAxBA,EAAMoN,OAAO1M,QAAgBV,EAAMoN,OAAO1M,OAAS,IAC5C,0DAEJ,MC3EPkN,IAAyB,EACzBC,IAAyB,EAEzBC,GAAc,CACdJ,SAAS,KACT7K,OAAO,MA2JIkL,GAxJO,SAACvJ,GACnB,MAA0B6D,mBAAS,CAAC2F,KAAI,IAAxC,mBAAOvM,EAAP,KAAcwM,EAAd,KACA,EAA0B5F,mBAAS,IAAnC,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAAoCzD,mBAAS,CAAEjG,QAAS,EAAGC,QAAS,EAAG6L,WAAY,EAAGvL,MAAO,IAA7F,mBAAOV,EAAP,KAAmBkM,EAAnB,KACA,EAAkC9F,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA8C7D,mBAAS,MAAvD,mBAAO+F,EAAP,KAAwBC,EAAxB,KAEMC,EAAmB,uCAAG,8BAAAjP,EAAA,yDAExB6M,GAAa,GACTvJ,EAAQ,GACRlB,EAAMuM,IAJc,gCAKNtL,IALM,OAKpBC,EALoB,kBAOpBlB,EAAM8M,QAPc,iCAQN/K,EAAuB/B,EAAM8M,SARvB,OAQpB5L,EARoB,mBAUpBlB,EAAM+M,SAVc,kCAWNhL,EAAuB/B,EAAM+M,UAXvB,QAWpB7L,EAXoB,mBAapBlB,EAAML,SAbc,kCAcN+B,EAAwB1B,EAAML,UAdxB,QAcpBuB,EAdoB,mBAgBpBlB,EAAMT,OAhBc,kCAiBN+B,EAAsBtB,EAAMT,QAjBtB,QAiBpB2B,EAjBoB,mBAmBpBlB,EAAMV,MAnBc,kCAoBNkC,EAAqBxB,EAAMV,OApBrB,QAoBpB4B,EApBoB,gBAsBlBuL,EAAa1N,KAAKiO,KAAK9L,EAAQV,EAAWI,WACjC,IACXuL,IAAyB,EACzBC,IAAyB,GAE1BK,EAAW,IACVN,IAAyB,GAG7BO,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgB/L,QAAOuL,kBACzChC,GAAa,GAhCW,4CAAH,qDAmCnByC,EAAkB,uCAAG,4BAAAtP,EAAA,yDACvB6M,GAAa,GACTL,EAAQ,IACRpK,EAAMuM,IAHa,gCAILhM,EAAYC,GAJP,OAInB4J,EAJmB,kBAMnBpK,EAAM8M,QANa,iCAOLnL,EAAkBnB,EAAYR,EAAM8M,SAP/B,OAOnB1C,EAPmB,mBASnBpK,EAAM+M,SATa,kCAULpL,EAAkBnB,EAAYR,EAAM+M,UAV/B,QAUnB3C,EAVmB,mBAYnBpK,EAAML,SAZa,kCAaL8B,EAAmBjB,EAAYR,EAAML,UAbhC,QAanByK,EAbmB,mBAenBpK,EAAMT,OAfa,kCAgBL4B,EAAiBX,EAAYR,EAAMT,QAhB9B,QAgBnB6K,EAhBmB,mBAkBnBpK,EAAMV,MAlBa,kCAmBLiC,EAAgBf,EAAYR,EAAMV,OAnB7B,QAmBnB8K,EAnBmB,eAsBvBK,GAAa,GACbJ,EAASD,GAvBc,4CAAH,qDA6ClB+C,EAAqB,uCAAG,sBAAAvP,EAAA,sDAC1BgP,EAAmB,MACnBF,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAQ,OAC1C6L,EAAS,CAACM,QAAQ/J,IAClBsJ,GAAc,CAAEJ,SAAUlJ,EAAW,WAAY3B,OAAQ,SAJ/B,2CAAH,qDAQrBgM,EAAsB,uCAAG,sBAAAxP,EAAA,sDAC3BgP,EAAmB,MACnBF,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAQ,OAC1C6L,EAAS,CAACD,KAAI,IACdF,GAAcJ,SAAS,KAJI,2CAAH,qDAQtBoB,EAAqB,uCAAG,WAAO9F,GAAP,qBAAA3J,EAAA,yDAC1B2J,EAAE+F,iBACIC,EAAW,IAAIC,SAASjG,EAAEkG,QAC1BrM,EAASmM,EAASrN,IAAI,UACtB+L,EAAWsB,EAASrN,IAAI,YACxB9B,EAAQ4N,GAAqBC,EAAU7K,GAE7CwL,EAAmBxO,IACfA,EARsB,iDAY1BsO,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAQ,OAC1C6L,EAAS,gBAAEP,EAAU7K,IAEJ,aAAb6K,IACAI,GAAc,CAAEJ,SAAU,QAAS7K,WAEtB,aAAb6K,IACAI,GAAc,CAAEJ,SAAU,mBAAoB7K,WAEjC,WAAb6K,IACAI,GAAc,CAAEJ,SAAU,gBAAiB7K,WAE9B,UAAb6K,IACAI,GAAc,CAAEJ,SAAU,eAAgB7K,WAE9CmG,EAAEkG,OAAOC,QA3BiB,4CAAH,sDA8B3B,MAAO,CACH1N,QACAoK,QACA5J,aACAgK,YACAmC,kBACAN,iBACAF,4BACAC,4BACAuB,gBAjEoB,WACpB,IAAMhN,EAAUH,EAAWG,QAAU,EACrB,IAAZA,IACAyL,IAAyB,GAEzBD,IAAyB,EAC7BO,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAQA,QA4D1CiN,gBA3EoB,WACpB,IAAMjN,EAAUH,EAAWG,QAAU,EACjCA,GAAWH,EAAWiM,aACtBN,IAAyB,GAEzBC,IAAyB,EAC7BM,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAQA,QAsE1CwM,wBACAC,yBACAC,wBACAR,sBACAK,uBC9KOW,I,MAND,SAAC,GAAe,IAAbvO,EAAY,EAAZA,MACf,OACE,oBAAI0G,UAAU,aAAd,SAA4B1G,MCIjBwO,I,MANS,SAAC,GAAiB,IAAfnE,EAAc,EAAdA,QACzB,OACE,mBAAG3D,UAAU,mBAAb,SAAiC2D,MC8HtBoE,GArHD,WACb,MAAiChR,qBAAWJ,GAApCuJ,EAAR,EAAQA,KAAKlJ,EAAb,EAAaA,gBACb,EAgBIsP,GAAcpG,EAAKnD,UAftB/C,EADD,EACCA,MACAoK,EAFD,EAECA,MACA5J,EAHD,EAGCA,WACAgK,EAJD,EAICA,UACAmC,EALD,EAKCA,gBACAN,EAND,EAMCA,cACAF,EAPD,EAOCA,yBACAC,EARD,EAQCA,yBACAuB,EATD,EASCA,gBACAC,EAVD,EAUCA,gBACAT,EAXD,EAWCA,sBACAC,EAZD,EAYCA,uBACAC,EAbD,EAaCA,sBACAR,EAdD,EAcCA,oBACAK,EAfD,EAeCA,mBAIDnG,qBAAU,WACT8F,MACC,CAAC7M,IAGH+G,qBAAU,WACNvG,EAAWU,MAAM,GACnBgM,MAEC,CAAC1M,IAGJ,IAAMwN,EACL,qBAAKhI,UAAU,kBAAf,SACC,sBAAKA,UAAU,uBAAf,UACC,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,yBAAyBoC,QAAS+E,EAAlD,2BAKGc,EACL,qBAAKjI,UAAU,mBAAf,SACC,sBAAKA,UAAU,wBAAf,UACC,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,0BAA0BoC,QAASgF,EAAnD,4BAKGc,EACL,sCACGlO,EAAMuM,KAAOF,EAAcJ,UAAY,oBAAGjG,UAAU,iBAAb,wBAA2C,iCAASxF,EAAWU,QAA/D,iCAAgH,iCAASmL,EAAcjL,SAAvI,iBAAyK,iCAASiL,EAAcJ,WAAhM,WACxCjM,EAAMuM,KAAO,mBAAGvG,UAAU,iBAAb,6BACd,sBAAKA,UAAU,yBAAf,UACC,wBAAQA,UAAU,aAAamI,SAAU/B,EAA0BhE,QAASuF,EAA5E,oBACA,qBAAK3H,UAAU,wBAAf,SACEoE,EAAMpJ,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA2B7E,GAAI6E,EAAE7E,GAAIQ,SAAUqE,EAAErE,SAAUvD,MAAO4H,EAAE5H,MAAOC,OAAQ2H,EAAE3H,OAAQ1B,OAAQqJ,EAAErJ,QAAlFqJ,EAAE7E,SAExC,wBAAQ2D,UAAU,aAAamI,SAAUhC,EAA0B/D,QAASwF,EAA5E,uBAED,oBAAG5H,UAAU,eAAb,UAAsD,IAAxBxF,EAAWiM,WAAgBjM,EAAWG,QAAQ,EAAEH,EAAWG,QAAzF,IAAoGH,EAAWiM,iBAIjH,OACC,eAAC,GAAD,WACC,cAAC,GAAD,CAAOnN,MAAM,UACb,sBAAK0G,UAAU,eAAf,UACCiI,EACAjR,GAAmBgR,KAEpB,sBAAKhI,UAAU,sBAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,uBAAMoI,OAAO,GAAGC,SAAUhB,EAA1B,UACC,uBAAOrH,UAAU,aAAaO,KAAK,OAAO+H,YAAY,gCAAgCxK,KAAK,WAC3F,sBAAKkC,UAAU,sBAAf,UACC,qBAAKA,UAAU,4BAAf,SACC,wBAAOA,UAAU,6BAAjB,UACC,uBAAOO,KAAK,QAAQP,UAAU,cAAclC,KAAK,WAAWyK,aAAa,UACzE,mBAAGvI,UAAU,oBACb,sBAAMA,UAAU,kBAAhB,2BAGF,qBAAKA,UAAU,6BAAf,SACC,wBAAOA,UAAU,8BAAjB,UACC,uBAAOO,KAAK,QAAQP,UAAU,eAAelC,KAAK,WAAWyK,aAAa,WAC1E,mBAAGvI,UAAU,gBACb,sBAAMA,UAAU,mBAAhB,4BAGF,qBAAKA,UAAU,+BAAf,SACC,wBAAOA,UAAU,gCAAjB,UACC,uBAAOO,KAAK,QAAQP,UAAU,iBAAiBlC,KAAK,WAAWyK,aAAa,aAC5E,mBAAGvI,UAAU,mBACb,sBAAMA,UAAU,qBAAhB,8BAGF,qBAAKA,UAAU,+BAAf,SACC,wBAAOA,UAAU,gCAAjB,UACC,uBAAOO,KAAK,QAAQP,UAAU,iBAAiBlC,KAAK,WAAWyK,aAAa,aAC5E,mBAAGvI,UAAU,oBACb,sBAAMA,UAAU,qBAAhB,+BAIH,yBAAQA,UAAU,aAAaO,KAAK,SAApC,cAA8C,mBAAGP,UAAU,uBAE3D2G,GAAmB,cAAC,GAAD,CAAiBhD,QAASgD,OAE9CnC,EAAW,cAAC,GAAD,IAAW0D,SC1HrBM,I,MAAK,uCAAG,WAAOC,GAAP,mBAAA7Q,EAAA,6DACLmF,EAAuB0L,EAAvB1L,SAAU6F,EAAa6F,EAAb7F,SADL,kBAIMrL,EAAMkC,KAAKiP,MAAM3L,EAASlB,oBAAqB+G,GAJrD,cAINyC,EAJM,yBAKL,CACN/M,OAAQ+M,EAAIhJ,GACZU,SAAUsI,EAAInL,IAAI,YAClBwI,aAAc2C,EAAInL,IAAI,kBARX,mCAWZhC,QAAQC,IAAI,8BAAZ,MACmB,+BAAhB,KAAMwL,QAZG,qFAAH,uDAkBLgF,GAAQ,uCAAG,WAAOF,GAAP,qBAAA7Q,EAAA,6DACRmF,EAAuB0L,EAAvB1L,SAAU6F,EAAa6F,EAAb7F,UAEZ1C,EAAO,IAAI3I,EAAMkC,MAClB1B,IAAI,WAAYgF,EAASlB,qBAC9BqE,EAAKnI,IAAI,WAAY6K,GALL,kBAQG1C,EAAK0I,SARR,cAQTvD,EARS,yBASR,CACN/M,OAAQ+M,EAAIhJ,GACZU,SAAUsI,EAAInL,IAAI,YAClBwI,aAAc2C,EAAInL,IAAI,kBAZR,kCAefhC,QAAQE,MAAM,8BAAd,MAfe,0DAAH,sDAmBRyQ,GAAM,uCAAG,sBAAAjR,EAAA,+EAEPL,EAAMkC,KAAKqP,SAFJ,sDAKb5Q,QAAQE,MAAM,SAAd,MALa,wDAAH,qDASN2Q,GAAe,uCAAG,WAAOhM,GAAP,mBAAAnF,EAAA,6DACjB6B,EAAO,IAAIlC,EAAMkC,MACjBO,EAAQ,IAAIzC,EAAM0C,MAAMR,IACxBW,QAAQ,WAAY2C,EAASlB,qBAHZ,kBAMJ7B,EAAMK,QANF,cAMhBgL,EANgB,yBAOfA,GAPe,kCAStBnN,QAAQE,MAAM,8BAAd,MATsB,0DAAH,sDAaf4Q,GAAqB,uCAAG,WAAO1Q,EAAQX,GAAf,qBAAAC,EAAA,6DACvBa,EAAO,IAAIlB,EAAMO,OAAO,SACzBuE,GAAK1E,EAEJ8B,EAAO,IAAIlC,EAAMkC,KACjBO,EAAQ,IAAIzC,EAAM0C,MAAMR,GALD,kBAQTO,EAAME,IAAI5B,GARD,cAQtB4H,EARsB,gBAUVA,EAAK+I,SAAS,eACtBC,IAAIzQ,GAXc,UAYrByH,EAAKlI,OAZgB,0DAc3BE,QAAQE,MAAM,4BAAd,MAd2B,0DAkB5BF,QAAQE,MAAM,8BAAd,MAlB4B,iEAAH,wDAsBrB+Q,GAAkB,uCAAG,WAAO7Q,GAAP,yBAAAV,EAAA,6DACpB6B,EAAO,IAAIlC,EAAMkC,KACjBO,EAAQ,IAAIzC,EAAM0C,MAAMR,GAFJ,kBAKNO,EAAME,IAAI5B,GALJ,cAKnB4H,EALmB,gBAOlB+I,EAAW/I,EAAK+I,SAAS,eAPP,UAQLA,EAASjP,QAAQc,OARZ,eAQlB5B,EARkB,OASlB6B,EAAU7B,EAAK8B,KAAI,SAAAkG,GACxB,MAAO,CACN7E,GAAI6E,EAAE7E,GACN/C,MAAO4H,EAAEhH,IAAI,SACbX,OAAQ2H,EAAEhH,IAAI,UACd2C,SAAUqE,EAAEhH,IAAI,gBAdM,kBAiBjBa,GAjBiB,kCAmBxB7C,QAAQE,MAAM,4BAAd,MAnBwB,0DAsBzBF,QAAQE,MAAM,8BAAd,MAtByB,iEAAH,sDA0BlBgR,GAA0B,uCAAG,WAAO9Q,EAAQX,GAAf,uBAAAC,EAAA,6DAC5B6B,EAAO,IAAIlC,EAAMkC,KACjBO,EAAQ,IAAIzC,EAAM0C,MAAMR,GAFI,kBAIdO,EAAME,IAAI5B,GAJI,cAI3B4H,EAJ2B,gBAM1B+I,EAAW/I,EAAK+I,SAAS,eANC,UAObA,EAASjP,QAAQc,OAPJ,WAO1B5B,EAP0B,QAQhBA,EAAK8B,KAAI,SAAAkG,GAAC,OAAIA,EAAE7E,MACpBwJ,SAASlO,GATW,2CAUxB,GAVwB,kCAYzB,GAZyB,kCAchCO,QAAQE,MAAM,4BAAd,MAdgC,0DAiBjCF,QAAQE,MAAM,8BAAd,MAjBiC,iEAAH,wDAqB1BiR,GAA6B,uCAAG,WAAO/Q,EAAQX,GAAf,qBAAAC,EAAA,6DAC/Ba,EAAO,IAAIlB,EAAMO,OAAO,SACzBuE,GAAK1E,EAEJ8B,EAAO,IAAIlC,EAAMkC,KACjBO,EAAQ,IAAIzC,EAAM0C,MAAMR,GALO,kBAOjBO,EAAME,IAAI5B,GAPO,cAO9B4H,EAP8B,gBASlBA,EAAK+I,SAAS,eACtBK,OAAO7Q,GAVmB,UAW7ByH,EAAKlI,OAXwB,kCAY5B,GAZ4B,kCAcnCE,QAAQE,MAAM,4BAAd,MAdmC,0DAkBpCF,QAAQE,MAAM,8BAAd,MAlBoC,iEAAH,wDAmCpBmR,GAXM,CACpBf,SACAG,YACAE,UACAE,mBACAC,yBACAG,sBACAC,8BACAC,kCCtCcG,OApHf,WAEI,MAAkC5I,mBAAS+B,IAA3C,mBAAO8G,EAAP,KAAkBC,EAAlB,KACA,EAAkC9I,mBAAS6B,IAA3C,mBAAOkH,EAAP,KAAkBC,EAAlB,KACA,EAAkChJ,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA8C7D,mBAASkC,IAAvD,mBAAO6D,EAAP,KAAwBC,EAAxB,KACA,EAAkChG,oBAAS,GAA3C,mBAAOiJ,EAAP,KAAkBC,EAAlB,KAmFMC,EAAa,uCAAG,WAAOhN,GAAP,SAAAnF,EAAA,+EAEIoS,GAAYjB,gBAAgBhM,GAFhC,yCAIV2M,EAAa,CAAE3M,SAAUA,IACzB6J,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,OAAU,6EALvC,mBAMH,GANG,cAQdL,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,OAAU,UARnC,mBASP,GATO,kCAWd/O,QAAQC,IAAR,MAXc,0DAAH,sDAenB,MAAO,CACHsR,YACAE,YACAnF,YACAmC,kBACAkD,YACAI,qBArGyB,SAAC1I,GAC1BA,EAAE+F,iBACF,IAAM/O,EAAQgJ,EAAEkG,OAAOlP,MACjBgI,EAAOgB,EAAEkG,OAAO3J,KAClB6I,EAAgB5D,QAChB6D,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,OAAU,UAErD,IAAM7O,ENxBa,SAACmI,EAAMhI,EAAO2R,GACrC,MAAa,aAAT3J,IACIhI,EAAMoN,OAAO1M,OAAS,GAAKV,EAAMoN,OAAO1M,OAAS,IAC1C,qDAIF,aAATsH,IACIhI,EAAMoN,OAAO1M,OAAS,GAAKV,EAAMoN,OAAO1M,OAAS,IAC1C,qDAIF,WAATsH,GACIhI,IAAU2R,EACH,yBAIR,KMKWC,CAAmB5J,EAAMhI,EAAOkR,EAAU7G,UACxDgE,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOnI,OAC3CA,GAGJsR,GAAa,SAAAzC,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOhI,QA0FzC6R,4BAvFgC,SAAC7I,GACjCA,EAAE+F,iBAEF,IAAMpO,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBvH,EAAO,CACTnD,SAAU7D,EAAKgB,IAAI,YACnB0I,SAAU1J,EAAKgB,IAAI,YACnB2I,OAAQ3J,EAAKgB,IAAI,WAPkB,4CAiBvC,4BAAAtC,EAAA,sEAEQ6M,GAAa,GAFrB,SAGiCsF,EAAc7J,EAAKnD,UAHpD,yCAKY0H,GAAa,GALzB,2CAQ0BuF,GAAYrB,SAASzI,GAR/C,QAQcmF,EARd,OASQuE,EAAavE,GACbZ,GAAa,GACbqF,GAAa,GAXrB,kDAaQ5R,QAAQC,IAAR,MAbR,2DAjBuC,sBAUnCwO,EAAgB5J,UAAY4J,EAAgB/D,UAAY+D,EAAgB9D,QAGtD,KAAlB3C,EAAKnD,UAAqC,KAAlBmD,EAAK0C,UAAmC,KAAhB1C,EAAK2C,QAblB,mCAiCvCwH,IAuDAC,yBApD6B,SAAC/I,GAC9BA,EAAE+F,iBAEF,IAAMpO,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBvH,EAAO,CACTnD,SAAU7D,EAAKgB,IAAI,YACnB0I,SAAU1J,EAAKgB,IAAI,aAGnByM,EAAgB5J,UAAY4J,EAAgB/D,UAKhDoH,GAAYxB,MAAMtI,GACb7J,MAAK,SAAA6J,GACFuE,GAAa,GACbmF,EAAa1J,GACbuE,GAAa,GACbqF,GAAa,MAEhBS,OAAM,SAAAC,GACiB,+BAAhBA,EAAI7G,SACJiD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,YAAeuD,EAAI7G,mBCb/D8G,GAhED,WAEb,IAAMC,EAAWC,cACVnC,EAASzR,qBAAWJ,GAApB6R,MAEP,EAOIgB,KANGG,EADP,EACOA,UACAnF,EAFP,EAEOA,UACAmC,EAHP,EAGOA,gBACAkD,EAJP,EAIOA,UACNI,EALD,EAKCA,qBACAK,EAND,EAMCA,yBAWD,OARAvJ,qBAAU,WACL8I,IACHrB,EAAMmB,GACNe,EAAS,QAAS,CAAEE,SAAS,OAE7B,CAACf,IAGCrF,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,eAAC,GAAD,WACC,cAAC,GAAD,CAAOlL,MAAM,UACb,qBAAK0G,UAAU,yBAAf,SACC,sBAAKA,UAAU,iBAAf,UACC,sBAAKA,UAAU,sBAAf,UACC,wCACA,mBAAGA,UAAU,iBACb,sDAED,sBAAMoI,OAAO,IAAIyC,OAAO,OAAO7K,UAAU,cAAcqI,SAAUiC,EAAjE,SACC,qBAAItK,UAAU,YAAd,UACC,+BACC,uBAAO8K,QAAQ,aACf,uBAAOvK,KAAK,OAAOP,UAAU,eAAe3D,GAAG,WAAWyB,KAAK,WAAWwK,YAAY,WAAYyC,SAAUd,IAC3GtD,EAAgB5J,UAAY,cAAC,GAAD,CAAiB4G,QAASgD,EAAgB5J,cAExE,+BACC,uBAAO+N,QAAQ,aACf,uBAAOvK,KAAK,WAAWP,UAAU,eAAe3D,GAAG,WAAWyB,KAAK,WAAWwK,YAAY,WAAWyC,SAAUd,IAC9GtD,EAAgB/D,UAAY,cAAC,GAAD,CAAiBe,QAASgD,EAAgB/D,cAExE,+BACC,uBAAOrC,KAAK,SAASP,UAAU,WAAWlC,KAAK,OAAOkD,IAAI,OAAOzI,MAAM,SACtEoO,EAAgB3D,aAAe,cAAC,GAAD,CAAiBW,QAASgD,EAAgB3D,+BC5BnEgI,I,MA7BA,WACb,IAAQnC,EAAW9R,qBAAWJ,GAAtBkS,OACF6B,EAAWC,cAWjB,OACE,eAAC,GAAD,WACC,oBAAI3K,UAAU,oBAAd,oBACC,qBAAKA,UAAU,0BAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,gEACA,uDAEF,uBAAOO,KAAK,SAASP,UAAU,aAAaoC,QAlBtB,SAACb,GAC7ByI,GAAYnB,SACTxS,MAAK,WACJwS,IACA6B,EAAS,QAAS,CAAEE,SAAS,QAciDrS,MAAM,sBCXxF4N,I,OAA2B,GAC3BC,IAA2B,EAE3BC,GAAgB,CAChBJ,SAAU,KACV7K,OAAQ,MA0IG6P,GAvIQ,SAAClO,GACpB,MAA0B6D,mBAAS,CAAC2F,KAAI,IAAxC,mBAAOvM,EAAP,KAAcwM,EAAd,KAGA,EAA4B5F,mBAAS,IAArC,mBAAO0D,EAAP,KAAeC,EAAf,KACA,EAAoC3D,mBAAS,CAAEjG,QAAS,EAAGC,QAAS,EAAG6L,WAAY,EAAGvL,MAAO,IAA7F,mBAAOV,EAAP,KAAmBkM,EAAnB,KACA,EAAkC9F,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KAIMoC,EAAmB,uCAAG,8BAAAjP,EAAA,yDAExB6M,GAAa,GACTvJ,EAAQ,GACRlB,EAAMuM,IAJc,gCAKN5H,KALM,OAKpBzD,EALoB,kBAOpBlB,EAAMkR,SAPc,iCAQN/L,GAAiBpC,GARX,OAQpB7B,EARoB,mBAUpBlB,EAAMmR,OAVc,kCAWNpM,KAXM,QAWpB7D,EAXoB,mBAapBlB,EAAMoR,UAbc,kCAcNnM,KAdM,QAcpB/D,EAdoB,gBAgBlBuL,EAAa1N,KAAKiO,KAAK9L,EAAQV,EAAWI,WAC9B,IACduL,IAA2B,EAC3BC,IAA2B,GAE3BK,EAAa,IACbN,IAA2B,GAG/BO,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgB/L,QAAOuL,kBACzChC,GAAa,GA1BW,4CAAH,qDA6BnByC,EAAkB,uCAAG,4BAAAtP,EAAA,yDACvB6M,GAAa,GACTH,EAAS,IACTtK,EAAMuM,IAHa,gCAIJ7H,EAAalE,GAJT,OAInB8J,EAJmB,kBAMnBtK,EAAMkR,SANa,iCAOJhM,GAAYnC,EAAUvC,GAPlB,OAOnB8J,EAPmB,mBASnBtK,EAAMmR,OATa,kCAUJvM,GAAgBpE,GAVZ,QAUnB8J,EAVmB,mBAYnBtK,EAAMoR,UAZa,kCAaJpM,GAAmBxE,GAbf,QAanB8J,EAbmB,eAgBvBC,EAAUD,GACVG,GAAa,GAjBU,4CAAH,qDAuClB4G,EAAsB,uCAAG,sBAAAzT,EAAA,sDAE3B8O,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAS,OAC3C6L,EAAS,CAAC0E,SAAUnO,IAGpBsJ,GAAgB,CAAEJ,SAAUlJ,EAAW,WAAY3B,OAAQ,UANhC,2CAAH,qDAStBkQ,EAAuB,uCAAG,sBAAA1T,EAAA,sDAE5B8O,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAS,OAE3C6L,EAAS,CAACD,KAAI,IAEdF,GAAcJ,SAAW,KANG,2CAAH,qDASvBsF,EAA0B,uCAAG,sBAAA3T,EAAA,sDAE/B8O,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAS,OAE3C6L,EAAS,CAAC2E,QAAQ,IAElB9E,GAAgB,CAAEJ,SAAU,SAAU7K,OAAQ,UANf,2CAAH,qDAS1BoQ,EAA6B,uCAAG,sBAAA5T,EAAA,sDAElC8O,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAAS,OAE3C6L,EAAS,CAAC4E,WAAW,IAErB/E,GAAgB,CAAEJ,SAAU,YAAa7K,OAAQ,UANf,2CAAH,qDAWnC,MAAO,CACHpB,QACAsK,SACA9J,aACAgK,YACA6B,iBACAF,4BACAC,4BACAuB,gBAxDoB,WACpB,IAAMhN,EAAUH,EAAWG,QAAU,EACrB,IAAZA,IACAyL,IAA2B,GAE/BD,IAA2B,EAC3BO,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAASA,QAmD3CiN,gBAlEoB,WACpB,IAAMjN,EAAUH,EAAWG,QAAU,EACjCA,GAAWH,EAAWiM,aACtBN,IAA2B,GAE/BC,IAA2B,EAC3BM,GAAc,SAAAO,GAAI,oCAAUA,GAAV,IAAgBtM,QAASA,QA6D3C0Q,yBACAC,0BACAC,6BACAC,gCACA3E,sBACAK,uBCjDOuE,GAnGA,WACb,MAAkC1U,qBAAWJ,GAArCuJ,EAAR,EAAQA,KAAMlJ,EAAd,EAAcA,gBACd,EAgBIiU,GAAe/K,EAAKnD,UAftB/C,EADF,EACEA,MACAsK,EAFF,EAEEA,OACA9J,EAHF,EAGEA,WACAgK,EAJF,EAIEA,UACA6B,EALF,EAKEA,cACAF,EANF,EAMEA,yBACAC,EAPF,EAOEA,yBACAuB,EARF,EAQEA,gBACAC,EATF,EASEA,gBACAyD,EAVF,EAUEA,uBACAC,EAXF,EAWEA,wBACAC,EAZF,EAYEA,2BACAC,EAbF,EAaEA,8BACA3E,EAdF,EAcEA,oBACAK,EAfF,EAeEA,mBAIFnG,qBAAU,WACR8F,MACC,CAAC7M,IAEJ+G,qBAAU,WACJvG,EAAWU,MAAQ,GACrBgM,MAED,CAAC1M,IAGJ,IAAMkR,EACJ,qBAAK1L,UAAU,mBAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,0BAA0BoC,QAASiJ,EAAnD,4BAKAM,EACJ,qBAAK3L,UAAU,oBAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,2BAA2BoC,QAASkJ,EAApD,6BAKAM,EACJ,qBAAK5L,UAAU,oBAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,2BAA2BoC,QAASmJ,EAApD,gCAKAM,EACJ,qBAAK7L,UAAU,oBAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,0BACb,sBAAMA,UAAU,2BAA2BoC,QAASoJ,EAApD,mCAKAtD,EACJ,qCACGlO,EAAMuM,KAAO,mBAAGvG,UAAU,iBAAb,+BACZhG,EAAMuM,KAAOF,EAAcJ,UAAY,oBAAGjG,UAAU,iBAAb,wBAA2C,iCAASxF,EAAWU,QAA/D,iCAAgH,iCAASmL,EAAcjL,SAAvI,iBAAyK,iCAASiL,EAAcJ,WAAhM,WACzC,sBAAKjG,UAAU,0BAAf,UACE,wBAAQA,UAAU,cAAcmI,SAAU/B,EAA0BhE,QAASuF,EAA7E,oBACA,qBAAK3H,UAAU,yBAAf,SACGsE,EAAOtJ,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA4B7E,GAAI6E,EAAE7E,GAAIQ,SAAUqE,EAAErE,SAAUiB,KAAMoD,EAAEpD,KAAMtB,UAAW0E,EAAE1E,UAAWF,KAAM4E,EAAE5E,KAAMyB,OAAQmD,EAAEnD,QAApGmD,EAAE7E,SAE3C,wBAAQ2D,UAAU,cAAcmI,SAAUhC,EAA0B/D,QAASwF,EAA7E,uBAEF,oBAAG5H,UAAU,eAAb,UAAwD,IAA1BxF,EAAWiM,WAAmBjM,EAAWG,QAAU,EAAIH,EAAWG,QAAhG,IAA2GH,EAAWiM,iBAI1H,OACE,eAAC,GAAD,WACE,cAAC,GAAD,CAAOnN,MAAM,WACb,sBAAK0G,UAAU,gBAAf,UACG2L,EACAC,EACAC,EACA7U,GAAmB0U,KAEtB,qBAAK1L,UAAU,uBAAf,SACGwE,EAAY,cAAC,GAAD,IAAa0D,QCtGnB4D,I,YAFalV,IAAMC,cAAc,KCsBjCkV,GAlBM,WACnB,MAA6ChV,qBAAW+U,IAAhDE,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBAEtB,OAAID,EAAatI,KAKf,sBAAK1D,UAAU,uBAAf,UACE,mBAAGA,UAAU,4BAAb,SAA0CgM,EAAarI,UACvD,sBAAK3D,UAAU,+BAAf,UACE,wBAAQoC,QAAS,kBAAI6J,EAAmB,YAAYjM,UAAU,UAA9D,qBACA,wBAAQoC,QAAS,kBAAI6J,EAAmB,WAAWjM,UAAU,SAA7D,0BARG,MCgBIkM,I,MAtBM,SAAC,GAAiE,IAAhEC,EAA+D,EAA/DA,kBAAmB7T,EAA4C,EAA5CA,OAAOX,EAAqC,EAArCA,OAAQkF,EAA6B,EAA7BA,SAAUvD,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,OAEtE,OACI,sBAAKyG,UAAU,iBAAf,UACI,sBAAMA,UAAU,qBAAhB,SACI,qBAAKiB,IAAKpE,GAAsB,oBAAqBmE,IAAI,iBAE7D,sBAAKhB,UAAU,yBAAf,UACI,sBAAKA,UAAU,8BAAf,UACI,8BAAG,sBAAMA,UAAU,iCAAhB,qBAAiE1G,KACpE,kCAAI,sBAAM0G,UAAU,iCAAhB,uBAAkEzG,QAE1E,sBAAKyG,UAAU,iCAAf,UACA,cAAC,IAAD,CAAMA,UAAU,oBAAoB/I,GAAE,iBAAYU,GAAlD,kBACA,sBAAMqI,UAAU,aAAhB,eACA,cAAC,IAAD,CAAMA,UAAU,mBAAmB/I,GAAE,mBAAcqB,EAAd,wBAAoCX,GAAUyK,QAAS+J,EAA5F,+BCQDC,I,MAvBO,SAAC,GAAkE,IAAjEC,EAAgE,EAAhEA,oBAAqBrO,EAA2C,EAA3CA,QAASnB,EAAkC,EAAlCA,SAAUiB,EAAwB,EAAxBA,KAAMxB,EAAkB,EAAlBA,KAAMyB,EAAY,EAAZA,OAExE,OACI,sBAAKiC,UAAU,kBAAf,UACI,sBAAMA,UAAU,sBAAhB,SACI,qBAAKiB,IAAKpE,GAAqB,qBAAsBmE,IAAI,kBAE7D,sBAAKhB,UAAU,0BAAf,UACI,sBAAKA,UAAU,+BAAf,UACI,8BAAG,sBAAMA,UAAU,kCAAhB,sBAAkEjC,KACrE,kCAAI,sBAAMiC,UAAU,uCAAhB,qBAAsE1D,KAC1E,8BAAG,sBAAM0D,UAAU,kCAAhB,qBAAkElC,QAEzE,sBAAKkC,UAAU,iCAAf,UACA,cAAC,IAAD,CAAMA,UAAU,oBAAoB/I,GAAE,kBAAa+G,GAAnD,kBACA,sBAAMgC,UAAU,aAAhB,eACA,cAAC,IAAD,CAAMA,UAAU,mBAAmB/I,GAAE,mBAAc+G,EAAd,yBAAsCA,GAAWoE,QAASiK,EAA/F,gCCHZC,GAAsB,EACtBC,GAAoB,EA4KTC,GAzKA,WACd,IAAQlU,EAAWmU,cAAXnU,OACA4H,EAASnJ,qBAAWJ,GAApBuJ,KACR,EAAyCnJ,qBAAW+U,IAA7CE,EAAP,EAAOA,aAAcU,EAArB,EAAqBA,iBAErB,EAA4B9L,mBAAS,CAAC+L,SAAQ,EAAMrI,QAAO,IAA3D,mBAAOsI,EAAP,KAAeC,EAAf,KACA,EAAkCjM,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAAsC7D,mBAAS,CAAC2F,IAAI,GAAGuG,KAAK,KAA5D,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAkCpM,mBAAS,CAAC2F,IAAI,GAAGuG,KAAK,KAAxD,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAoCtM,mBAAS,CAAC+L,QAAQ,EAAErI,OAAO,IAA/D,mBAAOmC,EAAP,KAAmB0G,EAAnB,KACA,EAAkDvM,mBAAS,CAACwM,UAAS,EAAKC,UAAS,IAAnF,mBAAOC,EAAP,KAA0BC,EAA1B,KACA,EAA8C3M,mBAAS,CAACwM,UAAS,EAAKC,UAAS,IAA/E,mBAAOG,EAAP,KAAwBC,EAAxB,KAEA1M,qBAAU,WACT,IAAM2M,EAAS,uCAAG,kCAAA9V,EAAA,6DAEjB6M,GAAa,GAFI,SAGoB8E,GAAaJ,mBAAmB7Q,GAHpD,cAGXqV,EAHW,gBAIkB7Q,EAAmBoD,EAAKnD,UAJ1C,OAIX6Q,EAJW,OAKjBnJ,GAAa,GAEPoJ,EAAe9U,KAAKiO,KAAK2G,EAAuB1U,OAAS,GACzD6U,EAAa/U,KAAKiO,KAAK4G,EAAqB3U,OAAS,GAE3DkU,EAAc,CAACR,QAAQkB,EAAavJ,OAAOwJ,IACvCD,EAAe,EAClBN,GAAqB,SAAAtG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,QAE9CG,EAAqB,CAACH,UAAS,EAAKC,UAAS,IAC7Cf,GAAoB,GAGjBwB,EAAa,EAChBL,GAAmB,SAAAxG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,QAE5CK,EAAmB,CAACL,UAAS,EAAKC,UAAS,IAC3Cd,GAAkB,GAEnBS,EAAe,CAACzG,IAAIoH,EAAuBb,KAAKa,EAAuB/U,MAAM,EAAG,KAChFsU,EAAa,CAAC3G,IAAIqH,EAAqBd,KAAKc,EAAqBhV,MAAM,EAAG,KAzBzD,4CAAH,qDA2Bf8U,MAEE,CAACpV,EAAOsU,IAEX,IAoCMT,EAAiB,uCAAG,WAAO5K,EAAGlF,GAAV,SAAAzE,EAAA,sDACzB2J,EAAE+F,iBACFoF,EAAiB,4DAA4DrQ,GAFpD,2CAAH,wDAKjB0R,EAAkB,uCAAG,WAAOxM,EAAElE,GAAT,SAAAzF,EAAA,sDAC1B2J,EAAE+F,iBACFoF,EAAiB,2DAA2DrP,GAFlD,2CAAH,wDA2BxB,OApBA0D,qBAAU,WACNiL,EAAarI,QAAQkC,SAAS,SAAiC,YAAtBmG,EAAa/T,SACxDC,QAAQC,IAAI,MACZoR,GAAaF,8BAA8B/Q,EAAQ0T,EAAagC,UAC/D3X,MAAK,SAAAgP,GACLwH,EAAU,CAACF,QAAQtH,EAAIf,QAAO,QAG7B0H,EAAarI,QAAQkC,SAAS,UAAkC,YAAtBmG,EAAa/T,SACzDC,QAAQC,IAAI,MACZoF,EAAmB2C,EAAKnD,SAAUiP,EAAagC,UAC9C3X,MAAK,SAAAgP,GACLwH,EAAU,CAACF,SAAQ,EAAMrI,OAAOe,UAIjC,CAAC2G,EAAa/T,SAIZuM,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,eAAC,GAAD,WACC,cAAC,GAAD,IACA,cAAC,GAAD,CAAOlL,MAAO4G,EAAKnD,SAASkR,oBAAsB,aAClD,sBAAKjO,UAAU,oBAAf,UAEC,sBAAKA,UAAU,qBAAf,UACC,eAAC,IAAD,CAAMA,UAAU,mBAAmB/I,GAAG,gBAAtC,UAAsD,mBAAG+I,UAAU,gBAAnE,mBACA,eAAC,IAAD,CAAMA,UAAU,oBAAoB/I,GAAG,iBAAvC,UAAwD,mBAAG+I,UAAU,gBAArE,uBAED,sBAAKA,UAAU,sBAAf,UACC,oBAAIA,UAAU,4BAAd,+BACCiN,EAAUH,KAAK7T,OAAS,EACtB,qCACD,sBAAK+G,UAAU,uCAAf,UACC,wBAAQA,UAAU,OAAOmI,SAAUqF,EAAgBH,SAAUjL,QAhEvC,WAEF,MAD1BmK,IAECkB,GAAmB,SAAAxG,GAAI,MAAG,CAACoG,UAAS,EAAKD,UAAS,MAEnDF,GAAa,SAAAjG,GAAI,oCAAOA,GAAP,IAAY6F,KAAKG,EAAU1G,IAAI3N,MAA2B,EAApB2T,GAAyB,EAAuB,EAApBA,SACnFkB,GAAmB,SAAAxG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,QA0DtC,oBACA,qBAAKpN,UAAU,6BAAf,SACEiN,EAAUH,KAAK9R,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAAemL,oBAAqB,SAAC9K,GAAD,OAAOwM,EAAmBxM,EAAGL,EAAE7D,iBAAwCW,QAASkD,EAAElD,QAASnB,SAAUqE,EAAErE,SAAUP,KAAM4E,EAAE5E,KAAMwB,KAAMoD,EAAEpD,KAAMC,OAAQmD,EAAEnD,QAAlGmD,EAAE7D,qBAErH,wBAAQ2C,UAAU,OAAOmI,SAAUqF,EAAgBJ,SAAUhL,QA7EvC,aAC5BmK,IACyB9F,EAAWnC,QACnCmJ,GAAmB,SAAAxG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,OAE7CF,GAAa,SAAAjG,GAAI,oCAAOA,GAAP,IAAY6F,KAAKG,EAAU1G,IAAI3N,MAA2B,EAApB2T,GAAyB,EAAuB,EAApBA,SACnFkB,GAAmB,SAAAxG,GAAI,oCAAOA,GAAP,IAAYoG,UAAS,QAuEtC,uBAED,8BAAId,GAAJ,IAAwB9F,EAAWnC,aAElC,mBAAGtE,UAAU,qBAAb,oEAIJ,sBAAKA,UAAU,uBAAf,UACC,oBAAIA,UAAU,6BAAd,6BACC+M,EAAYD,KAAK7T,OAAS,EACxB,qCACD,sBAAK+G,UAAU,uCAAf,UACC,wBAAQA,UAAU,OAAOmI,SAAUmF,EAAkBD,SAAUjL,QAnGvC,WAEF,MAD5BkK,IAECiB,GAAqB,SAAAtG,GAAI,MAAG,CAACoG,UAAS,EAAKD,UAAS,MAErDJ,GAAe,SAAA/F,GAAI,oCAAOA,GAAP,IAAY6F,KAAKC,EAAYxG,IAAI3N,MAA6B,EAAtB0T,GAA2B,EAAyB,EAAtBA,SACzFiB,GAAqB,SAAAtG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,QA6FxC,oBACA,qBAAKpN,UAAU,6BAAf,SACE+M,EAAYD,KAAK9R,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAAciL,kBAAmB,SAAC5K,GAAD,OAAO4K,EAAkB5K,EAAGL,EAAE7E,KAAgB/D,OAAQA,EAAQX,OAAQuJ,EAAE7E,GAAIQ,SAAUqE,EAAErE,SAAUvD,MAAO4H,EAAE5H,MAAOC,OAAQ2H,EAAE3H,QAApF2H,EAAE7E,SAEvG,wBAAQ2D,UAAU,OAAOmI,SAAUmF,EAAkBF,SAAUhL,QAhHvC,aAC9BkK,IAC2B7F,EAAWkG,SACrCY,GAAqB,SAAAtG,GAAI,oCAAOA,GAAP,IAAYmG,UAAS,OAE/CJ,GAAe,SAAA/F,GAAI,oCAAOA,GAAP,IAAY6F,KAAKC,EAAYxG,IAAI3N,MAA6B,EAAtB0T,GAA2B,EAAyB,EAAtBA,SACzFiB,GAAqB,SAAAtG,GAAI,oCAAOA,GAAP,IAAYoG,UAAS,QA0GxC,uBAED,8BAAIf,GAAJ,IAA0B7F,EAAWkG,cAEpC,mBAAG3M,UAAU,qBAAb,6ECnGOkO,I,MArEE,WAEhB,IAAMxD,EAAWC,cACVnC,EAAUzR,qBAAWJ,GAArB6R,MAEP,EAQIgB,KAPHC,EADD,EACCA,UACME,EAFP,EAEOA,UACAnF,EAHP,EAGOA,UACAmC,EAJP,EAIOA,gBACAkD,EALP,EAKOA,UACAI,EANP,EAMOA,qBACAG,EAPP,EAOOA,4BAUP,OAPArJ,qBAAU,WACL8I,IACHrB,EAAMmB,GACNe,EAAS,QAAS,CAAEE,SAAS,OAE7B,CAACf,IAECrF,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,eAAC,GAAD,WACC,cAAC,GAAD,CAAOlL,MAAM,aACb,qBAAK0G,UAAU,yBAAf,SACC,sBAAKA,UAAU,iBAAf,UACC,sBAAKA,UAAU,sBAAf,UACC,0CACA,mBAAGA,UAAU,iBACb,sDAED,sBAAMoI,OAAO,IAAIyC,OAAO,OAAO7K,UAAU,cAAcqI,SAAU+B,EAAjE,SACC,qBAAIpK,UAAU,YAAd,UACC,+BACC,uBAAO8K,QAAQ,aACf,uBAAOvK,KAAK,OAAOP,UAAU,eAAe3D,GAAG,WAAWyB,KAAK,WAAWwK,YAAY,WAAWC,aAAckB,EAAU1M,SAAUgO,SAAUd,IAC5ItD,EAAgB5J,UAAY,cAAC,GAAD,CAAiB4G,QAASgD,EAAgB5J,WACtE4J,EAAgB5D,QAAU,cAAC,GAAD,CAAiBY,QAASgD,EAAgB5D,YAEtE,+BACC,uBAAO+H,QAAQ,aACf,uBAAOvK,KAAK,WAAWP,UAAU,eAAe3D,GAAG,WAAWyB,KAAK,WAAWwK,YAAY,WAAWC,aAAckB,EAAU7G,SAAUmI,SAAUd,IAChJtD,EAAgB/D,UAAY,cAAC,GAAD,CAAiBe,QAASgD,EAAgB/D,cAExE,+BACC,uBAAOkI,QAAQ,WACf,uBAAOvK,KAAK,WAAWP,UAAU,eAAe3D,GAAG,SAASyB,KAAK,SAASwK,YAAY,kBAAkBC,aAAckB,EAAU5G,OAAQkI,SAAUd,IACjJtD,EAAgB9D,QAAU,cAAC,GAAD,CAAiBc,QAASgD,EAAgB9D,YAEtE,6BACC,uBAAOtC,KAAK,SAASP,UAAU,WAAWlC,KAAK,OAAOkD,IAAI,OAAOzI,MAAM,0BCvEzE4V,I,MAAW,uCAAG,WAAOjV,GAAP,qBAAAtB,EAAA,6DACVwW,EAASjX,GAETkX,EAAO,IAAI7G,UACZ8G,OAAO,OAAQpV,GACpBmV,EAAKC,OAAO,gBAAiB,aALb,SAOEC,MAAMH,EAAQ,CAAEvD,OAAQ,OAAQ2D,KAAMH,IAPxC,cAOVhJ,EAPU,gBASKA,EAAIoJ,OATT,cASVxW,EATU,yBAUTA,EAAOyW,YAVE,4CAAH,uDAaFP,MCkKAQ,GAzKK,SAACzL,GACjB,MAAkCtC,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA4C7D,oBAAS,GAArD,mBAAOgO,EAAP,KAAuBC,EAAvB,KACA,EAAkCjO,oBAAS,GAA3C,mBAAOiJ,EAAP,KAAkBC,EAAlB,KACA,EAAkClJ,mBAASqC,IAA3C,mBAAO6L,EAAP,KAAkBC,EAAlB,KACA,EAA8CnO,mBAASuC,IAAvD,mBAAOwD,EAAP,KAAwBC,EAAxB,KACA,EAAwChG,mBAAS2B,IAAjD,mBAAOyM,EAAP,KAAqBC,EAArB,KAgIMC,EAA0BC,uBAAY,SAACxX,GACzC8M,GAAa,GACbjM,EAAYb,GACXtB,MAAK,SAAAgP,GACF0J,EAAa1J,GACb4J,EAAgB5J,EAAIxI,UACpB4H,GAAa,MAEhB8F,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,QAC3B,IAEG4E,EAAgB,WAClBxI,EAAmBzD,IACnBsB,GAAa,GACbqF,GAAa,GACbiF,EAAa9L,IACbgM,EAAgB1M,KAGpB,MAAM,CACFuM,YACAtK,YACAoK,iBACA/E,YACAlD,kBACAqI,eACAK,qBAjDyB,SAAC9N,GAC1B,IAAMhJ,EAAQgJ,EAAEkG,OAAO6H,MAAM,GAEvBlX,EAAOsN,GAAmB,WAAanN,GAAS,IACtDqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,MAAS7O,OAC5CA,IAGCG,GAGDsW,GAAkB,GAClBV,GAAY5V,GACPlC,MAAK,SAAAkZ,GACFV,GAAkB,GAClBI,EAAgBM,MAEnBhF,OAAM,SAAAC,GACHtS,QAAQC,IAAIqS,OATpByE,EAAgB1M,MAyCpBiN,mBAhFuB,SAACjO,GACxB,IAAMhJ,EAAQgJ,EAAEkG,OAAOlP,MACjBgI,EAAOgB,EAAEkG,OAAO3J,KAElB6I,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM7O,EAAQsN,GAAmBnF,EAAMhI,GACvCqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOnI,QAwE/C6R,qBAlEyB,SAAC1I,GAC1B,IAAMhJ,EAAQgJ,EAAEkG,OAAOlP,MACjBgI,EAAOgB,EAAEkG,OAAO3J,KAElB6I,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM7O,EAAQsN,GAAmBnF,EAAMhI,GACvCqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOnI,QA0D/CqX,0BA1J8B,SAAClO,GAC/BA,EAAE+F,iBAEEX,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM/N,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBhP,EAAO,CACTa,MAAOJ,EAAKgB,IAAI,SAChBX,OAAQL,EAAKgB,IAAI,UACjBV,YAAaN,EAAKgB,IAAI,eACtBP,SAAUuJ,EACVtJ,MAAOoV,GAGPrI,EAAgBrN,OAASqN,EAAgBnN,aACtCmN,EAAgB/M,OAAS+M,EAAgBpN,SAG/B,KAAbd,EAAKa,OAAkC,KAApBb,EAAKe,aAAmC,KAAdf,EAAKc,QAKtDH,EAAWX,GACNpC,MAAK,SAAAgP,GACFZ,GAAa,GACbsK,GAAa,SAAA9H,GAAI,oCAAOA,GAAP,IAAY5B,WAC7ByE,GAAa,MAEhBS,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,MAE1B4E,KAZAxI,GAAmB,SAAAK,GAAI,oCAAOA,GAAP,IAAY,SAAW,sDAsIlDiI,0BACAQ,wBAxH4B,SAACnO,GAC7BA,EAAE+F,iBAEEX,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM/N,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBhP,EAAO,CACTa,MAAOJ,EAAKgB,IAAI,SAChBX,OAAQL,EAAKgB,IAAI,UACjBV,YAAaN,EAAKgB,IAAI,eACtBP,SAAUuJ,EACVtJ,MAAOoV,GAGPrI,EAAgBrN,OAASqN,EAAgBnN,aACtCmN,EAAgB/M,OAAS+M,EAAgBpN,SAG/B,KAAbd,EAAKa,OAAkC,KAApBb,EAAKe,aAAmC,KAAdf,EAAKc,QAKtDM,EAASiV,EAAUzS,GAAG5D,GACjBpC,MAAK,SAAAgP,GACFZ,GAAa,GACbsK,GAAa,SAAA9H,GAAI,oCAAOA,GAAP,IAAY5B,WAC7ByE,GAAa,MAEhBS,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,MAE9B4E,KAZIxI,GAAmB,SAAAK,GAAI,oCAAOA,GAAP,IAAY,SAAW,wDC9C3C0I,I,MAxBE,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,mBACV1M,EAAaZ,GAEbuN,EAA0B,SAACtO,GAC7B,IAAMuO,EAAMF,EAAmBlS,QAAQ6D,EAAEkG,OAAO3J,OACnC,IAATgS,EACAF,EAAmB/W,KAAK0I,EAAEkG,OAAO3J,MAEjC8R,EAAmBnS,OAAOqS,EAAM,IAIxC,OACI,qBAAK9P,UAAU,qBAAf,SACKkD,EAAWlI,KAAI,SAACkG,EAAG8C,GAAJ,OACZ,wBAAehE,UAAU,iBAAzB,UAA4CkB,EACxC,uBAAOlB,UAAU,iBAAiBO,KAAK,WAAWlE,GAAI2H,EAAGlG,KAAMoD,EAAG6J,SAAU8E,IAC5E,sBAAM7P,UAAU,gBAFRkB,UCkGb6O,GAvGE,WAChB,IAAMrF,EAAWC,cACTzK,EAASnJ,qBAAWJ,GAApBuJ,KACAvI,EAAW8U,cAAX9U,OAEFuL,EAAW,GAEjB,EAWIyL,GAAYzL,GAVJzK,EADZ,EACCqW,UACAtK,EAFD,EAECA,UACAoK,EAHD,EAGCA,eACA/E,EAJD,EAICA,UACAlD,EALD,EAKCA,gBACAqI,EAND,EAMCA,aACAK,EAPD,EAOCA,qBACApF,EARD,EAQCA,qBACAyF,EATD,EASCA,wBACAR,EAVD,EAUCA,wBAmBD,OAhBAnO,qBAAU,WACL8I,GACHa,EAAS,YAER,CAACb,EAAWa,IAEf3J,qBAAU,WACTmO,EAAwBvX,KACtB,CAACA,IAEJoJ,qBAAU,WACT,GAAkB,KAAftI,EAAK2D,SAAgB3D,EAAK2D,UAAU8D,EAAKnD,SACzC,OAAM,kBAAK2N,EAAS,YAErB,CAACjS,IAEA+L,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,cAAC,GAAD,UACC,sBAAKxE,UAAU,sBAAf,UACC,qBAAKA,UAAU,kBAAf,SACC,+BAAI,mBAAGA,UAAU,sBAAjB,iBAED,uBAAMA,UAAU,iBAAiBqI,SAAUqH,EAA3C,UACC,sBAAK1P,UAAU,sBAAf,UACC,sBAAKA,UAAU,QAAf,UACC,uBAAOA,UAAU,cAAcO,KAAK,OAAOzC,KAAK,QAAQzB,GAAG,QAAQkM,aAAc9P,EAAKa,MAAOyR,SAAUd,IACvG,wBAAOa,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,cAApC,WACC2G,EAAgBrN,OAAS,cAAC,GAAD,CAAiBqK,QAASgD,EAAgBrN,WAErE,sBAAK0G,UAAU,SAAf,UACC,uBAAOA,UAAU,eAAeO,KAAK,OAAOzC,KAAK,SAASzB,GAAG,SAASkM,aAAc9P,EAAKc,OAAQwR,SAAUd,IAC3G,wBAAOa,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,cAApC,YACC2G,EAAgBpN,QAAU,cAAC,GAAD,CAAiBoK,QAASgD,EAAgBpN,YAEtE,qBAAKyG,UAAU,gBAAf,SACE4O,EAAiB,cAAC,GAAD,IAAa,qBAAK3N,IAAK+N,EAAchO,IAAI,iBAE5D,sBAAKhB,UAAU,QAAf,UACC,uBAAOA,UAAU,cAAcO,KAAK,OAAOyP,OAAO,UAAUC,KAAK,KAAKnS,KAAK,WAAWzB,GAAG,WAAY0O,SAAUsE,IAC/G,wBAAOvE,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,iBAApC,WACC2G,EAAgB/M,OAAS,cAAC,GAAD,CAAiB+J,QAASgD,EAAgB/M,cAGtE,sBAAKoG,UAAU,yBAAf,UACC,sBAAKA,UAAU,cAAf,UACC,0BAAUA,UAAU,oBAAoBO,KAAK,OAAOzC,KAAK,cAAczB,GAAG,cAAc6T,KAAK,KAAKC,KAAK,KAAK5H,aAAc9P,EAAKe,YAAauR,SAAUd,IACtJ,wBAAOa,QAAQ,cAAf,UAA6B,mBAAG9K,UAAU,cAA1C,iBACC2G,EAAgBnN,aAAe,cAAC,GAAD,CAAiBmK,QAASgD,EAAgBnN,iBAE3E,cAAC,GAAD,CAAUoW,mBAAoB1M,IAC9B,mBAAGlD,UAAU,gCAAb,kEASD,sBAAKA,UAAU,mBAAf,UACC,sBAAKA,UAAU,YAAf,UACC,+CACA,6BAAKE,EAAKnD,cAEX,qBAAKiD,UAAU,SAAf,SACC,wBAAQA,UAAU,aAAaO,KAAK,SAApC,yBAEAoG,EAAgBvD,UAAY,cAAC,GAAD,CAAiBO,QAASgD,EAAgBvD,uBCuG9DgN,I,MA3MM,WACjB,MAAkCxP,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA4C7D,oBAAS,GAArD,mBAAOgO,EAAP,KAAuBC,EAAvB,KACA,EAAkCjO,oBAAS,GAA3C,mBAAOiJ,EAAP,KAAkBC,EAAlB,KACA,EAA0BlJ,mBAAS2C,IAAnC,mBAAO8M,EAAP,KAAcC,EAAd,KACA,EAAoC1P,mBAASyC,IAA7C,mBAAOkN,EAAP,KAAmBC,EAAnB,KACA,EAA8C5P,mBAAS0C,IAAvD,mBAAOqD,EAAP,KAAwBC,EAAxB,KACA,EAAwChG,mBAAS4B,IAAjD,mBAAOwM,EAAP,KAAqBC,EAArB,KAqJMwB,EAA2BtB,uBAAY,SAACnR,GAC1CyG,GAAa,GACbhG,EAAaT,GACR3H,MAAK,SAAAgP,GACFmL,EAAcnL,GACdiL,EAASjL,EAAIjH,UACb6Q,EAAgB5J,EAAIxI,UACpB4H,GAAa,MAEhB8F,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,QAC/B,IAEGkG,EAAyB,uCAAG,WAAOnP,GAAP,SAAA3J,EAAA,6DACpC2J,EAAE+F,iBADkC,SAE9B9I,EAAY+R,EAAWlU,IAFO,OAG9BmU,GAAc,SAAAvJ,GAAI,oCAAUA,GAAV,IAAgBlJ,OAAO,iBACzC+L,GAAa,GAJiB,2CAAH,sDAOzB6G,EAAiB,WACnB/J,EAAmBtD,IACnBmB,GAAa,GACbqF,GAAa,GACbwG,EAAS/M,IACTiN,EAAcnN,IACd4L,EAAgBzM,KAGpB,MAAO,CACH+N,aACA/L,YACAoK,iBACA/E,YACAlD,kBACAqI,eACA4B,YAtLgB,SAACP,GACjBC,EAASD,IAsLThB,qBA3DyB,SAAC9N,GAC1B,IAAMhJ,EAAQgJ,EAAEkG,OAAO6H,MAAM,GAEvBlX,EAAQ0N,GAAoB,WAAavN,GAAS,IACxDqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,MAAS7O,OAC5CA,IAGCG,GAGDsW,GAAkB,GAClBV,GAAY5V,GACPlC,MAAK,SAAAkZ,GACFV,GAAkB,GAClBI,EAAgBM,MAEnBhF,OAAM,SAAAC,GACHtS,QAAQC,IAAIqS,OATpByE,EAAgBzM,MAmDpBgN,mBA1FuB,SAACjO,GACxB,IAAMhJ,EAAQgJ,EAAEkG,OAAOlP,MACjBgI,EAAOgB,EAAEkG,OAAO3J,KAElB6I,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM7O,EAAQ0N,GAAoBvF,EAAMhI,GACxCqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOnI,QAkF/C6R,qBA5EyB,SAAC1I,GAC1B,IAAMhJ,EAAQgJ,EAAEkG,OAAOlP,MACjBgI,EAAOgB,EAAEkG,OAAO3J,KAElB6I,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM7O,EAAQ0N,GAAoBvF,EAAMhI,GACxCqO,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,mBAAiB1G,EAAOnI,QAoE/CyY,2BAtL+B,SAACtP,GAChCA,EAAE+F,iBAEEX,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAQvD,IAAM/N,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBtK,EAAQ2T,GAAW5X,GACzBiE,EAAMvD,MAAQoV,EACd7R,EAAMY,OAAS,SACfZ,EAAMiB,SAAWiS,EAEjB,IAAMU,EAAYjL,GAAoB,OAAQ3I,EAAMb,KAAKpD,EAAKgB,IAAI,UAClE0M,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,KAAQ8J,OAC/C7Y,QAAQC,IAAI4Y,GAEZ7Y,QAAQC,IAAIgF,GACZjF,QAAQC,IAAIwO,GAERA,EAAgB7I,MAAQ6I,EAAgBnN,aACrCmN,EAAgB/M,OAASmX,IAQb,KAAf5T,EAAMW,MAAqC,KAAtBX,EAAM3D,aACxBwX,KAAKC,UAAU9T,EAAMiB,YAAc4S,KAAKC,UAAU1N,KAKzDtF,EAAYd,GACP9G,MAAK,SAAAgP,GACFZ,GAAa,GACb+L,GAAc,SAAAvJ,GAAI,oCAAUA,GAAV,IAAgB5B,WAClCyE,GAAa,MAEhBS,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,MAE9BmG,KAZI/J,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,8DAmJvDwJ,2BACAS,yBArI6B,SAAC3P,GAC9BA,EAAE+F,iBAEEX,EAAgBvD,UAChBwD,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,UAGvD,IAAM/N,EAAO,IAAIsO,SAASjG,EAAEkG,QACtBtK,EAAQ2T,GAAW5X,GACzBiE,EAAMvD,MAAQoV,EAEd7R,EAAMiB,SAAWiS,EAEjB,IAAMU,EAAYjL,GAAoB,OAAQ3I,EAAMb,KAAKpD,EAAKgB,IAAI,UAClE0M,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,KAAQ8J,OAE3CpK,EAAgB7I,MAAQ6I,EAAgBnN,aACrCmN,EAAgB/M,OAASmX,IAKb,KAAf5T,EAAMW,MAAqC,KAAtBX,EAAM3D,aAK/B+E,EAAUgS,EAAWlU,GAAIc,GACpB9G,MAAK,SAAAgP,GACFZ,GAAa,GAEb+L,GAAc,SAAAvJ,GAAI,oCAAUA,GAAV,IAAgB5B,WAClCyE,GAAa,MAEhBS,OAAM,SAAAC,GAAG,OAAItS,QAAQC,IAAIqS,MAE9BmG,KAbI/J,GAAmB,SAAAK,GAAI,oCAAUA,GAAV,IAAgB,SAAY,8DA+GvDyJ,4BACAC,oBAMFG,GAAa,SAAC5X,GAChB,IAAMwD,EAAOxD,EAAKgB,IAAI,QAChByC,EAAQwU,OAAOjY,EAAKgB,IAAI,UAAY,EACpC0C,EAAM1D,EAAKgB,IAAI,OACfyD,EAAOzE,EAAKgB,IAAI,QAChB0D,EAAS1E,EAAKgB,IAAI,UAClBoC,EAAO,IAAIC,KAAKG,EAAMC,EAAOC,EAAKe,EAAMC,EAAQ,GAQtD,MAPc,CACVE,KAAM5E,EAAKgB,IAAI,QACfkE,SAAUlF,EAAKgB,IAAI,YACnBV,YAAaN,EAAKgB,IAAI,eACtBoC,KAAMA,EACNyB,OAAQ7E,EAAKgB,IAAI,WAAa,W,6CC5NhCkX,I,MAAe,SAAC,GAAqB,IAAnBR,EAAkB,EAAlBA,YACtB,EAA0BhQ,mBAAS2C,IAAnC,mBAAO8M,EAAP,KAAcC,EAAd,KAUA,OARAe,aAAY,SAAS,SAAC9P,GACpB,IAAKqP,EACH,OAAO,KAET,IAAM1X,EAAO,CAACqI,EAAE+P,OAAOC,IAAKhQ,EAAE+P,OAAOE,KACrCZ,EAAY1X,GACZoX,EAASpX,MAGT,cAACuY,GAAA,EAAD,CAAQC,SAAUrB,EAAlB,SACE,eAACsB,GAAA,EAAD,2BACe,uBAAOtB,EAAM,GAAGuB,WAAWhZ,MAAM,EAAG,GADnD,KACyDyX,EAAM,GAAGuB,WAAWhZ,MAAM,EAAG,UAkC7EiZ,GA5BE,SAAC,GAAsC,IAApCjB,EAAmC,EAAnCA,YAAakB,EAAsB,EAAtBA,OAAQnO,EAAc,EAAdA,QASvC,OADFzL,QAAQC,IAAI2Z,GAER,qBAAK9R,UAAU,YAAf,SACE,eAAC+R,GAAA,EAAD,CAAcD,OAAQA,GAAUtO,GAAoBwO,KAAM,EAAGC,iBAAiB,EAA9E,UACE,cAACC,GAAA,EAAD,CACEC,YAAY,wFACZ5C,IAAI,uDAEN,cAACkC,GAAA,EAAD,CAAQC,SAAUI,GAAStO,GAA3B,SACE,cAACmO,GAAA,EAAD,UACGhO,G7B6B0B,Y6B1B/B,cAAC,GAAD,CAAeiN,YAAaA,UC0FrBwB,GA5HG,WACjB,IAAM1H,EAAWC,cACTzK,EAASnJ,qBAAWJ,GAApBuJ,KACAlC,EAAYyO,cAAZzO,QAER,EAcIoS,KAbSjT,EADb,EACCoT,WACA/L,EAFD,EAECA,UACAoK,EAHD,EAGCA,eACAjI,EAJD,EAICA,gBACAqI,EALD,EAKCA,aACAnF,EAND,EAMCA,UACA+G,EAPD,EAOCA,YACAvB,EARD,EAQCA,qBACApF,EATD,EASCA,qBACAiH,EAVD,EAUCA,yBACAT,EAXD,EAWCA,yBACAC,EAZD,EAYCA,0BAZD,EAaCC,eA0BD,OAtBA5P,qBAAU,WACL8I,GACHa,EAAS,aAER,CAACb,EAAWa,IAGf3J,qBAAU,WACT0P,EAAyBzS,KACvB,CAACA,IAaAwG,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,OAIHtM,QAAQC,IAAIgF,EAAMiB,UAEjB,cAAC,GAAD,UACC,sBAAK4B,UAAU,uBAAf,UACC,qBAAKA,UAAU,mBAAf,SACC,+BAAI,mBAAGA,UAAU,sBAAjB,kBAED,uBAAMA,UAAU,kBAAkBqI,SAAU6I,EAA5C,UACC,sBAAKlR,UAAU,uBAAf,UACC,sBAAKA,UAAU,aAAf,UACC,uBAAOA,UAAU,mBAAmBO,KAAK,OAAOzC,KAAK,OAAOzB,GAAG,OAAOkM,aAAcpL,EAAMW,KAAMiN,SAAUd,IAC1G,wBAAOa,QAAQ,OAAf,UAAsB,mBAAG9K,UAAU,cAAnC,WACC2G,EAAgB7I,MAAQ,cAAC,GAAD,CAAiB6F,QAASgD,EAAgB7I,UAEpE,sBAAKkC,UAAU,kBAAf,UACC,uBAAOA,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,OAAOzB,GAAG,OAAOgW,IAAK,KAAMC,IAAK,KAAMhK,YAAY,OAAOC,aAAcpL,EAAMoC,QAAQ7C,OACjJ,uBAAOsD,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,QAAQzB,GAAG,QAAQgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,KAAKC,aAAcpL,EAAMoC,QAAQ5C,QAC5I,uBAAOqD,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,MAAMzB,GAAG,MAAMgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,KAAKC,aAAcpL,EAAMoC,QAAQ3C,MACxI,uBAAOoD,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,OAAOzB,GAAG,OAAOgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,KAAKC,aAAcpL,EAAMoC,QAAQ5B,OAC1I,uBAAOqC,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,SAASzB,GAAG,SAASgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,KAAKC,aAAcpL,EAAMoC,QAAQ3B,SAC9I,wBAAOkN,QAAQ,OAAf,UAAsB,mBAAG9K,UAAU,cAAnC,sBAEA2G,EAAgBrK,MAAQ,cAAC,GAAD,CAAiBqH,QAASgD,EAAgBrK,OACnE,qBAAK0D,UAAU,eAAf,SACmB,WAAjB7C,EAAMY,OACJ,uBAAMiC,UAAU,gBAAhB,UAAiC,mBAAGA,UAAU,sBAAyB7C,EAAMY,UAC7E,uBAAMiC,UAAU,mBAAhB,UAAmC,mBAAGA,UAAU,eAAkB7C,EAAMY,YAG5E,qBAAKiC,UAAU,sBAAf,SACE4O,EAAiB,cAAC,GAAD,IAAa,qBAAK3N,IAAK+N,EAAchO,IAAI,kBAG5D,sBAAKhB,UAAU,cAAf,UACC,uBAAOA,UAAU,oBAAoBO,KAAK,OAAOyP,OAAO,UAAUC,KAAK,KAAKnS,KAAK,WAAWzB,GAAG,WAAW0O,SAAUsE,IACpH,wBAAOvE,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,iBAApC,WACC2G,EAAgB/M,OAAS,cAAC,GAAD,CAAiB+J,QAASgD,EAAgB/M,cAGtE,sBAAKoG,UAAU,0BAAf,UACC,sBAAKA,UAAU,oBAAf,UACC,0BAAUA,UAAU,0BAA0BO,KAAK,OAAOzC,KAAK,cAAczB,GAAG,cAAc6T,KAAK,KAAKC,KAAK,KAAK5H,aAAcpL,EAAM3D,YAAauR,SAAUd,IAC7J,wBAAOa,QAAQ,cAAf,UAA6B,mBAAG9K,UAAU,cAA1C,iBACC2G,EAAgBnN,aAAe,cAAC,GAAD,CAAiBmK,QAASgD,EAAgBnN,iBAE3E,cAAC,GAAD,CAAUsY,OAAQ3U,EAAMiB,SAAUwS,YAAaA,EAAajN,QAAS,wBAEtE,sBAAK3D,UAAU,yBAAf,UACC,qBAAKA,UAAU,uBAAf,SACmB,WAAjB7C,EAAMY,OACJ,sBAAKiC,UAAU,qBAAf,UACD,mBAAGA,UAAU,0BAEb,cAAC,IAAD,CAAMA,UAAU,oBAAoB/I,GAAE,kBAAakG,EAAMd,GAAnB,WAAgC+F,QAASsO,EAA/E,6BAEC,OAGJ,sBAAK1Q,UAAU,YAAf,UACC,6CACA,6BAAKE,EAAKnD,cAEX,qBAAKiD,UAAU,eAAf,SACC,wBAAQA,UAAU,mBAAmBO,KAAK,SAA1C,0BAEAoG,EAAgBvD,UAAY,cAAC,GAAD,CAAiBO,QAASgD,EAAgBvD,wBCjC9DmP,I,MAnFI,WAClB,IAAM7H,EAAWC,cACTzK,EAASnJ,qBAAWJ,GAApBuJ,KAEFgD,EAAa,GACnB,EASIyL,GAAYzL,GARfsB,EADD,EACCA,UACAoK,EAFD,EAECA,eACA/E,EAHD,EAGCA,UACAlD,EAJD,EAICA,gBACAqI,EALD,EAKCA,aACAK,EAND,EAMCA,qBACAG,EAPD,EAOCA,mBACAC,EARD,EAQCA,0BAUD,OANA1O,qBAAU,WACL8I,GACHa,EAAS,YAER,CAACb,EAAWa,IAEXlG,EAED,cAAC,GAAD,UACD,cAAC,GAAD,MAMD,cAAC,GAAD,UACC,sBAAKxE,UAAU,sBAAf,UACC,qBAAKA,UAAU,kBAAf,SACC,+BAAI,mBAAGA,UAAU,sBAAjB,gBAED,uBAAMA,UAAU,iBAAiBqI,SAAUoH,EAA3C,UACC,sBAAKzP,UAAU,sBAAf,UACC,sBAAKA,UAAU,QAAf,UACC,uBAAOA,UAAU,cAAcO,KAAK,OAAOzC,KAAK,QAAQzB,GAAG,QAAQmW,OAAQhD,IAC3E,wBAAO1E,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,cAApC,WACC2G,EAAgBrN,OAAS,cAAC,GAAD,CAAiBqK,QAASgD,EAAgBrN,WAErE,sBAAK0G,UAAU,SAAf,UACC,uBAAOA,UAAU,eAAeO,KAAK,OAAOzC,KAAK,SAASzB,GAAG,SAASmW,OAAQhD,IAC9E,wBAAO1E,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,cAApC,YACC2G,EAAgBpN,QAAW,cAAC,GAAD,CAAiBoK,QAASgD,EAAgBpN,YAEvE,qBAAKyG,UAAU,gBAAf,SACE4O,EAAiB,cAAC,GAAD,IAAa,qBAAK3N,IAAK+N,EAAchO,IAAI,iBAG5D,sBAAKhB,UAAU,QAAf,UACC,uBAAOA,UAAU,cAAcO,KAAK,OAAOyP,OAAO,UAAUC,KAAK,KAAKnS,KAAK,WAAWzB,GAAG,WAAW0O,SAAUsE,IAC9G,wBAAOvE,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,iBAApC,WACC2G,EAAgB/M,OAAS,cAAC,GAAD,CAAiB+J,QAASgD,EAAgB/M,cAGtE,sBAAKoG,UAAU,yBAAf,UACC,sBAAKA,UAAU,cAAf,UACC,0BAAUA,UAAU,oBAAoBO,KAAK,OAAOzC,KAAK,cAAczB,GAAG,cAAc6T,KAAK,KAAKC,KAAK,KAAKqC,OAAQhD,IACpH,wBAAO1E,QAAQ,cAAf,UAA6B,mBAAG9K,UAAU,cAA1C,iBACC2G,EAAgBnN,aAAe,cAAC,GAAD,CAAiBmK,QAASgD,EAAgBnN,iBAE3E,cAAC,GAAD,CAAUoW,mBAAoB1M,OAE/B,sBAAKlD,UAAU,mBAAf,UACC,sBAAKA,UAAU,YAAf,UACC,+CACA,6BAAKE,EAAKnD,cAEX,qBAAKiD,UAAU,SAAf,SACC,wBAAQA,UAAU,aAAaO,KAAK,SAApC,4BAEAoG,EAAgBvD,UAAY,cAAC,GAAD,CAAiBO,QAASgD,EAAgBvD,wBCtFvEqP,I,MAAsB,uCAAG,WAAgB9a,GAAhB,uBAAAC,EAAA,6DACxBa,EAAO,IAAIlB,EAAMO,OAAO,SACzBuE,GAAK1E,EAEJ+a,EAAcnb,EAAMO,OAAOiC,OAAO,gBAClCC,EAAQ,IAAIzC,EAAM0C,MAAMyY,IACxBvY,QAAQ,WACdH,EAAMI,QAAQ,OAAQ3B,GACtBuB,EAAMS,WAAW,aARa,mBAWVT,EAAMc,OAXI,eAWvB5B,EAXuB,OAYvB6B,EAAU7B,EAAKyZ,QAAO,SAAC/a,EAAGsJ,GAE/B,OADAtJ,EAAEiB,KAAKyB,GAAU4G,IACVtJ,IACL,IAf0B,kBAgBtBmD,GAhBsB,kCAkB7B7C,QAAQE,MAAM,mCAAd,MAlB6B,0DAAH,uDAsBtBwa,GAAuB,uCAAG,WAAgB5U,GAAhB,uBAAApG,EAAA,6DACzBuF,EAAQ,IAAI5F,EAAMO,OAAO,UACzBuE,GAAK2B,EAEL6U,EAAetb,EAAMO,OAAOiC,OAAO,iBACnCC,EAAQ,IAAIzC,EAAM0C,MAAM4Y,IACxB1Y,QAAQ,WACdH,EAAMI,QAAQ,QAAS+C,GACvBnD,EAAMS,WAAW,aARc,mBAWXT,EAAMc,OAXK,eAWxB5B,EAXwB,OAYxB6B,EAAU7B,EAAKyZ,QAAO,SAAC/a,EAAGsJ,GAE/B,OADAtJ,EAAEiB,KAAKyB,GAAU4G,IACVtJ,IACL,IAf2B,kBAgBvBmD,GAhBuB,kCAkB9B7C,QAAQE,MAAM,oCAAd,MAlB8B,0DAAH,sDAsBvB0a,GAAiB,uCAAG,WAAOnb,EAAQob,GAAf,iBAAAnb,EAAA,6DACnBa,EAAO,IAAIlB,EAAMO,OAAO,SACzBuE,GAAK1E,GAEJqb,EAAc,IAAIzb,EAAMO,OAAO,gBACzBC,IAAI,OAAQgb,GACxBC,EAAYjb,IAAI,UAAWR,EAAMkC,KAAKC,WACtCsZ,EAAYjb,IAAI,OAAQU,GAPC,kBAUlBua,EAAYhb,OAVM,yDAYxBE,QAAQE,MAAM,qCAAd,MAZwB,0DAAH,wDAgBjB6a,GAAkB,uCAAG,WAAOjV,EAAS+U,GAAhB,iBAAAnb,EAAA,6DACpBuF,EAAQ,IAAI5F,EAAMO,OAAO,UACzBuE,GAAK2B,GAELkV,EAAc,IAAI3b,EAAMO,OAAO,iBACxBC,IAAI,OAAQgb,GACzBG,EAAanb,IAAI,UAAWR,EAAMkC,KAAKC,WACvCwZ,EAAanb,IAAI,QAASoF,GAPA,kBAUnB+V,EAAalb,OAVM,yDAYzBE,QAAQE,MAAM,sCAAd,MAZyB,0DAAH,wDAiBlBkC,GAAY,SAAC6B,GAClB,IAAMC,EAAUD,EAAOjC,IAAI,WAAWA,IAAI,YACpCoC,EAAO,IAAIC,KAAKJ,EAAOK,WAC3BC,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,UAAWe,KAAM,UAAWC,OAAQ,UAAWuV,OAAQ,YAE5H,MAAO,CACN9W,GAAIF,EAAOE,GACXG,UAAWF,EACXyW,KAAM5W,EAAOjC,IAAI,QACjBkC,YChFIgX,GAAiB,CACtB/W,GAAI,GACJ/C,MAAO,GACPC,OAAQ,GACRC,YAAa,GACbqD,SAAU,GACVhF,OAAQ,EACRc,MAAO,GACP6D,UAAW,GACXJ,QAAS,GACTzC,SAAU,IAqEI0Z,GAlEC,SAAC1b,EAAOX,EAAiBkJ,GACxC,MAAwBU,mBAASwS,IAAjC,mBAAO3a,EAAP,KAAa6a,EAAb,KACA,EAAkC1S,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA8B7D,oBAAS,GAAvC,mBAAO2S,EAAP,KAAgBC,EAAhB,KACA,EAA4B5S,oBAAS,GAArC,mBAAO6S,EAAP,KAAeC,EAAf,KACA,EAAgC9S,mBAAS,IAAzC,mBAAO+S,EAAP,KAAiBC,EAAjB,KACA,EAA8ChT,mBAAS,MAAvD,mBAAO+F,EAAP,KAAwBC,EAAxB,KAEMiN,EAAU7c,GAAmBkJ,EAAKnD,WAAatE,EAAK2D,QAE1D2E,qBAAU,WAAM,4CACf,gCAAAnJ,EAAA,6DACC6M,GAAa,GADd,SAEoBjM,EAAYb,GAFhC,UAEOc,EAFP,OAGCgM,GAAa,GACb6O,EAAQ7a,GACJzB,GAAmBkJ,EAAKnD,WAAatE,EAAK2D,UAAY3D,EAAKE,MAAMkN,SAAS3F,EAAK5H,SAClFkb,GAAW,IAERM,QAAQ5T,EAAKnD,WAAamD,EAAKnD,WAAatE,EAAK2D,QARtD,kCASuB4N,GAAYZ,2BAA2BlJ,EAAK5H,OAAQX,GAT3E,QASQ8b,EATR,OAUEC,EAAUD,GAVZ,yBAYwBhB,GAAuB9a,GAZ/C,QAYOgc,EAZP,OAaCC,EAAYD,GAbb,4CADe,yBAAC,WAAD,wBAgBfjG,KACE,CAAC/V,EAAQuI,EAAKlJ,IAGjB,IAAM+c,EAAqB,uCAAG,WAAOxS,GAAP,SAAA3J,EAAA,6DAC7B2J,EAAE+F,iBAD2B,SAEvB0C,GAAYhB,sBAAsB9I,EAAK5H,OAAQX,GAFxB,OAG7B+b,GAAU,GAHmB,2CAAH,sDAMrBM,EAAsB,uCAAG,WAAOzS,GAAP,mBAAA3J,EAAA,yDAC9B2J,EAAE+F,iBACIyL,EAAKxR,EAAEkG,OAAOwM,QAAQ1b,QACtBH,EAAM8N,GAAsB6M,IAHJ,uBAK7BnM,EAAmBxO,GALU,iCAQrBuO,GACCC,EAAmB,MATC,SAWxBkM,GAAkBnb,EAAQob,GAXF,wBAYRN,GAAuB9a,GAZf,QAYxBuc,EAZwB,OAa9BN,EAAYM,GACZ3S,EAAEkG,OAAOwM,QAAQ1b,MAAQ,GAdK,4CAAH,sDAiBzB,MAAM,CACFE,OACA+L,YACAqP,YACAN,UACAE,SACAE,WACAhN,kBACAoN,wBACAC,2BCjCOG,I,MA5CA,SAAC,GAAqB,IAApB7b,EAAmB,EAAnBA,OAAOX,EAAY,EAAZA,OAEpB,EAAoCiJ,oBAAS,GAA7C,mBAAOwT,EAAP,KAAmBC,EAAnB,KAqBA,OACI,qBAAKrU,UAAU,SAAf,SACI,uBAAMoI,OAAO,GAAGC,SArBM,SAAC9G,GAC3BA,EAAE+F,iBACF,IAAMpO,EAAO,IAAIsO,SAASjG,EAAEkG,QAGtBlP,EADQuL,MAAMwQ,KAAKpb,EAAKqb,UACV5B,QAAO,SAAC/a,EAAGsJ,GAI3B,OAHIiQ,OAAOjQ,GAAKtJ,IACZA,EAAIuZ,OAAOjQ,IAERtJ,IACR,GAEHS,EAASC,EAAOX,EAAOY,GACtBlC,MAAK,WACFge,GAAc,MAEjB9J,OAAM,SAAAC,GAAG,OAAEtS,QAAQC,IAAIqS,OAK6BxK,UAAU,cAA3D,UACI,sBAAKA,UAAU,QAAf,UACI,uBAAOA,UAAU,cAAc3D,GAAG,SAASkE,KAAK,WAAWzC,KAAK,IAAIyK,aAAa,IAAIJ,SAAUiM,IAC/F,uBAAOpU,UAAU,cAAc8K,QAAQ,SAAvC,oBACA,uBAAO9K,UAAU,cAAc3D,GAAG,SAASkE,KAAK,WAAWzC,KAAK,IAAIyK,aAAa,IAAIJ,SAAUiM,IAC/F,uBAAOpU,UAAU,cAAc8K,QAAQ,SAAvC,oBACA,uBAAO9K,UAAU,cAAc3D,GAAG,SAASkE,KAAK,WAAWzC,KAAK,IAAIyK,aAAa,IAAIJ,SAAUiM,IAC/F,uBAAOpU,UAAU,cAAc8K,QAAQ,SAAvC,oBACA,uBAAO9K,UAAU,cAAc3D,GAAG,SAASkE,KAAK,WAAWzC,KAAK,IAAIyK,aAAa,IAAIJ,SAAUiM,IAC/F,uBAAOpU,UAAU,cAAc8K,QAAQ,SAAvC,oBACA,uBAAO9K,UAAU,cAAc3D,GAAG,SAASkE,KAAK,WAAWzC,KAAK,IAAIyK,aAAa,IAAIJ,SAAUiM,IAC/F,uBAAOpU,UAAU,cAAc8K,QAAQ,SAAvC,uBAEJ,wBAAQvK,KAAK,SAAS4H,SAAUiM,EAAYpU,UAAU,aAAtD,oCC1BDwU,I,MAhBO,SAAC,GAAiC,IAAhCpY,EAA+B,EAA/BA,QAAS2W,EAAsB,EAAtBA,KAAMvW,EAAgB,EAAhBA,UAEnC,OACI,sBAAKwD,UAAU,oBAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,mBAAGA,UAAU,uBACb,+BAAO5D,OAEX,mBAAG4D,UAAU,eAAb,SAA6BxD,IAC7B,qBAAKwD,UAAU,eAAf,SACK+S,SCgGF0B,GA9FK,WACnB,MAAiC1d,qBAAWJ,GAArCK,EAAP,EAAOA,gBAAiBkJ,EAAxB,EAAwBA,KAChBvI,EAAW8U,cAAX9U,OAER,EAUK0b,GAAQ1b,EAAOX,EAAgBkJ,GAT7BzH,EADP,EACOA,KACA+L,EAFP,EAEOA,UACAqP,EAHP,EAGOA,UACAN,EAJP,EAIOA,QACAE,EALP,EAKOA,OACAE,EANP,EAMOA,SACAhN,EAPP,EAOOA,gBACAoN,EARP,EAQOA,sBACAC,EATP,EASOA,uBAiBP,OAAGxP,EAED,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,eAAC,GAAD,WACC,sCACA,sBAAKxE,UAAU,yBAAf,UACC,sBAAKA,UAAU,YAAf,UACC,oBAAIA,UAAU,cAAd,SAA6BvH,EAAKc,SAClC,oBAAIyG,UAAU,aAAd,SAA4BvH,EAAKa,QACjC,sBAAK0G,UAAU,eAAf,UACC,iCAAM,mBAAGA,UAAU,iBAAoBvH,EAAK+D,aAC5C,iCAAM,mBAAGwD,UAAU,gBAAmBvH,EAAK2D,WAC3C,iCAAM,mBAAG4D,UAAU,uBAA0B2T,EAAS1a,aAErDsa,EAEC,KADA,cAAC,GAAD,CAAM1b,OAAQY,EAAKZ,SAGtB,qBAAKmI,UAAU,aAAf,SACC,qBAAKiB,IAAKxI,EAAKoE,SAAWpE,EAAKoE,SAAW,oBAAqBmE,IAAI,iBAEpE,mBAAGhB,UAAU,mBAAb,SAAiCvH,EAAKe,cACtC,qBAAKwG,UAAU,kBAAf,SACEvH,EAAKkB,SAASqB,KAAI,SAAAkG,GAAC,OAAI,iCAAc,mBAAGlB,UAAU,kBAAqBkB,IAArCA,WAGrC,sBAAKlB,UAAU,kBAAf,UACC,qBAAKA,UAAU,gBAAf,SACE2T,EAAS1a,OAAS,EAChB0a,EAAS3Y,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA0B1E,UAAW0E,EAAE1E,UAAWuW,KAAM7R,EAAE6R,KAAM3W,QAAS8E,EAAE9E,SAAvD8E,EAAE7E,OACxC,kFAEJ,qBAAK2D,UAAU,cAAf,SACEuT,GAAW,cAAC,GAAD,CAAQjb,OAAQ4H,EAAK5H,OAAQX,OAAQA,MAEjDX,EACE,qBAAKgJ,UAAU,qBAAf,SACD,uBAAMoI,OAAO,GAAGyC,OAAO,OAAOxC,SAAU2L,EAAxC,UACC,kEACA,0BAAUhU,UAAU,gBAAgBlC,KAAK,UAAUzB,GAAG,UAAU6T,KAAK,KAAKC,KAAK,MAC9ExJ,GAAmB,mBAAG3G,UAAU,gBAAb,SAA8B2G,IAClD,wBAAQ3G,UAAU,cAAcO,KAAK,SAArC,uBAGA,QAGJ,sBAAKP,UAAU,eAAf,UACC,qBAAKA,UAAU,oBAAf,SACC,mBAAGA,UAAU,4BApEZhJ,EAGD6c,EACI,cAAC,IAAD,CAAM7T,UAAU,YAAY/I,GAAE,iBAAYwB,EAAK4D,GAAjB,SAA9B,uBAEJoX,EACI,cAAC,IAAD,CAAMzT,UAAU,2BAA2B/I,GAAE,iBAAYwB,EAAK4D,GAAjB,QAA2B+F,QAAS2R,EAAjF,8BAEA,mBAAG/T,UAAU,wBAAb,gCARA,cAAC,IAAD,CAAMA,UAAU,YAAY/I,GAAI,YAAhC,+BCoEKyd,I,MAvFK,WACnB,IAAMhK,EAAWC,cACTzK,EAASnJ,qBAAWJ,GAApBuJ,KAER,EAUIkQ,KATH5L,EADD,EACCA,UACAoK,EAFD,EAECA,eACAjI,EAHD,EAGCA,gBACAqI,EAJD,EAICA,aACAnF,EALD,EAKCA,UACA+G,EAND,EAMCA,YACAvB,EAPD,EAOCA,qBACAG,EARD,EAQCA,mBACAqB,EATD,EASCA,2BAUD,OAPA9P,qBAAU,WACT7I,QAAQC,IAAI,MACR0R,GACHa,EAAS,aAER,CAACb,EAAWa,IAEXlG,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,cAAC,GAAD,UACC,sBAAKxE,UAAU,uBAAf,UACC,qBAAKA,UAAU,mBAAf,SACC,+BAAI,mBAAGA,UAAU,sBAAjB,iBAED,uBAAMA,UAAU,kBAAkBqI,SAAUwI,EAA5C,UACC,sBAAK7Q,UAAU,uBAAf,UACC,sBAAKA,UAAU,aAAf,UACC,uBAAOA,UAAU,mBAAmBO,KAAK,OAAOzC,KAAK,OAAOzB,GAAG,OAAOmW,OAAQhD,IAC9E,wBAAO1E,QAAQ,OAAf,UAAsB,mBAAG9K,UAAU,cAAnC,WACC2G,EAAgB7I,MAAQ,cAAC,GAAD,CAAiB6F,QAASgD,EAAgB7I,UAEpE,sBAAKkC,UAAU,aAAf,UACC,uBAAOA,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,OAAOzB,GAAG,OAAOgW,IAAK,KAAMC,IAAK,KAAMhK,YAAY,SAC9G,uBAAOtI,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,QAAQzB,GAAG,QAAQgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,OAC3G,uBAAOtI,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,MAAMzB,GAAG,MAAMgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,OACvG,uBAAOtI,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,OAAOzB,GAAG,OAAOgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,OACzG,uBAAOtI,UAAU,uBAAuBO,KAAK,SAASzC,KAAK,SAASzB,GAAG,SAASgW,IAAK,EAAGC,IAAK,GAAIhK,YAAY,OAC7G,wBAAOwC,QAAQ,OAAf,UAAsB,mBAAG9K,UAAU,cAAnC,sBAEA2G,EAAgBrK,MAAQ,cAAC,GAAD,CAAiBqH,QAASgD,EAAgBrK,OACnE,qBAAK0D,UAAU,sBAAf,SACE4O,EAAiB,cAAC,GAAD,IAAa,qBAAK3N,IAAK+N,EAAchO,IAAI,kBAG5D,sBAAKhB,UAAU,cAAf,UACC,uBAAOA,UAAU,oBAAoBO,KAAK,OAAOyP,OAAO,UAAUC,KAAK,KAAKnS,KAAK,WAAWzB,GAAG,WAAY0O,SAAUsE,IACrH,wBAAOvE,QAAQ,QAAf,UAAuB,mBAAG9K,UAAU,iBAApC,WACC2G,EAAgB/M,OAAS,cAAC,GAAD,CAAiB+J,QAASgD,EAAgB/M,cAGtE,sBAAKoG,UAAU,0BAAf,UACC,sBAAKA,UAAU,oBAAf,UACC,0BAAUA,UAAU,0BAA0BO,KAAK,OAAOzC,KAAK,cAAczB,GAAG,cAAc6T,KAAK,KAAKC,KAAK,KAAKqC,OAAQhD,IAC1H,wBAAO1E,QAAQ,cAAf,UAA6B,mBAAG9K,UAAU,cAA1C,iBACC2G,EAAgBnN,aAAe,cAAC,GAAD,CAAiBmK,QAASgD,EAAgBnN,iBAE3E,cAAC,GAAD,CAAUoX,YAAaA,OAExB,sBAAK5Q,UAAU,oBAAf,UACC,sBAAKA,UAAU,YAAf,UACC,6CACA,6BAAKE,EAAKnD,cAEX,qBAAKiD,UAAU,eAAf,SACC,wBAAQA,UAAU,mBAAmBO,KAAK,SAA1C,6BAEAoG,EAAgBvD,UAAY,cAAC,GAAD,CAAiBO,QAASgD,EAAgBvD,wBCnFvEuR,I,MAAoB,CACzBtY,GAAI,GACJyB,KAAM,GACNxB,KAAM,GACN8B,SAAU,GACV5E,YAAa,GACbqD,SAAU,GACVkB,OAAQ,GACRvB,UAAW,GACXJ,QAAS,GACTiB,eAAgB,GAChBC,WAAY,GACZiC,QAAS,KAyEKqV,GAtEE,SAAC5W,EAAShH,EAAiBkJ,GAC3C,MAA0BU,mBAAS+T,IAAnC,mBAAOxX,EAAP,KAAc0X,EAAd,KACA,EAAkCjU,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAAwC7D,oBAAS,GAAjD,mBAAOkU,EAAP,KAAqBC,EAArB,KACA,EAAgCnU,mBAAS,IAAzC,mBAAO+S,EAAP,KAAiBC,EAAjB,KACA,EAA8ChT,mBAAS,MAAvD,mBAAO+F,EAAP,KAAwBC,EAAxB,KAEMiN,EAAY7c,GAAmBkJ,EAAKnD,WAAaI,EAAMf,QAE7D2E,qBAAU,WAAM,4CACf,8BAAAnJ,EAAA,6DACC6M,GAAa,GADd,SAEqBhG,EAAaT,GAFlC,cAEOb,EAFP,OAGCjF,QAAQC,IAAIgF,GACZsH,GAAa,GACboQ,EAAS1X,GACTjF,QAAQC,IAAIgF,GACRnG,GAAmBkJ,EAAKnD,WAAaI,EAAMf,UAC1Ce,EAAMG,WAAWuI,SAAS3F,EAAKnD,WAA4B,WAAfI,EAAMY,QACtDgX,GAAgB,GATlB,UAewBnC,GAAwB5U,GAfhD,QAeO2V,EAfP,OAgBCC,EAAYD,GAhBb,4CADe,yBAAC,WAAD,wBAmBfjG,KACE,CAAC1P,EAASkC,EAAMlJ,IAGnB,IAAMge,EAAsB,uCAAG,WAAOzT,GAAP,eAAA3J,EAAA,6DAC9B2J,EAAE+F,iBAD4B,SAExBlK,EAAiB8C,EAAKnD,SAAUI,EAAME,eAAgBF,EAAMG,YAFpC,OAGxB2X,EAHwB,sBAGH9X,EAAMG,YAHH,CAGc4C,EAAKnD,WACjD7E,QAAQC,IAAIgF,GACZ0X,GAAS,SAAA5N,GAAI,oCAAOA,GAAP,IAAY3J,WAAW2X,OACpCF,GAAgB,GANc,2CAAH,sDAStBf,EAAsB,uCAAG,WAAOzS,GAAP,mBAAA3J,EAAA,yDAC9B2J,EAAE+F,iBACIyL,EAAOxR,EAAEkG,OAAOwM,QAAQ1b,QACxBH,EAAQ8N,GAAsB6M,IAHN,uBAK7BnM,EAAmBxO,GALU,iCAQ1BuO,GACHC,EAAmB,MATU,SAWxBqM,GAAmBjV,EAAS+U,GAXJ,wBAYRH,GAAwB5U,GAZhB,QAYxBkW,EAZwB,OAa9BN,EAAYM,GACZ3S,EAAEkG,OAAOwM,QAAQ1b,MAAQ,GAdK,4CAAH,sDAiB5B,MAAO,CACN4E,QACAqH,YACAqP,YACAiB,eACAnB,WACAhN,kBACAqO,yBACAhB,2BC0BakB,GArGM,WACpB,MAAkCne,qBAAWJ,GAArCK,EAAR,EAAQA,gBAAiBkJ,EAAzB,EAAyBA,KACjBlC,EAAYyO,cAAZzO,QAER,EASI4W,GAAS5W,EAAShH,EAAiBkJ,GARtC/C,EADD,EACCA,MACAqH,EAFD,EAECA,UACAqP,EAHD,EAGCA,UACAiB,EAJD,EAICA,aACAnB,EALD,EAKCA,SACAhN,EAND,EAMCA,gBACAqO,EAPD,EAOCA,uBACAhB,EARD,EAQCA,uBAoBD,OAAIxP,EAEF,cAAC,GAAD,UACC,cAAC,GAAD,MAMF,eAAC,GAAD,WACC,uCACA,sBAAKxE,UAAU,0BAAf,UACC,sBAAKA,UAAU,aAAf,UACC,qBAAIA,UAAU,iBAAd,uBAA0C7C,EAAMb,QAChD,qBAAI0D,UAAU,gBAAd,qBAAuC7C,EAAMW,QAC7C,sBAAKkC,UAAU,gBAAf,UACC,iCAAM,mBAAGA,UAAU,iBAAoB7C,EAAMX,aAC7C,iCAAM,mBAAGwD,UAAU,gBAAmB7C,EAAMf,WAC5C,iCAAM,mBAAG4D,UAAU,uBAA0B2T,EAAS1a,aAEvD,qBAAK+G,UAAU,eAAf,SACmB,WAAjB7C,EAAMY,OACJ,uBAAMiC,UAAU,gBAAhB,UAAiC,mBAAGA,UAAU,sBAAyB7C,EAAMY,UAC7E,uBAAMiC,UAAU,mBAAhB,UAAmC,mBAAGA,UAAU,eAAkB7C,EAAMY,YAG5E,qBAAKiC,UAAU,cAAf,SACC,qBAAKiB,IAAK9D,EAAMN,SAAWM,EAAMN,SAAW,qBAAsBmE,IAAI,kBAEvE,mBAAGhB,UAAU,oBAAb,SAAkC7C,EAAM3D,cACxC,qBAAKwG,UAAU,mBAAf,SACE7C,EAAMG,WAAWrE,OAAS,EACxBkE,EAAMG,WAAWtC,KAAI,SAAAkG,GAAC,OAAI,qCAAe,mBAAGlB,UAAU,kCAAqCkB,IAAtDA,MACrC,kEAIL,sBAAKlB,UAAU,mBAAf,UACC,qBAAKA,UAAU,sBAAf,SACE7C,EAAMiB,UAAY,cAAC,GAAD,CAAUwS,YAAa,KAAMkB,OAAQ3U,EAAMiB,SAAUuF,QAAS,qBAElF,qBAAK3D,UAAU,iBAAf,SACE2T,EAAS1a,OAAS,EAChB0a,EAAS3Y,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAA0B1E,UAAW0E,EAAE1E,UAAWuW,KAAM7R,EAAE6R,KAAM3W,QAAS8E,EAAE9E,SAAvD8E,EAAE7E,OACxC,kFAEHrF,EACE,qBAAKgJ,UAAU,sBAAf,SACD,uBAAMoI,OAAO,GAAGyC,OAAO,OAAOxC,SAAU2L,EAAxC,UACC,kEACA,0BAAUhU,UAAU,gBAAgBlC,KAAK,UAAUzB,GAAG,UAAU6T,KAAK,KAAKC,KAAK,MAC9ExJ,GAAmB,mBAAG3G,UAAU,gBAAb,SAA8B2G,IAClD,wBAAQ3G,UAAU,cAAcO,KAAK,SAArC,uBAGA,QAGJ,sBAAKP,UAAU,gBAAf,UACC,qBAAKA,UAAU,qBAAf,SACC,mBAAGA,UAAU,4BA5EZhJ,EAGD6c,EACI,cAAC,IAAD,CAAM7T,UAAU,YAAY/I,GAAE,kBAAakG,EAAMd,GAAnB,SAA9B,wBAEHyY,EACG,cAAC,IAAD,CAAM9U,UAAU,yBAAyB/I,GAAE,kBAAakG,EAAMd,GAAnB,cAAmC+F,QAAS4S,EAAvF,8BAEW,cAAf7X,EAAMY,OACD,mBAAGiC,UAAU,sBAAb,6BAED,mBAAGA,UAAU,sBAAb,gCAXA,cAAC,IAAD,CAAMA,UAAU,YAAY/I,GAAI,YAAhC,+BC2BKke,GApCH,WAEV,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,GAAD,MACzB,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,GAAD,MAE7B,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,iBAAiBC,QAAS,cAAC,GAAD,MACtC,eAAC,IAAD,CAAOA,QAAS,cAAC,EAAD,IAAhB,UACE,cAAC,IAAD,CAAOD,KAAK,sBAAsBC,QAAS,cAAC,GAAD,MAC3C,cAAC,IAAD,CAAOD,KAAK,gBAAgBC,QAAS,cAAC,GAAD,SAGvC,cAAC,IAAD,CAAOD,KAAK,UAAUC,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAOD,KAAK,mBAAmBC,QAAS,cAAC,GAAD,MACxC,eAAC,IAAD,CAAOA,QAAS,cAAC,EAAD,IAAhB,UACE,cAAC,IAAD,CAAOD,KAAK,wBAAwBC,QAAS,cAAC,GAAD,MAC7C,cAAC,IAAD,CAAOD,KAAK,iBAAiBC,QAAS,cAAC,GAAD,SAGxC,eAAC,IAAD,CAAOA,QAAS,cAAC,EAAD,IAAhB,UACE,cAAC,IAAD,CAAOD,KAAK,SAASC,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,YAAYC,QAAS,cAAC,GAAD,SAGnC,eAAC,IAAD,CAAOA,QAAS,cAAC,EAAD,IAAhB,UACE,cAAC,IAAD,CAAOD,KAAK,mBAAmBC,QAAS,cAAC,GAAD,MACxC,cAAC,IAAD,CAAOD,KAAK,UAAUC,QAAS,cAAC,GAAD,SAGjC,cAAC,IAAD,CAAOD,KAAK,IAAIC,QAAS,cAAC,GAAD,U,oCCxBhBC,G,oDA3BX,WAAY7U,GAAQ,IAAD,+BACf,cAAMA,IAED8U,MAAQ,CACTC,UAAU,GAJC,E,sDAcnB,SAAkBpd,GACdF,QAAQC,IAAI,iCAAkCC,K,oBAGlD,WACI,OAAIqd,KAAKF,MAAMC,SACJ,yDAGJC,KAAKhV,MAAMC,Y,uCAftB,SAAgCtI,GAC5B,MAAO,CACHod,UAAU,O,GAXM5e,IAAM8e,WCiCnBC,GAjCS,SAACC,EAAKrd,GAE1B,MAA0BqI,oBAAS,WAC/B,IACI,IAAMiV,EAAOC,aAAaC,QAAQH,GAElC,OADA1d,QAAQC,IAAI0d,GACRA,EACO7E,KAAKgF,MAAMH,GAEftd,EACT,MAAOH,GAEL,OADAF,QAAQC,IAAIC,EAAMuL,SACXpL,MAVf,mBAAOgd,EAAP,KAAcU,EAAd,KAyBA,MAAO,CACHV,EAXwB,SAAChd,GACzB,IACIud,aAAaI,QAAQN,EAAK5E,KAAKC,UAAU1Y,IAEzC0d,EAAS1d,GACX,MAAOH,GACLF,QAAQC,IAAIC,EAAMuL,aCMfwS,GA1Ba,SAAC1V,GAEzB,MAAwBkV,GAAgB,OAAQlT,IAAhD,mBAAOvC,EAAP,KAAakW,EAAb,KAUA,OACI,cAAC,EAAYC,SAAb,CACI9d,MAAO,CACH2H,OACAsI,MAZE,SAACC,GACX2N,EAAQ3N,IAYAI,OATG,WACXuN,EAAQ3T,KASAzL,gBAAiBkJ,EAAKnD,UAL9B,SAQK0D,EAAMC,YCSJ4V,GA3BqB,SAAC,GAAgB,IAAf5V,EAAc,EAAdA,SAElC,EAAwCE,mBAAS6C,IAAjD,mBAAOuI,EAAP,KAAqBuK,EAArB,KAEM7J,EAAmByC,uBAAY,SAACxL,EAAQqK,GAC1CuI,GAAgB,SAAAtP,GAAI,oCAAOA,GAAP,IAAavD,MAAM,EAAMC,UAAQqK,gBAErDwI,YAAW,WACPD,EAAgB9S,MACjB,OACJ,IASH,OACI,cAAC,GAAoB4S,SAArB,CACI9d,MAAO,CAAEyT,eAAcU,mBAAkBT,mBATtB,SAAChU,GACZ,WAATA,GACCse,EAAgB9S,IAEpB8S,GAAgB,SAAAtP,GAAI,oCAAOA,GAAP,IAAYhP,gBAIhC,SAEMyI,KCpBd+V,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACA,cAAC,IAAD,CAAeC,SAAS,cAAxB,SACE,cAAC,GAAD,cAMRC,SAASC,eAAe,SAM1B5gB,O","file":"static/js/main.3a1ab5af.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\n\r\nconst AuthContext = React.createContext({});\r\n\r\nexport default AuthContext;","import { useContext } from 'react';\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\n\r\nimport AuthContext from './context/authContext';\r\n\r\nexport const AuthRoute = () => {\r\n    const { isAuthenticated } = useContext(AuthContext);\r\n    return isAuthenticated ? <Outlet /> : <Navigate to=\"/home\" />\r\n}\r\n\r\nexport const UserRoute = () => {\r\n    const { isAuthenticated } = useContext(AuthContext);\r\n    return isAuthenticated ? <Navigate to=\"/home\" /> : <Outlet />\r\n}\r\n","const storageKeys = {\r\n    CLOUD_NAME: 'dah8nslpd',\r\n    API_KEY: '168873961773654',\r\n    API_SECRET: 'lig8cRrBNm2dC9neNGIbVlaQmlM',\r\n    API_URL:\"https://api.cloudinary.com/v1_1/dah8nslpd/image/upload\"\r\n}\r\n\r\n// read-aloud.v1\r\n// const serverKeys = {\r\n//     PARSE_APPLICATION_ID: 'egrMLKGtlfsVHbc0C96Rzi0pSFy0Ld7jjBwu1oQt',\r\n//     PARSE_HOST_URL: 'https://parseapi.back4app.com/',\r\n//     PARSE_JAVASCRIPT_KEY: 'KfgBOoITqXyvGsASRjsQ5DHMuDYltZ7PitAzQNpy'\r\n// }\r\n\r\n// read-aloud.v2\r\n// const serverKeys = {\r\n//     PARSE_APPLICATION_ID: 'GgFvyeWZ9kp2Q3uSTHtpliIQQmpLC2inhmroUwld',\r\n//     PARSE_HOST_URL: 'https://parseapi.back4app.com/',\r\n//     PARSE_JAVASCRIPT_KEY: '0ByVtvIBsLdxJEIqSzugDbHwAO23hnqRDXDvNDjE'\r\n// }\r\n\r\nconst serverKeys = {\r\n    PARSE_APPLICATION_ID: 'YjKlytQJo1humRIEH3Gc60URQzhuFnx9bQ3ilkNf',\r\n    PARSE_HOST_URL: 'https://parseapi.back4app.com/',\r\n    PARSE_JAVASCRIPT_KEY: 'IvQTv5y5lYBeXVgcZfyDzHrb6XabLtaHREZQfadT'\r\n}\r\n\r\nexport{\r\n    storageKeys,\r\n    serverKeys\r\n}\r\n","import Parse from 'parse/dist/parse.min.js';\r\nimport { serverKeys } from '../keys';\r\n\r\n\r\nconst PARSE_APPLICATION_ID = serverKeys.PARSE_APPLICATION_ID;\r\nconst PARSE_HOST_URL = serverKeys.PARSE_HOST_URL;\r\nconst PARSE_JAVASCRIPT_KEY = serverKeys.PARSE_JAVASCRIPT_KEY;\r\nParse.initialize(PARSE_APPLICATION_ID, PARSE_JAVASCRIPT_KEY);\r\nParse.serverURL = PARSE_HOST_URL;\r\n\r\nexport default Parse;\r\n","import Parse from \"../config/server\";\r\nimport { getBookById } from \"./book\";\r\n\r\n\r\nconst getRatingByBookId = async (bookId) => {\r\n    // const book = new Parse.Object('Book');\r\n    // book.id = bookId;\r\n    \r\n    const rating = new Parse.Object('BookRating');\r\n    const query = new Parse.Query(rating);\r\n    query.equalTo('book', bookId);\r\n\r\n    try {\r\n        const results = await query.find();\r\n        for (const object of results) {\r\n            const id = object.id\r\n            const star = Number(object.get('star'))\r\n            const voted = object.get('voted')\r\n            return {\r\n                id,\r\n                star,\r\n                voted\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error while fetching BookRating', error);\r\n    }\r\n}\r\n\r\nconst createBookRating = async (bookId) => {\r\n    // const book = new Parse.Object(\"Book\");\r\n    // book.id = bookId;\r\n\r\n    const rating = new Parse.Object('BookRating');\r\n    // rating.set('book', bookId);\r\n    rating.set('voted', []);\r\n    rating.set('star', 0);\r\n    \r\n    try {\r\n        const result = await rating.save();\r\n        console.log('BookRating created', result);\r\n        return result;\r\n    } catch (error) {\r\n        console.error('Error while creating BookRating: ', error);\r\n    }\r\n\r\n}\r\n\r\nconst rateBook = async (userId, bookId, value) => {\r\n    try {\r\n        const book = await getBookById(bookId);\r\n        console.log(book);\r\n\r\n        const updatedVoted = book.voted.slice();\r\n        updatedVoted.push(userId);\r\n        const updatedValue = Math.floor((value + book.rating) / updatedVoted.length)\r\n\r\n        const data = new Parse.Object('BookRating');\r\n        data.set('objectId', book.bookRatingId)\r\n        data.set('voted', updatedVoted);\r\n        data.set('star', updatedValue);\r\n\r\n        const result = await data.save();\r\n        console.log('BookRating updated', result);\r\n    } catch (error) {\r\n        console.error('Error while updating BookRating: ', error);\r\n    }\r\n};\r\n\r\n// const rateBook = async (userId, bookId, value) => {\r\n//     try {\r\n//         const existing = await getRatingByBookId(bookId);\r\n\r\n//         const updatedVoted = existing.voted.slice();\r\n//         updatedVoted.push(userId);\r\n//         const updatedValue = Math.floor((value + existing.star) / updatedVoted.length)\r\n\r\n//         const data = new Parse.Object('BookRating');\r\n//         data.set('objectId', existing.id)\r\n//         data.set('voted', updatedVoted);\r\n//         data.set('star', updatedValue);\r\n\r\n//         const result = await data.save();\r\n//         console.log('BookRating updated', result);\r\n//     } catch (error) {\r\n//         console.error('Error while updating BookRating: ', error);\r\n//     }\r\n// };\r\n\r\nexport {\r\n    rateBook,\r\n    createBookRating,\r\n    getRatingByBookId\r\n}\r\n\r\n// import Parse from \"../config/server\";\r\n\r\n\r\n// const getRatingByBookId = async (bookId) => {\r\n//     const book = new Parse.Object('Book');\r\n//     book.id = bookId;\r\n    \r\n//     const rating = new Parse.Object('BookRating');\r\n//     const query = new Parse.Query(rating);\r\n//     query.equalTo('book', book);\r\n\r\n//     try {\r\n//         const results = await query.find();\r\n//         for (const object of results) {\r\n//             const id = object.id\r\n//             const star = Number(object.get('star'))\r\n//             const voted = object.get('voted')\r\n//             return {\r\n//                 id,\r\n//                 star,\r\n//                 voted\r\n//             }\r\n//         }\r\n//     } catch (error) {\r\n//         console.error('Error while fetching BookRating', error);\r\n//     }\r\n// }\r\n\r\n// const createBookRating = async (bookId) => {\r\n//     const book = new Parse.Object(\"Book\");\r\n//     book.id = bookId;\r\n\r\n//  const rating = new Parse.Object('BookRating');\r\n//     rating.set('book', book);\r\n//     rating.set('voted', []);\r\n//     rating.set('star', 0);\r\n    \r\n//     try {\r\n//         const result = await rating.save();\r\n//         console.log('BookRating created', result);\r\n//         return result;\r\n//     } catch (error) {\r\n//         console.error('Error while creating BookRating: ', error);\r\n//     }\r\n\r\n// }\r\n\r\n// const rateBook = async (userId, bookId, value) => {\r\n//     try {\r\n//         const existing = await getRatingByBookId(bookId);\r\n\r\n//         const updatedVoted = existing.voted.slice();\r\n//         updatedVoted.push(userId);\r\n//         const updatedValue = Math.floor((value + existing.star) / updatedVoted.length)\r\n\r\n//         const data = new Parse.Object('BookRating');\r\n//         data.set('objectId', existing.id)\r\n//         data.set('voted', updatedVoted);\r\n//         data.set('star', updatedValue);\r\n\r\n//         const result = await data.save();\r\n//         console.log('BookRating updated', result);\r\n//     } catch (error) {\r\n//         console.error('Error while updating BookRating: ', error);\r\n//     }\r\n// };\r\n\r\n// export {\r\n//     rateBook,\r\n//     createBookRating,\r\n//     getRatingByBookId\r\n// }","import Parse from \"../config/server\";\r\n\r\nimport { createBookRating } from \"./rating\";\r\n\r\nconst createBook = async (data) => {\r\n\ttry {\r\n\t\tconst ratingResult = await createBookRating();\r\n\r\n\t\tconst book = new Parse.Object('Book');\r\n\t\tbook.set('title', data.title);\r\n\t\tbook.set('author', data.author);\r\n\t\tbook.set('description', data.description);\r\n\t\tbook.set('creator', Parse.User.current());\r\n\t\tbook.set('category', data.category);\r\n\t\tbook.set('imageUrl', data.image);\r\n\t\tbook.set('bookRating', ratingResult);\r\n\r\n\t\tconst result = await book.save();\r\n\t\treturn result;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while creating Book: ', error);\r\n\t}\r\n}\r\n\r\nconst editBook = async (bookId, data) => {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\tconst query = new Parse.Query(Book);\r\n\r\n\ttry {\r\n\t\tconst book = await query.get(bookId);\r\n\t\tbook.set('title', data.title);\r\n\t\tbook.set('author', data.author);\r\n\t\tbook.set('description', data.description);\r\n\t\tbook.set('creator', Parse.User.current());\r\n\t\tbook.set('category', data.category);\r\n\t\tbook.set('imageUrl', data.image);\r\n\t\ttry {\r\n\t\t\tconst result = await book.save();\r\n\t\t\treturn result;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating Book', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving Book', error);\r\n\t}\r\n}\r\n\r\nconst deleteBook = async (bookId) => {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\r\n\ttry {\r\n\t\tconst book = await query.get(bookId);\r\n\t\ttry {\r\n\t\t\tconst response = await book.destroy();\r\n\t\t\tconsole.log('Deleted ParseObject', response);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while deleting ParseObject', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving ParseObject', error);\r\n\t}\r\n}\r\n\r\nconst getBookById = async function (bookId) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.equalTo('objectId', bookId);\r\n\r\n\ttry {\r\n\t\tconst data = await query.first();\r\n\t\tconst result = viewModel(data);\r\n\t\treturn result;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getAllBooks = async function (pagination) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.descending('createdAt');\r\n\tquery.skip((pagination.counter-1)*pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getAllBooksCount = async function () {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByAuthor = async function (pagination,search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.matches('author', search, 'i');\r\n\tquery.skip((pagination.counter-1)*pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByAuthorCount = async function (search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.matches('author', search, 'i');\r\n\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByTitle = async function (pagination ,search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.matches('title', search, 'i');\r\n\tquery.skip((pagination.counter-1)*pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByTitleCount = async function (search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.matches('title', search, 'i');\r\n\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\n\r\nconst getBooksByCategory = async function (pagination,search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.equalTo('category', search);\r\n\tquery.skip((pagination.counter-1)*pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByCategoryCount = async function (search) {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.equalTo('category', search);\r\n\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByCreator = async function (pagination,search) {\r\n\tconst innerQuery = new Parse.Query('User');\r\n\tinnerQuery.equalTo('username', search.toLocaleLowerCase());\r\n\r\n\tconst query = new Parse.Query('Book');\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.matchesQuery('creator', innerQuery);\r\n\tquery.skip((pagination.counter-1)*pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getBooksByCreatorCount = async function (search) {\r\n\tconst innerQuery = new Parse.Query('User');\r\n\tinnerQuery.equalTo('username', search.toLocaleLowerCase());\r\n\r\n\tconst query = new Parse.Query('Book');\r\n\tquery.include('creator');\r\n\tquery.matchesQuery('creator', innerQuery);\r\n\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\n\r\nconst getLastFourBooks = async function () {\r\n\tconst Book = Parse.Object.extend('Book');\r\n\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.descending('createdAt').limit(4);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel)\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst getMostLikedBooks = async function () {\r\n\tconst BookRating = Parse.Object.extend('BookRating');\r\n\tconst innerQuery = new Parse.Query(BookRating);\r\n\tinnerQuery.equalTo('star', 5);\r\n\r\n\tconst Book = Parse.Object.extend('Book');\r\n\tconst query = new Parse.Query(Book);\r\n\tquery.include('creator');\r\n\tquery.include('bookRating');\r\n\tquery.matchesQuery('bookRating', innerQuery);\r\n\tquery.descending('createdAt');\r\n\tquery.limit(4);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconsole.log(data);\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching Book', error);\r\n\t}\r\n}\r\n\r\nconst viewModel = (record) => {\r\n\tconst creator = record.get('creator').get('username');\r\n\tconst bookRatingId = record.get('bookRating').id;\r\n\tconst rating = record.get('bookRating').get('star');\r\n\tconst voted = record.get('bookRating').get('voted');\r\n\tconst date = new Date(record.createdAt)\r\n\t\t.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric' })\r\n\r\n\treturn {\r\n\t\tid: record.id,\r\n\t\tcreatedAt: date,\r\n\t\ttitle: record.get('title'),\r\n\t\tauthor: record.get('author'),\r\n\t\tdescription: record.get('description'),\r\n\t\timageUrl: record.get('imageUrl'),\r\n\t\tcategory: record.get('category'),\r\n\t\tvoted,\r\n\t\trating,\r\n\t\tcreator,\r\n\t\tbookRatingId\r\n\t}\r\n}\r\n\r\nexport {\r\n\tcreateBook,\r\n\teditBook,\r\n\tdeleteBook,\r\n\tgetBookById,\r\n\tgetAllBooks,\r\n\tgetAllBooksCount,\r\n\tgetLastFourBooks,\r\n\tgetMostLikedBooks,\r\n\tgetBooksByAuthor,\r\n\tgetBooksByAuthorCount,\r\n\tgetBooksByTitle,\r\n\tgetBooksByTitleCount,\r\n\tgetBooksByCategory,\r\n\tgetBooksByCategoryCount,\r\n\tgetBooksByCreator,\r\n\tgetBooksByCreatorCount\r\n}\r\n","import Parse from \"../config/server\";\r\n\r\nconst getSubscriptionByEventId = async (eventId) => {\r\n    const subscription = new Parse.Object('EventSubscription');\r\n    const query = new Parse.Query(subscription);\r\n    query.equalTo('event', eventId);\r\n\r\n    try {\r\n        const result = await query.find();\r\n        return {\r\n            id: result.id,\r\n            subscribed: result.get('subscribed')\r\n        }\r\n    } catch (error) {\r\n        console.error('Error while fetching EventSubscription', error);\r\n    }\r\n}\r\n\r\nconst getMySubscriptions = async (username) => {\r\n    const subscription = new Parse.Object('EventSubscription');\r\n    const query = new Parse.Query(subscription);\r\n    query.include('event');\r\n    query.containedIn('subscribed', [username]);\r\n\r\n    try {\r\n        const data = await query.find();\r\n        const results = data.map(viewModel);\r\n        return results;\r\n    } catch (error) {\r\n        console.error('Error while fetching EventSubscription', error);\r\n    }\r\n}\r\n\r\nconst createEventSubscription = async (event) => {\r\n    const subscription = new Parse.Object('EventSubscription');\r\n    subscription.set('subscribed', []);\r\n    subscription.set('event', event);\r\n\r\n    try {\r\n        const result = await subscription.save();\r\n        console.log('EventSubscription created', result);\r\n        return result;\r\n    } catch (error) {\r\n        console.error('Error while creating EventSubscription: ', error);\r\n    }\r\n\r\n}\r\n\r\nconst signSubscription = async (userId, subscriptionId, subscribed) => {\r\n    const subscription = new Parse.Object('EventSubscription');\r\n    const query = new Parse.Query(subscription);\r\n\r\n    try {\r\n        const data = await query.get(subscriptionId);\r\n        data.set('subscribed', [...subscribed, userId]);\r\n\r\n        try {\r\n            const result = await data.save();\r\n            console.log('EventSubscription updated', result);\r\n        } catch (error) {\r\n            console.error('Error while updating EventSubscription', error);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error while retrieving object EventSubscription', error);\r\n    }\r\n}\r\n\r\nconst unsignSubscription = async (username,subscriptionId) => {\r\n    try {\r\n        const subscription = new Parse.Object('EventSubscription');\r\n        const query = new Parse.Query(subscription);\r\n        \r\n        const data = await query.get(subscriptionId);\r\n\r\n        const list = data.get('subscribed');\r\n        list.splice(list.indexOf(username), 1);\r\n        data.set('subscribed', list);\r\n\r\n        const result = await data.save();\r\n        console.log('EventSubscription updated', result);\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Error while updating EventSubscription: ', error);\r\n    }\r\n};\r\n\r\nconst viewModel = (record) => {\r\n\tconst dateRespone=new Date(record.get('event').get('date'));\r\n\tconst date = dateRespone\r\n\t\t.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric',hour12: false });\r\n\treturn {\r\n\t\tsubscriptionId: record.id,\r\n\t\tname: record.get('event').get('name'),\r\n\t\timageUrl: record.get('event').get('imageUrl'),\r\n\t\tstatus: record.get('event').get('status'),\r\n\t\tdate,\r\n        eventId:record.get('event').id\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport {\r\n    createEventSubscription,\r\n    signSubscription,\r\n    getMySubscriptions,\r\n    unsignSubscription,\r\n    getSubscriptionByEventId\r\n}\r\n","import Parse from \"../config/server\";\r\nimport { createEventSubscription } from \"./subscription\";\r\n\r\n\r\nconst createEvent = async (data) => {\r\n\ttry {\r\n\t\tconst event = new Parse.Object('Event');\r\n\t\tevent.set('name', data.name);\r\n\t\tevent.set('date', data.date);\r\n\t\tevent.set('description', data.description);\r\n\t\tevent.set('creator', Parse.User.current());\r\n\t\tevent.set('location', new Parse.GeoPoint({latitude: data.location[0], longitude: data.location[1]}));\r\n\t\tevent.set('imageUrl', data.image);\r\n\t\tevent.set('status', data.status);\r\n\t\tconst response = await event.save();\r\n\r\n\t\tconst subscription = await createEventSubscription(response);\r\n\t\t// const subscription = await createEventSubscription(event.id);\r\n\t\tresponse.set('subscription', subscription);\r\n\t\tconst result = await response.save();\r\n\r\n\t\treturn result;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while creating event: ', error);\r\n\t}\r\n}\r\n\r\nconst editEvent = async (eventId, data) => {\r\n\tconst event = Parse.Object.extend('Event');\r\n\tconst query = new Parse.Query(event);\r\n\r\n\ttry {\r\n\t\tconst event = await query.get(eventId);\r\n\t\tevent.set('name', data.name);\r\n\t\tevent.set('date', data.date);\r\n\t\tevent.set('description', data.description);\r\n\t\tevent.set('creator', Parse.User.current());\r\n\t\tevent.set('location', new Parse.GeoPoint({latitude: data.location[0], longitude: data.location[1]}));\r\n\t\tevent.set('imageUrl', data.image);\r\n\t\t// event.set('status', data.status);\r\n\t\ttry {\r\n\t\t\tconst result = await event.save();\r\n\t\t\treturn result;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating event', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving event', error);\r\n\t}\r\n}\r\n\r\nconst cancelEvent = async (eventId) => {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\r\n\ttry {\r\n\t\tconst event = await query.get(eventId);\r\n\t\ttry {\r\n\t\t\tevent.set('status', 'cancelled');\r\n\t\t\tconst result = await event.save();\r\n\t\t\treturn result;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating event', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving event', error);\r\n\t}\r\n}\r\n\r\nconst getEventById = async function (eventId) {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\tquery.include('creator');\r\n\tquery.include('subscription');\r\n\tquery.equalTo('objectId', eventId);\r\n\r\n\ttry {\r\n\t\tconst data = await query.first();\r\n\t\tconst result = viewModel(data);\r\n\t\treturn result;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getAllEvents = async function (pagination) {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\t// query.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.descending('createdAt');\r\n\tquery.skip((pagination.counter - 1) * pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getAllEventsCount = async function () {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getActiveEvents = async function (pagination) {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\t// query.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.equalTo('status','active');\r\n\tquery.greaterThan('date',new Date());\r\n\tquery.ascending('date');\r\n\tquery.skip((pagination.counter - 1) * pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getActiveEventsCount = async function () {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\t// query.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.equalTo('status','active');\r\n\tquery.greaterThan('date',new Date());\r\n\tquery.ascending('date');\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getCancelledEvents = async function (pagination) {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\t// query.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.equalTo('status','cancelled');\r\n\tquery.greaterThan('date',new Date());\r\n\tquery.ascending('date');\r\n\tquery.skip((pagination.counter - 1) * pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getCancelledEventsCount = async function () {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\t// query.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.equalTo('status','cancelled');\r\n\tquery.greaterThan('date',new Date());\r\n\tquery.ascending('date');\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getMyEvents = async function (username, pagination) {\r\n\tconst innerQuery = new Parse.Query('User');\r\n\tinnerQuery.equalTo('username', username.toLocaleLowerCase());\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\tquery.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.descending('createdAt');\r\n\tquery.matchesQuery('creator', innerQuery);\r\n\tquery.skip((pagination.counter - 1) * pagination.perPage).limit(pagination.perPage);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getMyEventsCount = async function (username) {\r\n\tconst innerQuery = new Parse.Query('User');\r\n\tinnerQuery.equalTo('username', username.toLocaleLowerCase());\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\tquery.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.descending('createdAt');\r\n\tquery.matchesQuery('creator', innerQuery);\r\n\r\n\ttry {\r\n\t\treturn await query.count();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getLastFourEvents = async function () {\r\n\tconst event = Parse.Object.extend('Event');\r\n\r\n\tconst query = new Parse.Query(event);\r\n\tquery.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.descending('createdAt').limit(4);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel)\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst getMostRecentEvents = async function () {\r\n\tconst event = Parse.Object.extend('Event');\r\n\tconst query = new Parse.Query(event);\r\n\tquery.include('creator');\r\n\t// query.include('subscription');\r\n\tquery.equalTo('status','active');\r\n\tquery.greaterThan('date',new Date());\r\n\tquery.descending('date');\r\n\tquery.limit(4);\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.map(viewModel);\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching event', error);\r\n\t}\r\n}\r\n\r\nconst viewModel = (record) => {\r\n\tconst creator = record.get('creator').get('username');\r\n\tconst subscriptionId = record.get('subscription').id;\r\n\tconst subscribed = record.get('subscription').get('subscribed');\r\n\tconst createdAt = new Date(record.createdAt)\r\n\t\t.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric',hour12: false });\r\n\tconst dateRespone=new Date(record.get('date'));\r\n\tconst date = dateRespone\r\n\t\t.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric',hour12: false });\r\n\t\t\r\n\t\tconst dateObj={\r\n\t\tyear:dateRespone.getFullYear(),\r\n\t\tmonth:(dateRespone.getMonth()+1),\r\n\t\tday:dateRespone.getDate(),\r\n\t\thour:(dateRespone.getHours()),\r\n\t\tminute:dateRespone.getMinutes()\r\n\t}\r\n\tconsole.log(dateObj);\r\n\t\r\n\treturn {\r\n\t\tid: record.id,\r\n\t\tcreatedAt,\r\n\t\tname: record.get('name'),\r\n\t\tdescription: record.get('description'),\r\n\t\timageUrl: record.get('imageUrl'),\r\n\t\tstatus: record.get('status'),\r\n\t\tlocation:[record.get('location')._latitude,record.get('location')._longitude],\r\n\t\tdate,\r\n\t\tcreator,\r\n\t\tsubscriptionId,\r\n\t\tsubscribed,\r\n\t\tdateObj\r\n\t}\r\n}\r\n\r\nexport {\r\n\tcreateEvent,\r\n\teditEvent,\r\n\tcancelEvent,\r\n\tgetEventById,\r\n\tgetMyEvents,\r\n\tgetMyEventsCount,\r\n\tgetAllEvents,\r\n\tgetAllEventsCount,\r\n\tgetActiveEvents,\r\n\tgetActiveEventsCount,\r\n\tgetCancelledEvents,\r\n\tgetCancelledEventsCount,\r\n\tgetLastFourEvents,\r\n\tgetMostRecentEvents\r\n}\r\n","import './index.css'\r\n\r\nconst Loader = () => {\r\n\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner\">\r\n        <div className=\"spinner-element\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader;","const getNavigation = (isAuthenticated, user) => {\r\n\r\n  const authLinks = [\r\n    {\r\n      title: \"Books\",\r\n      link: \"/books\"\r\n    },\r\n    {\r\n      title: \"Events\",\r\n      link: \"/events\"\r\n    },\r\n    {\r\n      title: \"My Page\",\r\n      link: `/my-page/${isAuthenticated && user.userId}`\r\n    },\r\n    {\r\n      title: \"Logout\",\r\n      link: \"/logout\"\r\n    }\r\n  ]\r\n\r\n  const guestLinks = [\r\n    {\r\n      title: \"Books\",\r\n      link: \"/books\"\r\n    },\r\n    {\r\n      title: \"Events\",\r\n      link: \"/events\"\r\n    },\r\n    {\r\n      title: \"Register\",\r\n      link: \"/register\"\r\n    },\r\n    {\r\n      title: \"Login\",\r\n      link: \"/login\"\r\n    }\r\n  ]\r\n  return isAuthenticated ? authLinks : guestLinks;\r\n}\r\n\r\nexport default getNavigation;","import { Link } from 'react-router-dom'\r\n\r\nimport './index.css'\r\n\r\nconst NavLink = ({ title, href, type }) => {\r\n  return (\r\n    <div  className={`${type}-list-item`}>\r\n      <Link to={href} className={`${type}-link`}>\r\n        {title}\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavLink;\r\n","import { Link } from 'react-router-dom'\r\n\r\nimport './index.css'\r\n\r\nconst LogoLink = (props) => {\r\n  return (\r\n    <Link to=\"/home\"  >\r\n      {props.children}\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default LogoLink;","import { useContext, useEffect, useState } from 'react';\r\n\r\nimport './index.css'\r\n\r\nimport getNavigation from '../../utils/navigation'\r\nimport AuthContext from '../../context/authContext';\r\n\r\nimport Link from '../nav-link'\r\nimport LogoLink from '../logo-link';\r\n\r\n\r\nconst Header = () => {\r\n  const { user,isAuthenticated } = useContext(AuthContext);\r\n  const [links, setLinks] = useState([])\r\n\r\n  useEffect(() => {\r\n    setLinks(getNavigation(isAuthenticated, user))\r\n  }, [user])\r\n  \r\n  const date = new Date().toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric' })\r\n\r\n  return (\r\n    <header className=\"header-wrapper\">\r\n      <div className=\"logo-container-header\">\r\n        <span className=\"logo-header\">\r\n          <LogoLink href=\"/home\" className=\"logo-link\">{<img alt=\"logo\" className=\"logo-img-header\" src=\"/read-aloud/logo.png\" />}</LogoLink>\r\n        </span>\r\n        <div className=\"text-header\">\r\n          <span className=\"read-aloud\">&gt;&gt;&gt; read aloud &lt;&lt;&lt;</span>\r\n          <span>{date}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"links-container\">\r\n        {\r\n          links.map(x => {\r\n            return (\r\n              <Link\r\n                key={x.title}\r\n                href={x.link}\r\n                title={x.title}\r\n                type=\"header\"\r\n              />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import './index.css';\r\n\r\nimport LogoLink from '../logo-link';\r\n\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer-wrapper\">\r\n      <div className=\"logo-container-footer\" >\r\n        <span className=\"logo-footer\">\r\n          <LogoLink href=\"/home\">{<img alt=\"logo\" className=\"logo-img-footer\" src=\"/read-aloud/logo.png\" />}</LogoLink>\r\n        </span>\r\n        <span className=\"text-footer\">READ ALOUD &copy; 2021</span>\r\n      </div>\r\n      <p>Designed and created by nradkova</p>\r\n    </footer>\r\n  )\r\n}\r\nexport default Footer;","import { useRef } from 'react';\r\n\r\nimport Cookies from \"js-cookie\";\r\n\r\nimport './index.css';\r\n\r\nCookies.set('SameSite','None',{ secure: true });\r\n\r\nconst onClickHandler = (e) => {\r\n  window.scrollTo(0, 0)\r\n}\r\n\r\nconst scrollToTop = () => {\r\n  if (window.scrollY > 0) {\r\n    window.scrollTo(0, 0);\r\n  }\r\n}\r\n\r\nconst Scroller = () => {\r\n  const scroller = useRef()\r\n  \r\n  scrollToTop();\r\n  \r\n  const setVisible = () => {\r\n    if (window.innerHeight + 300 >= window.outerHeight) {\r\n      if (scroller.current) {\r\n        scroller.current.style.display = \"block\";\r\n      }\r\n    }\r\n  }\r\n\r\n  window.addEventListener('scroll', setVisible);\r\n  \r\n  return (\r\n    <button ref={scroller} className={`scroller-button`} onClick={onClickHandler}><i className=\"fas fa-arrow-up\"></i></button>\r\n  )\r\n}\r\n\r\nexport default Scroller;","import './index.css'\r\n\r\nimport Header from '../header'\r\nimport Footer from '../footer'\r\nimport Scroller from '../scroller'\r\nconst PageLayout = (props) => {\r\n  return (\r\n    <div className=\"page-wrapper\">\r\n      <Header />\r\n      <div className=\"page-wrapper-inner\">\r\n          {props.children}\r\n      </div>\r\n      <Scroller />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageLayout;","export const MAX_DEFAULT_RATING=5;\r\n\r\nexport const DEFAULT_BOOK_CATEGORIES=[\"classic\", \"fantasy\", \"science fiction\", \"adventure\", \"romance\", \"detective\", \"horror\", \"thriller\", \"historical fiction\", \"YA fiction\", \"travel\", \"education & teaching\", \"social sciences\", \"biography\", \"cooking\", \"art\", \"self - help\", \"motivational\", \"health & fitness\", \"history\", \"religion & spirituality\", \"crafts & hobbies\",\"comedy\", \"business & money\"];\r\n\r\nexport const DEFAULT_BOOK_URL=\"/read-aloud/default_book.png\";\r\n\r\nexport const DEFAULT_EVENT_URL=\"/read-aloud/default_event.png\";\r\n\r\nexport const INITIAL_AUTH_VALUE = {\r\n    userId: \"\",\r\n    username: \"\",\r\n    sessionToken: \"\"\r\n}\r\n\r\nexport const INITIAL_USER_FORM_VALUE = {\r\n    username: \"\",\r\n    password: \"\",\r\n    rePass: \"\"\r\n}\r\n\r\nexport const INITIAL_AUTH_VALIDATION_ERROR = {\r\n    username: null,\r\n    password: null,\r\n    rePass: null,\r\n    exists: null,\r\n    credentials:null\r\n};\r\n\r\nexport const INITIAL_BOOK_VALUE = {\r\n    id: \"\",\r\n    title: \"\",\r\n    author: \"\",\r\n    description: \"\",\r\n    imageUrl: \"\",\r\n    rating: \"\",\r\n    createdAt: \"\",\r\n    categories:[]\r\n}\r\n\r\nexport const INITIAL_BOOK_VALIDATION_ERROR = {\r\n    title: null,\r\n    author: null,\r\n    image: null,\r\n    description: null,\r\n    required:null\r\n};\r\n\r\nexport const INITIAL_EVENT_VALUE = {\r\n    id: \"\",\r\n    name: \"\",\r\n    date: \"\",\r\n    location: \"\",\r\n    description: \"\",\r\n    imageUrl: \"\",\r\n    status: \"\",\r\n    createdAt:\"\",\r\n    creator:\"\",\r\n    dateObj:{}\r\n}\r\n\r\nexport const INITIAL_EVENT_VALIDATION_ERROR = {\r\n    name:null,\r\n    date: null,\r\n    location: null,\r\n    description: null,\r\n    image: null,\r\n    required:null\r\n}\r\n\r\nexport const DEFAULT_LAG_LTD = [38.6855, -101.0733];\r\n\r\nexport const DEFAULT_MAP_CENTER = [42.69751, 23.32415];\r\n\r\nexport const DEFAULT_MAP_CENTER_CITY = \"Sofia\";\r\n\r\nexport const INITIAL_NOTIFICATION_VALUE={\r\n    show:false,\r\n    message:\"\",\r\n    result:\"\",\r\n    // objectId:\"\"\r\n}\r\n","import { MAX_DEFAULT_RATING } from '../../common';\r\nimport './index.css'\r\n\r\nconst Star = ({ rating }) => {\r\n    \r\n    const stars = Array(MAX_DEFAULT_RATING).fill(1);\r\n\r\n    return (\r\n        <>\r\n            {stars.map((x, i) =>\r\n                i < rating\r\n                    ? (<span key={i} className=\"fa fa-star checked\"></span>)\r\n                    : (<span key={i} className=\"fa fa-star\"></span>)\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Star;","import { Link } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\nimport Star from '../star';\r\n\r\nconst BookCardMedium = ({ id, imageUrl, title, author, rating = '0' }) => {\r\n   \r\n    return (\r\n        <div className=\"book-card-medium\">\r\n            <span className=\"book-card-medium-img\">\r\n                <img src={imageUrl ? imageUrl :\"/default_book.png\"} alt=\"Book_cover\" />\r\n            </span>\r\n            <div className=\"book-card-medium-content\">\r\n                <Link className=\"details-link\" to={`/books/${id}`}>VIEW</Link>\r\n                <div className=\"book-card-medium-content-text\">\r\n                    <p><span className=\"book-card-medium-content-heading\" >Title: </span>{title}</p>\r\n                    <p> <span className=\"book-card-medium-content-heading\"> Author: </span>{author}</p>\r\n                    <p><span className=\"book-card-medium-content-heading\">Rating: </span>\r\n                        <Star rating={rating} />\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookCardMedium;","import { Link } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\nconst EventCardMedium = ({ id, imageUrl, name, date, status,createdAt }) => {\r\n   \r\n    return (\r\n        <div className=\"event-card-medium\">\r\n            <span className=\"event-card-medium-img\">\r\n                <img src={imageUrl ? imageUrl :\"/default_event.png\"} alt=\"event_cover\" />\r\n            </span>\r\n            <div className=\"event-card-medium-content\">\r\n                <Link className=\"details-link\" to={`/events/${id}`}>VIEW</Link>\r\n                <div className=\"event-card-medium-content-text\">\r\n                    <p><span className=\"event-card-medium-content-heading\" >Topic: </span>{name}</p>\r\n                    <p> <span className=\"event-card-medium-content-heading date\"> Date: </span>{date}</p>\r\n                    <p><span className=\"event-card-medium-content-heading\">Status: </span>{status}</p>\r\n                    <p className='date-post' > <span className=\"event-card-medium-content-heading date-post\"> Posted on: </span>{createdAt}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EventCardMedium;","import { useState, useEffect } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport { getLastFourBooks, getMostLikedBooks } from \"../../services/book\";\r\nimport { getLastFourEvents, getMostRecentEvents } from \"../../services/event\";\r\n\r\nimport Loader from \"../../components/loader\";\r\nimport PageLayout from \"../../components/page-layout\";\r\nimport BookCardMedium from \"../../components/book-card-medium\";\r\nimport EventCardMedium from \"../../components/medium-event-card\";\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const [books, setBooks] = useState([])\r\n  const [events, setEvents] = useState([])\r\n  const [isLoading, setIsloading] = useState(false);\r\n  const [labelLatestBooks, setLabelLatestBooks] = useState('selected');\r\n  const [labelLikedBooks, setLabelLikedBooks] = useState('');\r\n  const [labelUpcomingEvents, setLabelUpcomingEvents] = useState('selected');\r\n  const [labelNewestEvents, setLabelNewestEvents] = useState('');\r\n\r\n  useEffect(() => {\r\n    setIsloading(true);\r\n    latestBooksHandler();\r\n    setLabelLatestBooks('selected');\r\n    newestEventHandler();\r\n    setLabelUpcomingEvents('selected');\r\n    setIsloading(false);\r\n  }, [])\r\n\r\n\r\n  const mostLikedBooksHandler = async () => {\r\n    setIsloading(true);\r\n    const res = await getMostLikedBooks();\r\n    setIsloading(false);\r\n    setBooks(res);\r\n    setLabelLikedBooks('selected');\r\n    setLabelLatestBooks('');\r\n  }\r\n\r\n  const latestBooksHandler = async () => {\r\n    setIsloading(true);\r\n    const res = await getLastFourBooks();\r\n    setIsloading(false);\r\n    setBooks(res);\r\n    setLabelLatestBooks('selected');\r\n    setLabelLikedBooks('');\r\n  }\r\n\r\n  const newestEventHandler = async () => {\r\n    setIsloading(true);\r\n    const res = await getLastFourEvents();\r\n    setIsloading(false);\r\n    setEvents(res);\r\n    setLabelNewestEvents('selected');\r\n    setLabelUpcomingEvents('');\r\n  }\r\n\r\n  const upcomingEventsHandler = async () => {\r\n    setIsloading(true);\r\n    const res = await getMostRecentEvents();\r\n    setIsloading(false);\r\n    setEvents(res);\r\n    setLabelUpcomingEvents('selected');\r\n    setLabelNewestEvents('');\r\n  }\r\n\r\n  const pageIntro = (\r\n    <div className=\"inner-container\">\r\n      <section className=\"inner-container-text\">\r\n        <h3>READING IS AN EMOTION THAT CAN BE SHARED.</h3>\r\n        <h1 className=\"read-aloud-header\">&gt;&gt;&gt; read aloud &lt;&lt;&lt; </h1>\r\n        <h3> IS A PLACE TO </h3>\r\n        <h3> PRESENT YOUR FAVOURITE BOOKS AND FIND FRIENDS.</h3>\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus nulla sequi ipsam modi quas doloribus a impedit quibusdam id numquam officia commodi voluptate maxime nihil assumenda temporibus, voluptatem accusantium minus?\r\n      </section>\r\n      <section className=\"inner-container-img\">\r\n        <img src=\"/read-aloud/reading-time.jpg\" alt=\"Reading Time\" />\r\n      </section>\r\n    </div>\r\n  )\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <PageLayout>\r\n        {pageIntro}\r\n        <Loader />\r\n      </PageLayout>\r\n    )\r\n  }\r\n  \r\n  console.log('render');\r\n\r\n  return (\r\n    <PageLayout>\r\n      {pageIntro}\r\n      <div className=\"inner-container-books-events\">\r\n        <section className=\"inner-container-books\">\r\n          <div className=\"books-container\">\r\n            {books.map(x => <BookCardMedium key={x.id} id={x.id} imageUrl={x.imageUrl} title={x.title} author={x.author} rating={x.rating} />)}\r\n          </div>\r\n          {books.length > 0\r\n            ? <div className=\"label-container\">\r\n              <p className={`label ${labelLatestBooks}`} onClick={latestBooksHandler}>LATEST BOOKS</p>\r\n              <p className={`label ${labelLikedBooks}`} onClick={mostLikedBooksHandler}>MOST LIKED BOOKS</p>\r\n            </div>\r\n            : <h3>No books yet...</h3>\r\n          }\r\n        </section>\r\n        <section className=\"inner-container-events\">\r\n          <div className=\"events-container\">\r\n            {events.map(x => <EventCardMedium key={x.id} id={x.id} imageUrl={x.imageUrl} name={x.name} createdAt={x.createdAt} date={x.date} status={x.status} />)}\r\n          </div>\r\n          {events.length > 0\r\n            ? <div className=\"label-container\">\r\n              <p className={`label ${labelNewestEvents}`} onClick={newestEventHandler} >NEWEST EVENTS</p>\r\n              <p className={`label ${labelUpcomingEvents}`} onClick={upcomingEventsHandler}>UPCOMING EVENTS</p>\r\n            </div>\r\n            : <h3>No events yet...</h3>\r\n          }\r\n        </section>\r\n      </div>\r\n    </PageLayout>\r\n  )\r\n}\r\n\r\nexport default Home;","import { Link } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\n\r\nconst Landing = () => {\r\n    return (\r\n        <div className=\"landing-page-wrapper\">\r\n            <div className=\"line-first\">\r\n                <p> You love reading...</p>\r\n            </div>\r\n            <div className=\"line-second\">\r\n                <p> Find other people who share your passion.</p>\r\n            </div>\r\n            <div className=\"line-third\">\r\n                <p> Join them.</p>\r\n                <Link to='/home' ><i className=\"fas fa-book-reader\"></i></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Landing;","import { Link } from \"react-router-dom\";\r\n\r\nimport './index.css';\r\n\r\nconst NoMatch = () => {\r\n    return (\r\n        <div className=\"no-match\">\r\n            <h2>Something went wrong!</h2>\r\n            <p>\r\n                <Link to=\"/home\">Go to the home page</Link>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NoMatch;","const userDataValidation = (type, value, check) => {\r\n    if (type === \"username\") {\r\n        if (value.trim().length < 5 || value.trim().length > 15) {\r\n            return \"Username must be between 5 and 15 characters long.\";\r\n        }\r\n    }\r\n\r\n    if (type === \"password\") {\r\n        if (value.trim().length < 6 || value.trim().length > 12) {\r\n            return \"Password must be between 6 and 12 characters long.\";\r\n        }\r\n    }\r\n\r\n    if (type === \"rePass\") {\r\n        if (value !== check) {\r\n            return \"Passwords don't match.\";\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nconst bookDataValidation = (type, value) => {\r\n\r\n    if (type === \"title\") {\r\n        if (value.trim().length < 2) {\r\n            return \" Book title must be at least 2 characters.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"author\") {\r\n        if (value.trim().length < 2 || value.trim() > 50) {\r\n            return \" Book author must  be between 2 and 50 characters.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"description\") {\r\n        if (value.trim().length === 0) {\r\n            return \"Book description is required.\"\r\n        }\r\n        if (value.trim().length > 500) {\r\n            return \"Book description can be up to 500 characters.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"imageUrl\") {\r\n        if (value.size > 0 && !value.type.includes(\"image\")) {\r\n            return \"Choose images to upload (PNG, JPG, JPEG...)\"\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\nconst eventDataValidation = (type, value,month) => {\r\n\r\n    if (type === \"name\") {\r\n        if (value.trim().length < 2) {\r\n            return \" Event name must be at least 2 characters.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"date\") {\r\n        const now = Date.now();\r\n        console.log(value);\r\n        if (!value || value.getFullYear()===1899||month==='') {\r\n            return \"Date is invalid.\"\r\n        }\r\n        if (now > value) {\r\n            return \"You have entered a past date.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"description\") {\r\n        if (value.trim().length === 0) {\r\n            return \"Event description is required.\"\r\n        }\r\n        if (value.trim().length > 500) {\r\n            return \"Event description can be up to 500 characters.\"\r\n        }\r\n    }\r\n\r\n    if (type === \"imageUrl\") {\r\n        if (value.size > 0 && !value.type.includes(\"image\")) {\r\n            return \"Choose images to upload (PNG, JPG, JPEG...)\"\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nconst searchDataValidation = (criteria, value) => {\r\n    if (!criteria || !value || criteria.trim() === \"\" || value.trim() === \"\") {\r\n        return \"Both search keys and criteria are required. E.g. 'The lord of the rings' and 'by 'title'\"\r\n    }\r\n    return null;\r\n}\r\n\r\nconst commentDataValidation = (value) => {\r\n    if (value.trim().length === 0 || value.trim().length > 400) {\r\n        return \"*Your comment can not be 0 or more than 400 characters.\";\r\n    }\r\n    return null;\r\n}\r\n\r\nexport {\r\n    userDataValidation,\r\n    bookDataValidation,\r\n    searchDataValidation,\r\n    commentDataValidation,\r\n    eventDataValidation\r\n}\r\n","import {useState } from \"react\";\r\n\r\nimport {\r\n    getAllBooks,\r\n    getAllBooksCount,\r\n    getBooksByAuthor,\r\n    getBooksByAuthorCount,\r\n    getBooksByCategory,\r\n    getBooksByCategoryCount,\r\n    getBooksByTitle,\r\n    getBooksByTitleCount,\r\n    getBooksByCreator,\r\n    getBooksByCreatorCount\r\n} from \"../services/book\";\r\n\r\nimport { searchDataValidation } from \"../utils/validation\";\r\n\r\n// const queryParams={\r\n//     all:true,\r\n//     myPosts:false,\r\n//     title:null,\r\n//     author:null,\r\n//     category:null,\r\n//     postedBy:null\r\n// }\r\n\r\nlet isDisabledIncreaseButton=true;\r\nlet isDisabledDecreaseButton=true;\r\n\r\nlet searchMessage={\r\n    criteria:null,\r\n    search:null\r\n}\r\n\r\nconst useBookSearch = (username) => {\r\n    const [query, setQuery] = useState({all:true});\r\n    const [books, setBooks] = useState([]);\r\n    const [pagination, setPagination] = useState({ counter: 1, perPage: 2, totalPages: 0, count: 0 });\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [validationError, setValidationError] = useState(null);\r\n\r\n    const requestCountHandler = async () => {\r\n\r\n        setIsloading(true);\r\n        let count = 0;\r\n        if (query.all) {\r\n            count = await getAllBooksCount();\r\n        }\r\n        if (query.myPosts) {\r\n            count = await getBooksByCreatorCount(query.myPosts);\r\n        }\r\n        if (query.postedBy) {\r\n            count = await getBooksByCreatorCount(query.postedBy);\r\n        }\r\n        if (query.category) {\r\n            count = await getBooksByCategoryCount(query.category);\r\n        }\r\n        if (query.author) {\r\n            count = await getBooksByAuthorCount(query.author);\r\n        }\r\n        if (query.title) {\r\n            count = await getBooksByTitleCount(query.title);\r\n        }\r\n        const totalPages = Math.ceil(count / pagination.perPage);\r\n        if(totalPages<=1){\r\n            isDisabledIncreaseButton=true;\r\n            isDisabledDecreaseButton=true;\r\n        }\r\n        if(totalPages>1){\r\n            isDisabledIncreaseButton=false;\r\n        }\r\n\r\n        setPagination(prev => ({ ...prev, count, totalPages }));\r\n        setIsloading(false);\r\n    }\r\n\r\n    const requestDataHandler = async () => {\r\n        setIsloading(true);\r\n        let books = [];\r\n        if (query.all) {\r\n            books = await getAllBooks(pagination);\r\n        }\r\n        if (query.myPosts) {\r\n            books = await getBooksByCreator(pagination, query.myPosts);\r\n        }\r\n        if (query.postedBy) {\r\n            books = await getBooksByCreator(pagination, query.postedBy);\r\n        }\r\n        if (query.category) {\r\n            books = await getBooksByCategory(pagination, query.category);\r\n        }\r\n        if (query.author) {\r\n            books = await getBooksByAuthor(pagination, query.author);\r\n        }\r\n        if (query.title) {\r\n            books = await getBooksByTitle(pagination, query.title);\r\n        }\r\n\r\n        setIsloading(false);\r\n        setBooks(books);\r\n    }\r\n    \r\n    const increaseCounter = () => {\r\n        const counter = pagination.counter + 1;\r\n        if (counter >= pagination.totalPages) {\r\n            isDisabledIncreaseButton=true;\r\n        }\r\n            isDisabledDecreaseButton=false;\r\n        setPagination(prev => ({ ...prev, counter:counter }));\r\n    }\r\n\r\n    const decreaseCounter = () => {\r\n        const counter = pagination.counter - 1;\r\n        if (counter === 1) {\r\n            isDisabledDecreaseButton=true;\r\n        }\r\n            isDisabledIncreaseButton=false;\r\n        setPagination(prev => ({ ...prev, counter:counter }));\r\n    }\r\n\r\n\r\n    const onClickMyPostsHandler = async () => {\r\n        setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter:1 }));\r\n        setQuery({myPosts:username});\r\n        searchMessage={ criteria: username + ' profile', search: 'books' };\r\n\r\n    }\r\n\r\n    const onClickAllPostsHandler = async () => {\r\n        setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter:1 }));\r\n        setQuery({all:true});\r\n        searchMessage.criteria=null;\r\n    }\r\n\r\n\r\n    const onSubmitSearchHandler = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.target);\r\n        const search = formData.get('search');\r\n        const criteria = formData.get('criteria');\r\n        const error = searchDataValidation(criteria, search);\r\n\r\n        setValidationError(error);\r\n        if (error) {\r\n            return;\r\n        }\r\n\r\n        setPagination(prev => ({ ...prev, counter:1 }));\r\n        setQuery({[criteria]:search});\r\n\r\n        if (criteria === 'postedBy') {\r\n            searchMessage={ criteria: 'users', search };\r\n        }\r\n        if (criteria === 'category') {\r\n            searchMessage={ criteria: 'books categories', search };\r\n        }\r\n        if (criteria === 'author') {\r\n            searchMessage={ criteria: 'books authors', search };\r\n        }\r\n        if (criteria === 'title') {\r\n            searchMessage={ criteria: 'books titles', search };\r\n        }\r\n        e.target.reset();\r\n    }\r\n    \r\n    return {\r\n        query,\r\n        books,\r\n        pagination,\r\n        isLoading,\r\n        validationError,\r\n        searchMessage,\r\n        isDisabledIncreaseButton,\r\n        isDisabledDecreaseButton,\r\n        decreaseCounter,\r\n        increaseCounter,\r\n        onClickMyPostsHandler,\r\n        onClickAllPostsHandler,\r\n        onSubmitSearchHandler,\r\n        requestCountHandler,\r\n        requestDataHandler,\r\n    }\r\n}\r\n\r\nexport default useBookSearch;\r\n\r\n// const useBookSearch = (username) => {\r\n//     const [query, setQuery] = useState(queryParams);\r\n//     const [books, setBooks] = useState([]);\r\n//     const [pagination, setPagination] = useState({ counter: 1, perPage: 2, totalPages: 0, count: 0 });\r\n//     const [isLoading, setIsloading] = useState(false);\r\n//     const [validationError, setValidationError] = useState(null);\r\n\r\n//     const requestCountHandler = async () => {\r\n\r\n//         setIsloading(true);\r\n//         let count = 0;\r\n//         if (query.all) {\r\n//             count = await getAllBooksCount();\r\n//         }\r\n//         if (query.myPosts) {\r\n//             count = await getBooksByCreatorCount(query.myPosts);\r\n//         }\r\n//         if (query.postedBy) {\r\n//             count = await getBooksByCreatorCount(query.postedBy);\r\n//         }\r\n//         if (query.category) {\r\n//             count = await getBooksByCategoryCount(query.category);\r\n//         }\r\n//         if (query.author) {\r\n//             count = await getBooksByAuthorCount(query.author);\r\n//         }\r\n//         if (query.title) {\r\n//             count = await getBooksByTitleCount(query.title);\r\n//         }\r\n//         const totalPages = Math.ceil(count / pagination.perPage);\r\n//         if(totalPages<=1){\r\n//             isDisabledIncreaseButton=true;\r\n//             isDisabledDecreaseButton=true;\r\n//         }\r\n//         if(totalPages>1){\r\n//             isDisabledIncreaseButton=false;\r\n//         }\r\n\r\n//         setPagination(prev => ({ ...prev, count, totalPages }));\r\n//         setIsloading(false);\r\n//     }\r\n\r\n//     const requestDataHandler = async () => {\r\n//         setIsloading(true);\r\n//         let books = [];\r\n//         if (query.all) {\r\n//             books = await getAllBooks(pagination);\r\n//         }\r\n//         if (query.myPosts) {\r\n//             books = await getBooksByCreator(pagination, query.myPosts);\r\n//         }\r\n//         if (query.postedBy) {\r\n//             books = await getBooksByCreator(pagination, query.postedBy);\r\n//         }\r\n//         if (query.category) {\r\n//             books = await getBooksByCategory(pagination, query.category);\r\n//         }\r\n//         if (query.author) {\r\n//             books = await getBooksByAuthor(pagination, query.author);\r\n//         }\r\n//         if (query.title) {\r\n//             books = await getBooksByTitle(pagination, query.title);\r\n//         }\r\n\r\n//         setBooks(books);\r\n//         setIsloading(false);\r\n//     }\r\n    \r\n//     const increaseCounter = () => {\r\n//         const counter = pagination.counter + 1;\r\n//         if (counter >= pagination.totalPages) {\r\n//             isDisabledIncreaseButton=true;\r\n//         }\r\n//             isDisabledDecreaseButton=false;\r\n//         setPagination(prev => ({ ...prev, counter:counter }));\r\n//     }\r\n\r\n//     const decreaseCounter = () => {\r\n//         const counter = pagination.counter - 1;\r\n//         if (counter === 1) {\r\n//             isDisabledDecreaseButton=true;\r\n//         }\r\n//             isDisabledIncreaseButton=false;\r\n//         setPagination(prev => ({ ...prev, counter:counter }));\r\n//     }\r\n\r\n\r\n//     const onClickMyPostsHandler = async () => {\r\n//         setValidationError(null);\r\n//         setPagination(prev => ({ ...prev, counter:1 }));\r\n//         setQuery(prev=>({...prev,'myPosts':username,'all':null}));\r\n//         searchMessage={ criteria: username + ' profile', search: 'books' };\r\n\r\n//     }\r\n\r\n//     const onClickAllPostsHandler = async () => {\r\n//         setValidationError(null);\r\n//         setPagination(prev => ({ ...prev, counter:1 }));\r\n//         setQuery(prev=>({...prev,'all':true}));\r\n//         searchMessage.criteria=null;\r\n//     }\r\n\r\n\r\n//     const onSubmitSearchHandler = async (e) => {\r\n//         e.preventDefault();\r\n//         const formData = new FormData(e.target);\r\n//         const search = formData.get('search');\r\n//         const criteria = formData.get('criteria');\r\n//         const error = searchDataValidation(criteria, search);\r\n\r\n//         setValidationError(error);\r\n//         if (error) {\r\n//             return;\r\n//         }\r\n\r\n//         setPagination(prev => ({ ...prev, counter:1 }));\r\n//         setQuery(prev=>({...prev,'all':null,[criteria]:search,}));\r\n\r\n//         if (criteria === 'postedBy') {\r\n//             searchMessage={ criteria: 'users', search };\r\n//         }\r\n//         if (criteria === 'category') {\r\n//             searchMessage={ criteria: 'books categories', search };\r\n//         }\r\n//         if (criteria === 'author') {\r\n//             searchMessage={ criteria: 'books authors', search };\r\n//         }\r\n//         if (criteria === 'title') {\r\n//             searchMessage={ criteria: 'books titles', search };\r\n//         }\r\n//         e.target.reset();\r\n//     }\r\n    \r\n//     return {\r\n//         query,\r\n//         books,\r\n//         pagination,\r\n//         isLoading,\r\n//         validationError,\r\n//         searchMessage,\r\n//         isDisabledIncreaseButton,\r\n//         isDisabledDecreaseButton,\r\n//         decreaseCounter,\r\n//         increaseCounter,\r\n//         onClickMyPostsHandler,\r\n//         onClickAllPostsHandler,\r\n//         onSubmitSearchHandler,\r\n//         requestCountHandler,\r\n//         requestDataHandler,\r\n//     }\r\n// }\r\n\r\n// export default useBookSearch;","import './index.css'\r\n\r\nconst Title = ({ title }) => {\r\n  return (\r\n    <h1 className=\"page-title\">{title}</h1>\r\n  )\r\n}\r\n\r\nexport default Title;","import './index.css'\r\n\r\nconst ValidationError = ({ message }) => {\r\n  return (\r\n    <p className=\"validation-error\">{message}</p>\r\n  )\r\n}\r\n\r\nexport default ValidationError;","import { useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport useBookSearch from \"../../../hooks/useBookSearch\";\r\n\r\nimport Title from \"../../../components/title\";\r\nimport Loader from \"../../../components/loader\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport BookCardMedium from \"../../../components/book-card-medium\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\nconst Books = () => {\r\n\tconst { user,isAuthenticated } = useContext(AuthContext);\r\n\tconst {\r\n\t\tquery,\r\n\t\tbooks,\r\n\t\tpagination,\r\n\t\tisLoading,\r\n\t\tvalidationError,\r\n\t\tsearchMessage,\r\n\t\tisDisabledIncreaseButton,\r\n\t\tisDisabledDecreaseButton,\r\n\t\tdecreaseCounter,\r\n\t\tincreaseCounter,\r\n\t\tonClickMyPostsHandler,\r\n\t\tonClickAllPostsHandler,\r\n\t\tonSubmitSearchHandler,\r\n\t\trequestCountHandler,\r\n\t\trequestDataHandler,\r\n\t} = useBookSearch(user.username)\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\trequestCountHandler();\r\n\t},[query]);\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(pagination.count>0){\r\n\t\t\trequestDataHandler();\r\n\t\t}\r\n\t}, [pagination]);\r\n\r\n\r\n\tconst searchMyPosts = (\r\n\t\t<div className=\"search-my-posts\">\r\n\t\t\t<div className=\"search-my-posts-icon\">\r\n\t\t\t\t<i className=\"far fa-calendar-check\"></i>\r\n\t\t\t\t<span className=\"search-my-posts-action\" onClick={onClickMyPostsHandler} >MY BOOKS</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst searchAllPosts = (\r\n\t\t<div className=\"search-all-posts\">\r\n\t\t\t<div className=\"search-all-posts-icon\">\r\n\t\t\t\t<i className=\"far fa-calendar-check\"></i>\r\n\t\t\t\t<span className=\"search-all-posts-action\" onClick={onClickAllPostsHandler} >ALL BOOKS</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst searchResults = (\r\n\t\t<>\r\n\t\t\t{!query.all && searchMessage.criteria && <p className=\"search-message\">Found &nbsp; <strong>{pagination.count}</strong>\t&nbsp; search results for\t&nbsp; <strong>{searchMessage.search}</strong>\t&nbsp; in \t&nbsp;<strong>{searchMessage.criteria}</strong>\t&nbsp;</p>}\r\n\t\t\t{query.all && <p className=\"search-message\">Latest books...</p>}\r\n\t\t\t<div className=\"books-container search\">\r\n\t\t\t\t<button className=\"prev-books\" disabled={isDisabledDecreaseButton} onClick={decreaseCounter}>&#10094;</button>\r\n\t\t\t\t<div className=\"books-inner-container\">\r\n\t\t\t\t\t{books.map(x => <BookCardMedium key={x.id} id={x.id} imageUrl={x.imageUrl} title={x.title} author={x.author} rating={x.rating} />)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"next-books\" disabled={isDisabledIncreaseButton} onClick={increaseCounter}>&#10095;</button>\r\n\t\t\t</div>\r\n\t\t\t<p className=\"search-pages\">{(pagination.totalPages===0 ?pagination.counter-1:pagination.counter)}/{pagination.totalPages}</p>\r\n\t\t</>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<Title title=\"Books\" />\r\n\t\t\t<div className=\"search-posts\">\r\n\t\t\t{searchAllPosts}\r\n\t\t\t{isAuthenticated && searchMyPosts}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"all-books-container\">\r\n\t\t\t\t<div className=\"search-container\">\r\n\t\t\t\t\t<form action=\"\" onSubmit={onSubmitSearchHandler}>\r\n\t\t\t\t\t\t<input className=\"main-input\" type=\"text\" placeholder=\"Search by key and criteria...\" name=\"search\" />\r\n\t\t\t\t\t\t<div className=\"search-options-list\">\r\n\t\t\t\t\t\t\t<div className=\"search-option popup-title\">\r\n\t\t\t\t\t\t\t\t<label className=\"search-options-label-title\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" className=\"popup-title\" name=\"criteria\" defaultValue=\"title\" />\r\n\t\t\t\t\t\t\t\t\t<i className=\"far fa-bookmark\"></i>\r\n\t\t\t\t\t\t\t\t\t<span className=\"popuptext-title\">BY TITLE</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"search-option popup-author\">\r\n\t\t\t\t\t\t\t\t<label className=\"search-options-label-author\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" className=\"popup-author\" name=\"criteria\" defaultValue=\"author\" />\r\n\t\t\t\t\t\t\t\t\t<i className=\"far fa-edit\"></i>\r\n\t\t\t\t\t\t\t\t\t<span className=\"popuptext-author\">BY AUTHOR</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"search-option popup-category\">\r\n\t\t\t\t\t\t\t\t<label className=\"search-options-label-category\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" className=\"popup-category\" name=\"criteria\" defaultValue=\"category\" />\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-list-ul\"></i>\r\n\t\t\t\t\t\t\t\t\t<span className=\"popuptext-category\">BY CATEGORY</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"search-option popup-postedBy\">\r\n\t\t\t\t\t\t\t\t<label className=\"search-options-label-postedBy\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" className=\"popup-postedBy\" name=\"criteria\" defaultValue=\"postedBy\" />\r\n\t\t\t\t\t\t\t\t\t<i className=\"far fa-id-badge\"></i>\r\n\t\t\t\t\t\t\t\t\t<span className=\"popuptext-postedBy\">POSTED BY</span>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className=\"search-btn\" type=\"submit\"> <i className=\"fa fa-search\"></i></button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t{validationError && <ValidationError message={validationError} />}\r\n\t\t\t\t</div>\r\n\t\t\t\t{isLoading ?<Loader/> :searchResults}\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default Books;","import Parse from \"../config/server\";\r\n\r\nconst login = async (authData) => {\r\n\tconst { username, password } = authData;\r\n\r\n\ttry {\r\n\t\tconst res = await Parse.User.logIn(username.toLocaleLowerCase(), password);\r\n\t\treturn {\r\n\t\t\tuserId: res.id,\r\n\t\t\tusername: res.get('username'),\r\n\t\t\tsessionToken: res.get('sessionToken')\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log('Error while logging in user', error);\r\n\t\tif(error.message==='Invalid username/password.'){\r\n\t\t\tthrow  error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst register = async (authData) => {\r\n\tconst { username, password } = authData;\r\n\r\n\tconst user = new Parse.User();\r\n\tuser.set('username', username.toLocaleLowerCase());\r\n\tuser.set('password', password);\r\n\r\n\ttry {\r\n\t\tconst res = await user.signUp();\r\n\t\treturn {\r\n\t\t\tuserId: res.id,\r\n\t\t\tusername: res.get('username'),\r\n\t\t\tsessionToken: res.get('sessionToken')\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while signing up user', error);\r\n\t}\r\n}\r\n\r\nconst logout = async () => {\r\n\ttry {\r\n\t\tawait Parse.User.logOut();\r\n\t\t// await Parse.User.current();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error!', error);\r\n\t}\r\n}\r\n\r\nconst checkUserExists = async (username) => {\r\n\tconst User = new Parse.User();\r\n\tconst query = new Parse.Query(User);\r\n\tquery.equalTo('username', username.toLocaleLowerCase());\r\n\r\n\ttry {\r\n\t\tconst res = await query.first();\r\n\t\treturn res;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving user', error);\r\n\t}\r\n}\r\n\r\nconst updateUserReadingList = async (userId, bookId) => {\r\n\tconst book = new Parse.Object('Book');\r\n\tbook.id = bookId;\r\n\r\n\tconst User = new Parse.User();\r\n\tconst query = new Parse.Query(User);\r\n\r\n\ttry {\r\n\t\tconst user = await query.get(userId);\r\n\t\ttry {\r\n\t\t\tconst relation = user.relation('readingList')\r\n\t\t\trelation.add(book)\r\n\t\t\tawait user.save();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating user', error);\r\n\t\t}\r\n\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving user', error);\r\n\t}\r\n}\r\n\r\nconst getUserReadingList = async (userId) => {\r\n\tconst User = new Parse.User();\r\n\tconst query = new Parse.Query(User);\r\n\r\n\ttry {\r\n\t\tconst user = await query.get(userId);\r\n\t\ttry {\r\n\t\t\tconst relation = user.relation('readingList');\r\n\t\t\tconst data = await relation.query().find();\r\n\t\t\tconst results = data.map(x => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: x.id,\r\n\t\t\t\t\ttitle: x.get('title'),\r\n\t\t\t\t\tauthor: x.get('author'),\r\n\t\t\t\t\timageUrl: x.get('imageUrl')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn results;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating user', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving user', error);\r\n\t}\r\n}\r\n\r\nconst checkBookInUserReadingList = async (userId, bookId) => {\r\n\tconst User = new Parse.User();\r\n\tconst query = new Parse.Query(User);\r\n\ttry {\r\n\t\tconst user = await query.get(userId);\r\n\t\ttry {\r\n\t\t\tconst relation = user.relation('readingList');\r\n\t\t\tconst data = await relation.query().find();\r\n\t\t\tconst results = data.map(x => x.id);\r\n\t\t\tif (results.includes(bookId)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating user', error);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving user', error);\r\n\t}\r\n}\r\n\r\nconst removeBookFromUserReadingList = async (userId, bookId) => {\r\n\tconst book = new Parse.Object('Book');\r\n\tbook.id = bookId;\r\n\r\n\tconst User = new Parse.User();\r\n\tconst query = new Parse.Query(User);\r\n\ttry {\r\n\t\tconst user = await query.get(userId);\r\n\t\ttry {\r\n\t\t\tconst relation = user.relation('readingList')\r\n\t\t\trelation.remove(book);\r\n\t\t\tawait user.save();\r\n\t\t\treturn true;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error while updating user', error);\r\n\t\t}\r\n\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while retrieving user', error);\r\n\t}\r\n}\r\n\r\n\r\n\r\nconst authServices = {\r\n\tlogin,\r\n\tregister,\r\n\tlogout,\r\n\tcheckUserExists,\r\n\tupdateUserReadingList,\r\n\tgetUserReadingList,\r\n\tcheckBookInUserReadingList,\r\n\tremoveBookFromUserReadingList\r\n}\r\n\r\nexport default authServices;","import { useState } from 'react';\r\n\r\nimport { INITIAL_AUTH_VALIDATION_ERROR, INITIAL_AUTH_VALUE, INITIAL_USER_FORM_VALUE } from '../common';\r\n\r\nimport userService from '../services/user';\r\nimport { userDataValidation } from '../utils/validation';\r\n\r\n\r\nfunction useAuthForm() {\r\n\r\n    const [formValue, setFormValue] = useState(INITIAL_USER_FORM_VALUE);\r\n    const [authValue, setAuthValue] = useState(INITIAL_AUTH_VALUE);\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [validationError, setValidationError] = useState(INITIAL_AUTH_VALIDATION_ERROR);\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n\r\n    const onChangeInputHandler = (e) => {\r\n        e.preventDefault();\r\n        const value = e.target.value;\r\n        const type = e.target.name;\r\n        if (validationError.exists) {\r\n            setValidationError(prev => ({ ...prev, \"exists\": null }))\r\n        }\r\n        const error = userDataValidation(type, value, formValue.password);\r\n        setValidationError(prev => ({ ...prev, [type]: error }));\r\n        if (error) {\r\n            return;\r\n        }\r\n        setFormValue(prev => ({ ...prev, [type]: value }))\r\n    }\r\n\r\n    const onSubmitUserRegisterHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.target)\r\n        const user = {\r\n            username: data.get('username'),\r\n            password: data.get('password'),\r\n            rePass: data.get('rePass')\r\n        }\r\n\r\n        if (validationError.username || validationError.password || validationError.rePass) {\r\n            return;\r\n        }\r\n        if (user.username === '' || user.password === '' || user.rePass === '') {\r\n            return;\r\n        }\r\n\r\n        async function requestHandler() {\r\n            try {\r\n                setIsloading(true);\r\n                const isExisting = await doesUserExist(user.username);\r\n                if (isExisting) {\r\n                    setIsloading(false);\r\n                    return;\r\n                }\r\n                const res = await userService.register(user);\r\n                setAuthValue(res);\r\n                setIsloading(false);\r\n                setIsSuccess(true);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        requestHandler();\r\n    }\r\n\r\n    const onSubmitUserLoginHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.target)\r\n        const user = {\r\n            username: data.get('username'),\r\n            password: data.get('password')\r\n        }\r\n\r\n        if (validationError.username || validationError.password) {\r\n            return;\r\n        }\r\n\r\n\r\n        userService.login(user)\r\n            .then(user => {\r\n                setIsloading(true);\r\n                setAuthValue(user);\r\n                setIsloading(false);\r\n                setIsSuccess(true);\r\n            })\r\n            .catch(err => {\r\n                if (err.message === 'Invalid username/password.') {\r\n                    setValidationError(prev => ({ ...prev, \"credentials\": err.message }))\r\n                    return;\r\n                }\r\n            })\r\n    }\r\n    \r\n    const doesUserExist = async (username) => {\r\n        try {\r\n            const res = await userService.checkUserExists(username);\r\n            if (res) {\r\n                setFormValue({ username: username })\r\n                setValidationError(prev => ({ ...prev, \"exists\": \"User with such name already exists. Please sign up with another name.\" }));\r\n                return true;\r\n            }\r\n            setValidationError(prev => ({ ...prev, \"exists\": null }));\r\n            return false;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return {\r\n        formValue,\r\n        authValue,\r\n        isLoading,\r\n        validationError,\r\n        isSuccess,\r\n        onChangeInputHandler,\r\n        onSubmitUserRegisterHandler,\r\n        onSubmitUserLoginHandler,\r\n    };\r\n}\r\n\r\nexport default useAuthForm;","import { useContext,useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport './index.css'\r\n\r\nimport useAuthForm from \"../../../hooks/useAuthForm\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport Title from \"../../../components/title\";\r\nimport Loader from \"../../../components/loader\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n\tconst navigate = useNavigate();\r\n\tconst {login} = useContext(AuthContext);\r\n\r\n\tconst {\r\n        authValue,\r\n        isLoading,\r\n        validationError,\r\n        isSuccess,\r\n\t\tonChangeInputHandler,\r\n\t\tonSubmitUserLoginHandler\r\n\t} = useAuthForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess) {\r\n\t\t\tlogin(authValue);\r\n\t\t\tnavigate(\"/home\", { replace: true });\r\n\t\t}\r\n\t},[isSuccess])\r\n\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<Title title=\"Login\" />\r\n\t\t\t<div className=\"signin-section-wrapper\">\r\n\t\t\t\t<div className=\"signin-section\">\r\n\t\t\t\t\t<div className=\"signin-section-info\">\r\n\t\t\t\t\t\t<h2>Happy </h2>\r\n\t\t\t\t\t\t<i className=\"fas fa-users\"></i>\r\n\t\t\t\t\t\t<h2>to have you here.</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form action=\"#\" method=\"POST\" className=\"signup-form\" onSubmit={onSubmitUserLoginHandler}>\r\n\t\t\t\t\t\t<ul className=\"no-bullet\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"username\"></label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" className=\"input-fields\" id=\"username\" name=\"username\" placeholder=\"Username\"  onChange={onChangeInputHandler}/>\r\n\t\t\t\t\t\t\t\t{validationError.username && <ValidationError message={validationError.username}/>}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\"></label>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" className=\"input-fields\" id=\"password\" name=\"password\" placeholder=\"Password\" onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t\t{validationError.password && <ValidationError message={validationError.password}/>}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li >\r\n\t\t\t\t\t\t\t\t<input type=\"submit\" className=\"join-btn\" name=\"join\" alt=\"Join\" value=\"Join\" />\r\n\t\t\t\t\t\t\t\t{validationError.credentials && <ValidationError message={validationError.credentials}/>}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default Login;","import { useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport './index.css'\r\n\r\nimport userService from \"../../../services/user\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport PageLayout from \"../../../components/page-layout\";\r\n\r\n\r\nconst Logout = () => {\r\n  const { logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const onSubmitLogoutHandler = (e) => {\r\n    userService.logout()\r\n      .then(() => {\r\n        logout()\r\n        navigate(\"/home\", { replace: true });\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <PageLayout>\r\n     <h1 className=\"page-title-logout\">Logout</h1>\r\n      <div className=\"signout-section-wrapper\">\r\n        <div className=\"signout-section\">\r\n          <div className=\"signout-section-text\">\r\n            <h2>You are about to unsubscribe  </h2>\r\n            <h3>&gt;&gt;&gt; READ ALOUD &lt;&lt;&lt;</h3>\r\n          </div>\r\n          <input type=\"submit\" className=\"logout-btn\" onClick={onSubmitLogoutHandler} value=\"Confirm\" />\r\n        </div>\r\n      </div>\r\n    </PageLayout>\r\n  )\r\n}\r\n\r\nexport default Logout;","import { useState } from \"react\";\r\n\r\nimport {\r\n    getMyEvents,\r\n    getMyEventsCount,\r\n    getAllEvents,\r\n    getAllEventsCount,\r\n    getActiveEvents,\r\n    getActiveEventsCount,\r\n    getCancelledEvents,\r\n    getCancelledEventsCount,\r\n} from \"../services/event\";\r\n\r\n// import { searchDataValidation } from \"../utils/validation\";\r\n\r\n// const queryParams = {\r\n//     all: true,\r\n//     myEvents: false,\r\n//     active: false,\r\n//     cancelled: false\r\n// }\r\n\r\nlet isDisabledIncreaseButton = true;\r\nlet isDisabledDecreaseButton = true;\r\n\r\nlet searchMessage = {\r\n    criteria: null,\r\n    search: null\r\n}\r\n\r\nconst useEventSearch = (username) => {\r\n    const [query, setQuery] = useState({all:true});\r\n    // const [query, setQuery] = useState(queryParams);\r\n\r\n    const [events, setEvents] = useState([]);\r\n    const [pagination, setPagination] = useState({ counter: 1, perPage: 2, totalPages: 0, count: 0 });\r\n    const [isLoading, setIsloading] = useState(false);\r\n    // const [validationError, setValidationError] = useState(null);\r\n    \r\n\r\n    const requestCountHandler = async () => {\r\n\r\n        setIsloading(true);\r\n        let count = 0;\r\n        if (query.all) {\r\n            count = await getAllEventsCount();\r\n        }\r\n        if (query.myEvents) {\r\n            count = await getMyEventsCount(username);\r\n        }\r\n        if (query.active) {\r\n            count = await getActiveEventsCount();\r\n        }\r\n        if (query.cancelled) {\r\n            count = await getCancelledEventsCount();\r\n        }\r\n        const totalPages = Math.ceil(count / pagination.perPage);\r\n        if (totalPages <= 1) {\r\n            isDisabledIncreaseButton = true;\r\n            isDisabledDecreaseButton = true;\r\n        }\r\n        if (totalPages > 1) {\r\n            isDisabledIncreaseButton = false;\r\n        }\r\n\r\n        setPagination(prev => ({ ...prev, count, totalPages }));\r\n        setIsloading(false);\r\n    }\r\n\r\n    const requestDataHandler = async () => {\r\n        setIsloading(true);\r\n        let events = [];\r\n        if (query.all) {\r\n            events = await getAllEvents(pagination);\r\n        }\r\n        if (query.myEvents) {\r\n            events = await getMyEvents(username, pagination);\r\n        }\r\n        if (query.active) {\r\n            events = await getActiveEvents(pagination);\r\n        }\r\n        if (query.cancelled) {\r\n            events = await getCancelledEvents(pagination);\r\n        }\r\n\r\n        setEvents(events);\r\n        setIsloading(false);\r\n    }\r\n\r\n    const increaseCounter = () => {\r\n        const counter = pagination.counter + 1;\r\n        if (counter >= pagination.totalPages) {\r\n            isDisabledIncreaseButton = true;\r\n        }\r\n        isDisabledDecreaseButton = false;\r\n        setPagination(prev => ({ ...prev, counter: counter }));\r\n    }\r\n\r\n    const decreaseCounter = () => {\r\n        const counter = pagination.counter - 1;\r\n        if (counter === 1) {\r\n            isDisabledDecreaseButton = true;\r\n        }\r\n        isDisabledIncreaseButton = false;\r\n        setPagination(prev => ({ ...prev, counter: counter }));\r\n    }\r\n\r\n\r\n    const onClickMyEventsHandler = async () => {\r\n        // setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter: 1 }));\r\n        setQuery({myEvents: username });\r\n        // setQuery({ ...queryParams, 'myEvents': username, 'all': null });\r\n\r\n        searchMessage = { criteria: username + ' profile', search: 'events' };\r\n    }\r\n\r\n    const onClickAllEventsHandler = async () => {\r\n        // setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter: 1 }));\r\n        // setQuery({ ...queryParams });\r\n        setQuery({all:true });\r\n\r\n        searchMessage.criteria = null;\r\n    }\r\n\r\n    const onClickActiveEventsHandler = async () => {\r\n        // setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter: 1 }));\r\n        // setQuery({ ...queryParams, 'active': true, 'all': null });\r\n        setQuery({active: true});\r\n\r\n        searchMessage = { criteria: 'active', search: 'events' };\r\n    }\r\n\r\n    const onClickCancelledEventsHandler = async () => {\r\n        // setValidationError(null);\r\n        setPagination(prev => ({ ...prev, counter: 1 }));\r\n        // setQuery({ ...queryParams, 'cancelled': true, 'all': null });\r\n        setQuery({cancelled: true});\r\n\r\n        searchMessage = { criteria: 'cancelled', search: 'events' };\r\n    }\r\n\r\n\r\n\r\n    return {\r\n        query,\r\n        events,\r\n        pagination,\r\n        isLoading,\r\n        searchMessage,\r\n        isDisabledIncreaseButton,\r\n        isDisabledDecreaseButton,\r\n        decreaseCounter,\r\n        increaseCounter,\r\n        onClickMyEventsHandler,\r\n        onClickAllEventsHandler,\r\n        onClickActiveEventsHandler,\r\n        onClickCancelledEventsHandler,\r\n        requestCountHandler,\r\n        requestDataHandler,\r\n    }\r\n}\r\n\r\nexport default useEventSearch;","import { useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport useEventSearch from \"../../../hooks/useEventSearch\";\r\n\r\nimport Title from \"../../../components/title\";\r\nimport Loader from \"../../../components/loader\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\n// import ValidationError from \"../../../components/validation-error\";\r\nimport EventCardMedium from \"../../../components/medium-event-card\";\r\n\r\nconst Events = () => {\r\n  const { user, isAuthenticated } = useContext(AuthContext);\r\n  const {\r\n    query,\r\n    events,\r\n    pagination,\r\n    isLoading,\r\n    searchMessage,\r\n    isDisabledIncreaseButton,\r\n    isDisabledDecreaseButton,\r\n    decreaseCounter,\r\n    increaseCounter,\r\n    onClickMyEventsHandler,\r\n    onClickAllEventsHandler,\r\n    onClickActiveEventsHandler,\r\n    onClickCancelledEventsHandler,\r\n    requestCountHandler,\r\n    requestDataHandler,\r\n  } = useEventSearch(user.username)\r\n\r\n\r\n  useEffect(() => {\r\n    requestCountHandler();\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (pagination.count > 0) {\r\n      requestDataHandler();\r\n    }\r\n  }, [pagination]);\r\n\r\n\r\n  const searchMyEvents = (\r\n    <div className=\"search-my-events\">\r\n      <div className=\"search-my-events-icon\">\r\n        <i className=\"far fa-calendar-check\"></i>\r\n        <span className=\"search-my-events-action\" onClick={onClickMyEventsHandler} >MY EVENTS</span>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const searchAllEvents = (\r\n    <div className=\"search-all-events\">\r\n      <div className=\"search-all-events-icon\">\r\n        <i className=\"far fa-calendar-check\"></i>\r\n        <span className=\"search-all-events-action\" onClick={onClickAllEventsHandler} >ALL EVENTS</span>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const searchActiveEvents = (\r\n    <div className=\"search-all-events\">\r\n      <div className=\"search-all-events-icon\">\r\n        <i className=\"far fa-calendar-check\"></i>\r\n        <span className=\"search-all-events-action\" onClick={onClickActiveEventsHandler} >ACTIVE EVENTS</span>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const searchCancelledEvents = (\r\n    <div className=\"search-all-events\">\r\n      <div className=\"search-all-events-icon\">\r\n        <i className=\"far fa-calendar-check\"></i>\r\n        <span className=\"search-all-events-action\" onClick={onClickCancelledEventsHandler} >CANCELLED EVENTS</span>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const searchResults = (\r\n    <>\r\n      {query.all && <p className=\"search-message\">Latest events...</p>}\r\n      {!query.all && searchMessage.criteria && <p className=\"search-message\">Found &nbsp; <strong>{pagination.count}</strong>\t&nbsp; search results for\t&nbsp; <strong>{searchMessage.search}</strong>\t&nbsp; in \t&nbsp;<strong>{searchMessage.criteria}</strong>\t&nbsp;</p>}\r\n      <div className=\"events-container search\">\r\n        <button className=\"prev-events\" disabled={isDisabledDecreaseButton} onClick={decreaseCounter}>&#10094;</button>\r\n        <div className=\"events-inner-container\">\r\n          {events.map(x => <EventCardMedium key={x.id} id={x.id} imageUrl={x.imageUrl} name={x.name} createdAt={x.createdAt} date={x.date} status={x.status} />)}\r\n        </div>\r\n        <button className=\"next-events\" disabled={isDisabledIncreaseButton} onClick={increaseCounter}>&#10095;</button>\r\n      </div>\r\n      <p className=\"search-pages\">{(pagination.totalPages === 0 ? pagination.counter - 1 : pagination.counter)}/{pagination.totalPages}</p>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <PageLayout>\r\n      <Title title=\"EVENTS\" />\r\n      <div className=\"search-events\">\r\n        {searchAllEvents}\r\n        {searchActiveEvents}\r\n        {searchCancelledEvents}\r\n        {isAuthenticated && searchMyEvents}\r\n      </div>\r\n      <div className=\"all-events-container\">\r\n        {isLoading ? <Loader /> : searchResults}\r\n      </div>\r\n    </PageLayout>\r\n  )\r\n}\r\n\r\nexport default Events;","import React from 'react';\r\n\r\nconst NotificationContext = React.createContext({});\r\n\r\nexport default NotificationContext;","import { useContext } from 'react';\r\n\r\nimport './index.css'\r\n\r\nimport NotificationContext from '../../context/notificationContext';\r\n\r\nconst Notification = () => {\r\n  const { notification, handleNotification } = useContext(NotificationContext);\r\n\r\n  if(!notification.show){\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification-message\">\r\n      <p className=\"notification-message-text\">{notification.message}</p>\r\n      <div className=\"notification-message-buttons\">\r\n        <button onClick={()=>handleNotification(\"confirm\")} className=\"confirm\">CONFIRM</button>\r\n        <button onClick={()=>handleNotification(\"cancel\")} className=\"cancel\">CANCEL</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import { Link } from 'react-router-dom'\r\n\r\nimport './index.css'\r\n\r\nconst BookCardLite = ({onClickRemoveBook, userId,bookId, imageUrl, title, author}) => {\r\n\r\n    return (\r\n        <div className=\"book-card-lite\">\r\n            <span className=\"book-card-lite-img\">\r\n                <img src={imageUrl ? imageUrl : \"/default_book.png\"} alt=\"Book_cover\" />\r\n            </span>\r\n            <div className=\"book-card-lite-content\">\r\n                <div className=\"book-card-lite-content-text\">\r\n                    <p><span className=\"book-card-lite-content-heading\" >Title: </span>{title}</p>\r\n                    <p> <span className=\"book-card-lite-content-heading\"> Author: </span>{author}</p>\r\n                </div>\r\n                <div className=\"book-card-lite-content-actions\">\r\n                <Link className=\"details-link-lite\" to={`/books/${bookId}`}>VIEW</Link>\r\n                <span className='slash-span'>&#47;</span>\r\n                <Link className=\"delete-link-lite\" to={`/my-page/${userId}/book-remove/${bookId}`} onClick={onClickRemoveBook}>REMOVE</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookCardLite;","import { Link } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\nconst EventCardLite = ({onClickSignoutEvent, eventId, imageUrl, name, date, status}) => {\r\n   \r\n    return (\r\n        <div className=\"event-card-lite\">\r\n            <span className=\"event-card-lite-img\">\r\n                <img src={imageUrl ? imageUrl :\"/default_event.png\"} alt=\"event_cover\" />\r\n            </span>\r\n            <div className=\"event-card-lite-content\">\r\n                <div className=\"event-card-lite-content-text\">\r\n                    <p><span className=\"event-card-lite-content-heading\">Status: </span>{status}</p>\r\n                    <p> <span className=\"event-card-lite-content-heading date\"> Date: </span>{date}</p>\r\n                    <p><span className=\"event-card-lite-content-heading\" >Topic: </span>{name}</p>\r\n                </div>\r\n                <div className=\"book-card-lite-content-actions\">\r\n                <Link className=\"details-link-lite\" to={`/events/${eventId}`}>VIEW</Link>\r\n                <span className='slash-span'>&#47;</span>\r\n                <Link className=\"delete-link-lite\" to={`/my-page/${eventId}/event-remove/${eventId}`} onClick={onClickSignoutEvent}>SIGNOUT</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EventCardLite;","import { Link, useParams } from 'react-router-dom';\r\nimport { useState, useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport authServices from '../../../services/user';\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport { getMySubscriptions, unsignSubscription } from '../../../services/subscription';\r\n\r\nimport Title from \"../../../components/title\";\r\nimport Loader from '../../../components/loader';\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport Notification from '../../../components/notification';\r\nimport BookCardLite from '../../../components/book-card-lite';\r\nimport EventCardLite from '../../../components/lite-event-card';\r\nimport NotificationContext from '../../../context/notificationContext';\r\n\r\nlet pagesReadingCounter = 1;\r\nlet pagesEventCounter = 1;\r\n\r\n\r\nconst MyPage = () => {\r\n\tconst { userId } = useParams();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst {notification, showNotification} = useContext(NotificationContext);\r\n\r\n\tconst [update, setUpdate] = useState({reading:false,events:false});\r\n\tconst [isLoading, setIsloading] = useState(false);\r\n\tconst [readingList, setReadingList] = useState({all:[],view:[]});\r\n\tconst [eventList, setEventList] = useState({all:[],view:[]});\r\n\tconst [totalPages, setTotalPages] = useState({reading:0,events:0});\r\n\tconst [readingListButton, setReadingListButton] = useState({increase:true,decrease:true});\r\n\tconst [eventListButton, setEventListButton] = useState({increase:true,decrease:true});\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\r\n\t\t\tsetIsloading(true);\r\n\t\t\tconst fetchedReadingListData = await authServices.getUserReadingList(userId);\r\n\t\t\tconst fetchedEventListData = await getMySubscriptions(user.username);\r\n\t\t\tsetIsloading(false);\r\n\r\n\t\t\tconst readingPages = Math.ceil(fetchedReadingListData.length / 3);\r\n\t\t\tconst eventPages = Math.ceil(fetchedEventListData.length / 3);\r\n\r\n\t\t\tsetTotalPages({reading:readingPages,events:eventPages});\r\n\t\t\tif (readingPages > 1) {\r\n\t\t\t\tsetReadingListButton(prev=>({...prev,increase:false}));\r\n\t\t\t}else{\r\n\t\t\t\tsetReadingListButton({increase:true,decrease:true});\r\n\t\t\t\tpagesReadingCounter=1;\r\n\t\t\t}\r\n\r\n\t\t\tif (eventPages > 1) {\r\n\t\t\t\tsetEventListButton(prev=>({...prev,increase:false}));\r\n\t\t\t}else{\r\n\t\t\t\tsetEventListButton({increase:true,decrease:true});\r\n\t\t\t\tpagesEventCounter=1;\r\n\t\t\t}\r\n\t\t\tsetReadingList({all:fetchedReadingListData,view:fetchedReadingListData.slice(0, 3)});\r\n\t\t\tsetEventList({all:fetchedEventListData,view:fetchedEventListData.slice(0, 3)});\r\n\t\t}\r\n\t\tfetchData()\r\n\r\n\t}, [userId,update])\r\n\r\n\tconst increaseReadingCounter = () => {\r\n\t\tpagesReadingCounter++;\r\n\t\tif (pagesReadingCounter >= totalPages.reading) {\r\n\t\t\tsetReadingListButton(prev=>({...prev,increase:true}));\r\n\t\t}\r\n\t\tsetReadingList(prev=>({...prev,view:readingList.all.slice((pagesReadingCounter * 3) - 3, pagesReadingCounter * 3)}));\r\n\t\tsetReadingListButton(prev=>({...prev,decrease:false}));\r\n\t}\r\n\r\n\tconst decreaseReadingCounter = () => {\r\n\t\tpagesReadingCounter--;\r\n\t\tif (pagesReadingCounter === 1) {\r\n\t\t\tsetReadingListButton(prev=>({decrease:true,increase:true}));\r\n\t\t}\r\n\t\tsetReadingList(prev=>({...prev,view:readingList.all.slice((pagesReadingCounter * 3) - 3, pagesReadingCounter * 3)}));\r\n\t\tsetReadingListButton(prev=>({...prev,increase:false}));\r\n\t}\r\n\r\n\tconst increaseEventCounter = () => {\r\n\t\tpagesEventCounter++;\r\n\t\tif (pagesEventCounter >= totalPages.events) {\r\n\t\t\tsetEventListButton(prev=>({...prev,increase:true}));\r\n\t\t}\r\n\t\tsetEventList(prev=>({...prev,view:eventList.all.slice((pagesEventCounter * 3) - 3, pagesEventCounter * 3)}));\r\n\t\tsetEventListButton(prev=>({...prev,decrease:false}));\r\n\t}\r\n\r\n\tconst decreaseEventCounter = () => {\r\n\t\tpagesEventCounter--;\r\n\t\tif (pagesEventCounter === 1) {\r\n\t\t\tsetEventListButton(prev=>({decrease:true,increase:true}));\r\n\t\t}\r\n\t\tsetEventList(prev=>({...prev,view:eventList.all.slice((pagesEventCounter * 3) - 3, pagesEventCounter * 3)}));\r\n\t\tsetEventListButton(prev=>({...prev,increase:false}));\r\n\t}\r\n\r\n\tconst onClickRemoveBook = async (e, id) => {\r\n\t\te.preventDefault();\r\n\t\tshowNotification(\"You are above to remove this book from your reading list!\",id);\r\n\t}\r\n\r\n\tconst onClickRemoveEvent = async (e,subscriptionId) => {\r\n\t\te.preventDefault();\r\n\t\tshowNotification(\"You are above to remove this event from your event list!\",subscriptionId);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tuseEffect(()=>{\r\n\t\tif(notification.message.includes('book') && notification.result===\"confirm\"){\r\n\t\t\tconsole.log(\"in\");\r\n\t\t\tauthServices.removeBookFromUserReadingList(userId, notification.objectId)\r\n\t\t\t.then(res=>{\r\n\t\t\t\tsetUpdate({reading:res,events:false});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(notification.message.includes('event') && notification.result===\"confirm\"){\r\n\t\t\tconsole.log(\"in\");\r\n\t\t\tunsignSubscription(user.username, notification.objectId)\r\n\t\t\t.then(res=>{\r\n\t\t\t\tsetUpdate({reading:false,events:res});\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t},[notification.result])\r\n\r\n\t\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<Notification/>\r\n\t\t\t<Title title={user.username.toLocaleUpperCase() + ' \\'s page'} />\r\n\t\t\t<div className=\"my-page-container\">\r\n\r\n\t\t\t\t<div className=\"my-page-navigation\">\r\n\t\t\t\t\t<Link className=\"create-book-link\" to=\"/books/create\"><i className=\"fas fa-plus\"></i>POST NEW BOOK</Link>\r\n\t\t\t\t\t<Link className=\"create-event-link\" to=\"/events/create\"><i className=\"fas fa-plus\"></i>POST NEW EVENT</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"my-page-events-list\">\r\n\t\t\t\t\t<h3 className=\"my-page-events-list-title\">MY EVENT SCHEDULE</h3>\r\n\t\t\t\t\t{eventList.view.length > 0\r\n\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t<div className=\"my-page-reading-list-items-container\">\r\n\t\t\t\t\t\t\t\t<button className=\"prev\" disabled={eventListButton.decrease} onClick={decreaseEventCounter}>&#10094;</button>\r\n\t\t\t\t\t\t\t\t<div className=\"my-page-reading-list-items\">\r\n\t\t\t\t\t\t\t\t\t{eventList.view.map(x => <EventCardLite onClickSignoutEvent={(e) => onClickRemoveEvent(e, x.subscriptionId)} key={x.subscriptionId} eventId={x.eventId} imageUrl={x.imageUrl} date={x.date} name={x.name} status={x.status} />)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button className=\"next\" disabled={eventListButton.increase} onClick={increaseEventCounter}>&#10095;</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p>{pagesEventCounter}/{totalPages.events}</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t: <p className=\"empty-reading-list\">You have not added anything to your event list yet.</p>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"my-page-reading-list\">\r\n\t\t\t\t\t<h3 className=\"my-page-reading-list-title\">MY READING LIST</h3>\r\n\t\t\t\t\t{readingList.view.length > 0\r\n\t\t\t\t\t\t? <>\r\n\t\t\t\t\t\t\t<div className=\"my-page-reading-list-items-container\">\r\n\t\t\t\t\t\t\t\t<button className=\"prev\" disabled={readingListButton.decrease} onClick={decreaseReadingCounter}>&#10094;</button>\r\n\t\t\t\t\t\t\t\t<div className=\"my-page-reading-list-items\">\r\n\t\t\t\t\t\t\t\t\t{readingList.view.map(x => <BookCardLite onClickRemoveBook={(e) => onClickRemoveBook(e, x.id)} key={x.id} userId={userId} bookId={x.id} imageUrl={x.imageUrl} title={x.title} author={x.author} />)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button className=\"next\" disabled={readingListButton.increase} onClick={increaseReadingCounter}>&#10095;</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p>{pagesReadingCounter}/{totalPages.reading}</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t: <p className=\"empty-reading-list\">You have not added anything to your reading list yet.</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default MyPage;","import { useContext, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport './index.css'\r\n\r\nimport useAuthForm from \"../../../hooks/useAuthForm\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport Title from \"../../../components/title\";\r\nimport Loader from \"../../../components/loader\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\n\r\nconst Register = () => {\r\n\r\n\tconst navigate = useNavigate();\r\n\tconst {login } = useContext(AuthContext);\r\n\r\n\tconst {\r\n\t\tformValue,\r\n        authValue,\r\n        isLoading,\r\n        validationError,\r\n        isSuccess,\r\n        onChangeInputHandler,\r\n        onSubmitUserRegisterHandler,\r\n\t} = useAuthForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess) {\r\n\t\t\tlogin(authValue);\r\n\t\t\tnavigate(\"/home\", { replace: true });\r\n\t\t}\r\n\t},[isSuccess])\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<Title title=\"Register\" />\r\n\t\t\t<div className=\"signup-section-wrapper\">\r\n\t\t\t\t<div className=\"signup-section\">\r\n\t\t\t\t\t<div className=\"signup-section-info\">\r\n\t\t\t\t\t\t<h2>Welcome </h2>\r\n\t\t\t\t\t\t<i className=\"fas fa-users\"></i>\r\n\t\t\t\t\t\t<h2>to our community.</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form action=\"#\" method=\"POST\" className=\"signup-form\" onSubmit={onSubmitUserRegisterHandler}>\r\n\t\t\t\t\t\t<ul className=\"no-bullet\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"username\"></label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" className=\"input-fields\" id=\"username\" name=\"username\" placeholder=\"Username\" defaultValue={formValue.username} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t\t{validationError.username && <ValidationError message={validationError.username} />}\r\n\t\t\t\t\t\t\t\t{validationError.exists && <ValidationError message={validationError.exists} />}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\"></label>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" className=\"input-fields\" id=\"password\" name=\"password\" placeholder=\"Password\" defaultValue={formValue.password} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t\t{validationError.password && <ValidationError message={validationError.password} />}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"rePass\"></label>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" className=\"input-fields\" id=\"rePass\" name=\"rePass\" placeholder=\"Repeat password\" defaultValue={formValue.rePass} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t\t{validationError.rePass && <ValidationError message={validationError.rePass} />}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li >\r\n\t\t\t\t\t\t\t\t<input type=\"submit\" className=\"join-btn\" name=\"join\" alt=\"Join\" value=\"Join\" />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default Register;","import { storageKeys } from \"../keys\";\r\n\r\nconst uploadImage = async (data) => {\r\n    const apiUrl = storageKeys.API_URL;\r\n\r\n    const file = new FormData();\r\n    file.append('file', data);\r\n    file.append(\"upload_preset\", \"ReadAloud\");\r\n\r\n    const res = await fetch(apiUrl, { method: \"POST\", body: file });\r\n\r\n    const result = await res.json();\r\n    return result.secure_url;\r\n}\r\n\r\nexport default uploadImage;","import { useState, useCallback } from 'react';\r\n\r\nimport { DEFAULT_BOOK_URL, INITIAL_BOOK_VALIDATION_ERROR, INITIAL_BOOK_VALUE } from '../common';\r\n\r\nimport uploadImage from '../services/image';\r\nimport { bookDataValidation } from '../utils/validation';\r\nimport { createBook, editBook, getBookById } from '../services/book';\r\n\r\nconst useBookForm = (categories) => {\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [isImageLoading, setIsImageloading] = useState(false);\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n    const [bookValue, setBookValue] = useState(INITIAL_BOOK_VALUE);\r\n    const [validationError, setValidationError] = useState(INITIAL_BOOK_VALIDATION_ERROR);\r\n    const [imagePreview, setImagePreview] = useState(DEFAULT_BOOK_URL);\r\n\r\n\r\n    const onSubmitBookCreateHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const data = new FormData(e.target)\r\n        const book = {\r\n            title: data.get('title'),\r\n            author: data.get('author'),\r\n            description: data.get('description'),\r\n            category: categories,\r\n            image: imagePreview\r\n        }\r\n\r\n        if (validationError.title || validationError.description \r\n            || validationError.image || validationError.author) {\r\n            return;\r\n        }\r\n        if (book.title==='' || book.description ==='' || book.author==='') {\r\n            setValidationError(prev=>({...prev,'required':'*Title, author and description are required.'}))\r\n            return;\r\n        }\r\n\r\n        createBook(book)\r\n            .then(res => {\r\n                setIsloading(true);\r\n                setBookValue(prev=>({...prev,res}));\r\n                setIsSuccess(true);\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n            bookFormReset();\r\n    }\r\n\r\n    const onSubmitBookEditHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const data = new FormData(e.target)\r\n        const book = {\r\n            title: data.get('title'),\r\n            author: data.get('author'),\r\n            description: data.get('description'),\r\n            category: categories,\r\n            image: imagePreview\r\n        }\r\n\r\n        if (validationError.title || validationError.description \r\n            || validationError.image || validationError.author) {\r\n            return;\r\n        }\r\n        if (book.title==='' || book.description ==='' || book.author==='') {\r\n            setValidationError(prev=>({...prev,'required':'*Title, author and description are required.'}))\r\n            return;\r\n        }\r\n\r\n        editBook(bookValue.id,book)\r\n            .then(res => {\r\n                setIsloading(true);\r\n                setBookValue(prev=>({...prev,res}));\r\n                setIsSuccess(true);\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        bookFormReset();\r\n    }\r\n\r\n    const onBlurInputHandler = (e) => {\r\n        const value = e.target.value;\r\n        const type = e.target.name;\r\n        \r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const error = bookDataValidation(type, value);\r\n        setValidationError(prev => ({ ...prev, [type]: error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    const onChangeInputHandler = (e) => {\r\n        const value = e.target.value;\r\n        const type = e.target.name;\r\n        \r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const error = bookDataValidation(type, value);\r\n        setValidationError(prev => ({ ...prev, [type]: error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    const onChangeImageHandler = (e) => {\r\n        const value = e.target.files[0];\r\n        \r\n        const error =bookDataValidation('imageUrl', (value || ''));\r\n        setValidationError(prev => ({ ...prev, 'image': error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n        if (!value) {\r\n            setImagePreview(DEFAULT_BOOK_URL);\r\n        } else {\r\n            setIsImageloading(true);\r\n            uploadImage(value)\r\n                .then(url => {\r\n                    setIsImageloading(false);\r\n                    setImagePreview(url);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    const setInitialBookEditValue = useCallback((bookId) => {\r\n        setIsloading(true);\r\n        getBookById(bookId)\r\n        .then(res => {\r\n            setBookValue(res);\r\n            setImagePreview(res.imageUrl)\r\n            setIsloading(false);\r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const bookFormReset = () => {\r\n        setValidationError(INITIAL_BOOK_VALIDATION_ERROR);\r\n        setIsloading(false);\r\n        setIsSuccess(false);\r\n        setBookValue(INITIAL_BOOK_VALUE);\r\n        setImagePreview(DEFAULT_BOOK_URL);\r\n    }\r\n\r\n    return{\r\n        bookValue,\r\n        isLoading,\r\n        isImageLoading,\r\n        isSuccess,\r\n        validationError,\r\n        imagePreview,\r\n        onChangeImageHandler,\r\n        onBlurInputHandler,\r\n        onChangeInputHandler,\r\n        onSubmitBookCreateHandler,\r\n        setInitialBookEditValue,\r\n        onSubmitBookEditHandler\r\n    }\r\n}\r\n\r\nexport default useBookForm;","import './index.css';\r\n\r\nimport { DEFAULT_BOOK_CATEGORIES } from '../../common';\r\n\r\nconst Category = ({ selectedCategories }) => {\r\n    const categories = DEFAULT_BOOK_CATEGORIES;\r\n\r\n    const onChangeSelectedHandler = (e) => {\r\n        const index=selectedCategories.indexOf(e.target.name)\r\n        if (index===-1) {\r\n            selectedCategories.push(e.target.name)\r\n        }else{\r\n            selectedCategories.splice(index,1);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"category-container\">\r\n            {categories.map((x, i) => (\r\n                <label key={x} className=\"checkbox-label\" >{x}\r\n                    <input className=\"category-input\" type=\"checkbox\" id={i} name={x} onChange={onChangeSelectedHandler} />\r\n                    <span className=\"checkmark\"></span>\r\n                </label>\r\n            ))}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Category;","import { useEffect, useContext } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport './index.css';\r\n\r\nimport useBookForm from \"../../../hooks/useBookForm\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport Loader from \"../../../components/loader\";\r\nimport Category from \"../../../components/category\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\n\r\nconst BookEdit = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst { bookId } = useParams();\r\n\r\n\tconst categories=[];\r\n\t\r\n\tconst {\r\n\t\tbookValue: book,\r\n\t\tisLoading,\r\n\t\tisImageLoading,\r\n\t\tisSuccess,\r\n\t\tvalidationError,\r\n\t\timagePreview,\r\n\t\tonChangeImageHandler,\r\n\t\tonChangeInputHandler,\r\n\t\tonSubmitBookEditHandler,\r\n\t\tsetInitialBookEditValue,\r\n\t} = useBookForm(categories);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess) {\r\n\t\t\tnavigate('/books');\r\n\t\t}\r\n\t}, [isSuccess, navigate])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetInitialBookEditValue(bookId)\r\n\t}, [bookId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(book.creator!==\"\" && book.creator!==user.username){\r\n\t\t   return()=> navigate('/home');\r\n\t\t}\r\n\t}, [book])\r\n\t\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<div className=\"book-form-container\">\r\n\t\t\t\t<div className=\"book-form-title\">\r\n\t\t\t\t\t<h3><i className=\"fa fa-arrow-right\"></i>Edit book</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form className=\"book-form-body\" onSubmit={onSubmitBookEditHandler}>\r\n\t\t\t\t\t<div className=\"book-form-body-main\">\r\n\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t<input className=\"title-input\" type=\"text\" name=\"title\" id=\"title\" defaultValue={book.title} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"title\"><i className=\"fa fa-pen\"></i>Title</label>\r\n\t\t\t\t\t\t\t{validationError.title && <ValidationError message={validationError.title} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"author\">\r\n\t\t\t\t\t\t\t<input className=\"author-input\" type=\"text\" name=\"author\" id=\"author\" defaultValue={book.author} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"title\"><i className=\"fa fa-pen\"></i>Author</label>\r\n\t\t\t\t\t\t\t{validationError.author && <ValidationError message={validationError.author} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"default-image\">\r\n\t\t\t\t\t\t\t{isImageLoading ? <Loader /> : <img src={imagePreview} alt=\"Book_Image\" />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"image\">\r\n\t\t\t\t\t\t\t<input className=\"image-input\" type=\"file\" accept=\"image/*\" lang=\"en\" name=\"imageUrl\" id=\"imageUrl\"  onChange={onChangeImageHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"image\"><i className=\"fas fa-image\"></i>Image</label>\r\n\t\t\t\t\t\t\t{validationError.image && <ValidationError message={validationError.image} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"book-form-body-details\">\r\n\t\t\t\t\t\t<div className=\"description\">\r\n\t\t\t\t\t\t\t<textarea className=\"description-input\" type=\"text\" name=\"description\" id=\"description\" cols=\"50\" rows=\"12\" defaultValue={book.description} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"description\"><i className=\"fa fa-pen\"></i>Description</label>\r\n\t\t\t\t\t\t\t{validationError.description && <ValidationError message={validationError.description} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Category selectedCategories={categories} />\r\n\t\t\t\t\t\t<p className=\"book-form-body-details-remark\">*The categories you choose will replace previous.</p>\r\n\t\t\t\t\t\t{/* <div className=\"category\">\r\n\t\t\t\t\t\t\t<input className=\"category-input\" type=\"text\" name=\"category\" id=\"category\" onBlur={onCategoryBlurHandler} />\r\n\t\t\t\t\t\t\t<span className=\"add-category\"><i className=\"fa fa-pen\"></i> Add category</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"categories-list\">\r\n\t\t\t\t\t\t\t{categories.map(x => <span key={x} className=\"category-list-item\" onClick={onCategoryClickHandler} ><i className=\"fas fa-times\"></i>{x}</span>)}\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"book-form-footer\">\r\n\t\t\t\t\t\t<div className=\"recommend\">\r\n\t\t\t\t\t\t\t<p>Recommended by</p>\r\n\t\t\t\t\t\t\t<h3>{user.username}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"action\">\r\n\t\t\t\t\t\t\t<button className=\"action-btn\" type=\"submit\">Edit book</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.required && <ValidationError message={validationError.required} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default BookEdit;","import { useState, useCallback } from 'react';\r\n\r\nimport { DEFAULT_EVENT_URL, INITIAL_EVENT_VALUE, INITIAL_EVENT_VALIDATION_ERROR, DEFAULT_LAG_LTD } from '../common';\r\n\r\nimport uploadImage from '../services/image';\r\nimport { eventDataValidation } from '../utils/validation';\r\nimport { cancelEvent, createEvent, editEvent, getEventById } from '../services/event';\r\n\r\n\r\nconst useEventForm = () => {\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [isImageLoading, setIsImageloading] = useState(false);\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n    const [point, setPoint] = useState(DEFAULT_LAG_LTD);\r\n    const [eventValue, setEventValue] = useState(INITIAL_EVENT_VALUE);\r\n    const [validationError, setValidationError] = useState(INITIAL_EVENT_VALIDATION_ERROR);\r\n    const [imagePreview, setImagePreview] = useState(DEFAULT_EVENT_URL);\r\n\r\n    const getGeoPoint = (point) => {\r\n        setPoint(point);\r\n    }\r\n\r\n    const onSubmitEventCreateHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n        // if (validationError.name || validationError.description\r\n        //     || validationError.image || validationError.date \r\n        //     || validationError.location ||validationError.required) {\r\n        //     setValidationError(INITIAL_EVENT_VALIDATION_ERROR);\r\n        // }\r\n\r\n        const data = new FormData(e.target);\r\n        const event = dataParser(data);\r\n        event.image = imagePreview;\r\n        event.status = 'active';\r\n        event.location = point;\r\n        // console.log(data.get('month'));\r\n        const dateError = eventDataValidation('date', event.date,data.get('month'));\r\n        setValidationError(prev => ({ ...prev, 'date': dateError }));\r\n        console.log(dateError);\r\n\r\n        console.log(event);\r\n        console.log(validationError);\r\n\r\n        if (validationError.name || validationError.description\r\n            || validationError.image || dateError) {\r\n            // setValidationError(INITIAL_EVENT_VALIDATION_ERROR);\r\n            return;\r\n        }\r\n\r\n    //    console.log(JSON.stringify(event.location)===JSON.stringify(DEFAULT_LAG_LTD))\r\n    //    console.log(JSON.stringify(DEFAULT_LAG_LTD))\r\n\r\n        if (event.name === '' || event.description === ''\r\n            || JSON.stringify(event.location) === JSON.stringify(DEFAULT_LAG_LTD)) {\r\n            setValidationError(prev => ({ ...prev, 'required': '*Topic, description, date and location are required.' }))\r\n            return;\r\n        }\r\n\r\n        createEvent(event)\r\n            .then(res => {\r\n                setIsloading(true);\r\n                setEventValue(prev => ({ ...prev, res }));\r\n                setIsSuccess(true);\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        eventFormReset();\r\n    }\r\n\r\n    const onSubmitEventEditHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const data = new FormData(e.target);\r\n        const event = dataParser(data);\r\n        event.image = imagePreview;\r\n        // event.status = 'active';\r\n        event.location = point;\r\n\r\n        const dateError = eventDataValidation('date', event.date,data.get('month'));\r\n        setValidationError(prev => ({ ...prev, 'date': dateError }));\r\n\r\n        if (validationError.name || validationError.description\r\n            || validationError.image || dateError) {\r\n            // setValidationError(INITIAL_EVENT_VALIDATION_ERROR);\r\n            return;\r\n        }\r\n\r\n        if (event.name === '' || event.description === '') {\r\n            setValidationError(prev => ({ ...prev, 'required': '*Topic, description, date and location are required.' }))\r\n            return;\r\n        }\r\n\r\n        editEvent(eventValue.id, event)\r\n            .then(res => {\r\n                setIsloading(true);\r\n               \r\n                setEventValue(prev => ({ ...prev, res }));\r\n                setIsSuccess(true);\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        eventFormReset();\r\n    }\r\n\r\n    const onBlurInputHandler = (e) => {\r\n        const value = e.target.value;\r\n        const type = e.target.name;\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const error = eventDataValidation(type, value);\r\n        setValidationError(prev => ({ ...prev, [type]: error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    const onChangeInputHandler = (e) => {\r\n        const value = e.target.value;\r\n        const type = e.target.name;\r\n\r\n        if (validationError.required) {\r\n            setValidationError(prev => ({ ...prev, \"required\": null }))\r\n        }\r\n\r\n        const error = eventDataValidation(type, value);\r\n        setValidationError(prev => ({ ...prev, [type]: error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    const onChangeImageHandler = (e) => {\r\n        const value = e.target.files[0];\r\n\r\n        const error = eventDataValidation('imageUrl', (value || ''));\r\n        setValidationError(prev => ({ ...prev, 'image': error }))\r\n        if (error) {\r\n            return;\r\n        }\r\n        if (!value) {\r\n            setImagePreview(DEFAULT_EVENT_URL);\r\n        } else {\r\n            setIsImageloading(true);\r\n            uploadImage(value)\r\n                .then(url => {\r\n                    setIsImageloading(false);\r\n                    setImagePreview(url);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    const setInitialEventEditValue = useCallback((eventId) => {\r\n        setIsloading(true);\r\n        getEventById(eventId)\r\n            .then(res => {\r\n                setEventValue(res);\r\n                setPoint(res.location)\r\n                setImagePreview(res.imageUrl);\r\n                setIsloading(false);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const onClickCancelEventHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tawait cancelEvent(eventValue.id);\r\n        setEventValue(prev => ({ ...prev, status:'cancelled' }));\r\n        setIsSuccess(true);\r\n\t}\r\n\r\n    const eventFormReset = () => {\r\n        setValidationError(INITIAL_EVENT_VALIDATION_ERROR);\r\n        setIsloading(false);\r\n        setIsSuccess(false);\r\n        setPoint(DEFAULT_LAG_LTD);\r\n        setEventValue(INITIAL_EVENT_VALUE);\r\n        setImagePreview(DEFAULT_EVENT_URL);\r\n    }\r\n\r\n    return {\r\n        eventValue,\r\n        isLoading,\r\n        isImageLoading,\r\n        isSuccess,\r\n        validationError,\r\n        imagePreview,\r\n        getGeoPoint,\r\n        onChangeImageHandler,\r\n        onBlurInputHandler,\r\n        onChangeInputHandler,\r\n        onSubmitEventCreateHandler,\r\n        setInitialEventEditValue,\r\n        onSubmitEventEditHandler,\r\n        onClickCancelEventHandler,\r\n        eventFormReset\r\n    }\r\n}\r\n\r\nexport default useEventForm;\r\n\r\nconst dataParser = (data) => {\r\n    const year = data.get('year');\r\n    const month = Number(data.get('month')) - 1;\r\n    const day = data.get('day');\r\n    const hour = data.get('hour');\r\n    const minute = data.get('minute');\r\n    const date = new Date(year, month, day, hour, minute, 0);\r\n    const event = {\r\n        name: data.get('name'),\r\n        location: data.get('location'),\r\n        description: data.get('description'),\r\n        date: date,\r\n        status: data.get('status') || 'active'\r\n    }\r\n    return event;\r\n}","import { useState } from 'react';\r\nimport { MapContainer, Marker, Popup, TileLayer, useMapEvent } from 'react-leaflet';\r\n\r\nimport './index.css'\r\nimport { DEFAULT_LAG_LTD, DEFAULT_MAP_CENTER, DEFAULT_MAP_CENTER_CITY } from '../../common';\r\n\r\nconst MapComponent = ({ getGeoPoint }) => {\r\n  const [point, setPoint] = useState(DEFAULT_LAG_LTD);\r\n\r\n  useMapEvent('click', (e) => {\r\n    if (!getGeoPoint) {\r\n      return null;\r\n    }\r\n    const data = [e.latlng.lat, e.latlng.lng];\r\n    getGeoPoint(data);\r\n    setPoint(data);\r\n  })\r\n  return (\r\n    <Marker position={point} >\r\n      <Popup>\r\n        New Location <br />{point[0].toString().slice(0, 7)}, {point[1].toString().slice(0, 7)}\r\n      </Popup>\r\n    </Marker>\r\n  )\r\n}\r\n\r\nconst MapEvent = ({ getGeoPoint, center, message }) => {\r\n  // const [point, setPoint] = useState(DEFAULT_MAP_CENTER);\r\n\r\n  // const mapCenter = center === \"\" ? DEFAULT_MAP_CENTER : center;\r\n  // if(JSON.stringify(center)!==JSON.stringify(DEFAULT_MAP_CENTER)){\r\n  //   setPoint(center);\r\n  // }\r\n  // console.log(center);\r\nconsole.log(center);\r\n  return (\r\n    <div className=\"map-event\">\r\n      <MapContainer center={center || DEFAULT_MAP_CENTER} zoom={8} scrollWheelZoom={false}>\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <Marker position={center ||DEFAULT_MAP_CENTER}>\r\n          <Popup>\r\n            {message || DEFAULT_MAP_CENTER_CITY}\r\n          </Popup>\r\n        </Marker>\r\n        <MapComponent  getGeoPoint={getGeoPoint} />\r\n        {/* <MapComponent center={center} getGeoPoint={getGeoPoint} /> */}\r\n      </MapContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapEvent;\r\n","import { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport useEventForm from \"../../../hooks/useEventForm\";\r\n\r\nimport Loader from \"../../../components/loader\";\r\nimport MapEvent from \"../../../components/map-event\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\nconst EventEdit = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst { eventId } = useParams();\r\n\r\n\tconst {\r\n\t\teventValue: event,\r\n\t\tisLoading,\r\n\t\tisImageLoading,\r\n\t\tvalidationError,\r\n\t\timagePreview,\r\n\t\tisSuccess,\r\n\t\tgetGeoPoint,\r\n\t\tonChangeImageHandler,\r\n\t\tonChangeInputHandler,\r\n\t\tonSubmitEventEditHandler,\r\n\t\tsetInitialEventEditValue,\r\n\t\tonClickCancelEventHandler,\r\n\t\teventFormReset\r\n\t} = useEventForm();\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess) {\r\n\t\t\tnavigate('/events');\r\n\t\t}\r\n\t}, [isSuccess, navigate])\r\n\t\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetInitialEventEditValue(eventId);\r\n\t}, [eventId])\r\n\t\r\n\t// useEffect(() => {\r\n\t// \tconsole.log(event);\r\n\t// \tconsole.log(event.creator!==user.username);\r\n\t// \tconsole.log(event.creator);\r\n\t// \tconsole.log(event.creator!==\"\" && event.creator!==user.username);\r\n\t// \tif(event.creator!==\"\" && event.creator!==user.username){\r\n\t// \t\teventFormReset()\r\n\t// \t\tnavigate('/home')\r\n\t// \t}\r\n\t// }, [event.creator,navigate])\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\tconsole.log(event.location);\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<div className=\"event-form-container\">\r\n\t\t\t\t<div className=\"event-form-title\">\r\n\t\t\t\t\t<h3><i className=\"fa fa-arrow-right\"></i>Edit event</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form className=\"event-form-body\" onSubmit={onSubmitEventEditHandler}>\r\n\t\t\t\t\t<div className=\"event-form-body-main\">\r\n\t\t\t\t\t\t<div className=\"event-name\">\r\n\t\t\t\t\t\t\t<input className=\"event-name-input\" type=\"text\" name=\"name\" id=\"name\" defaultValue={event.name} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"name\"><i className=\"fa fa-pen\"></i>Topic</label>\r\n\t\t\t\t\t\t\t{validationError.name && <ValidationError message={validationError.name} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-date edit\">\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"year\" id=\"year\" min={2021} max={2050} placeholder=\"YYYY\" defaultValue={event.dateObj.year} />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"month\" id=\"month\" min={1} max={12} placeholder=\"MM\" defaultValue={event.dateObj.month} />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"day\" id=\"day\" min={1} max={31} placeholder=\"DD\" defaultValue={event.dateObj.day} />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"hour\" id=\"hour\" min={0} max={24} placeholder=\"HH\" defaultValue={event.dateObj.hour} />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"minute\" id=\"minute\" min={0} max={59} placeholder=\"MM\" defaultValue={event.dateObj.minute} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"date\"><i className=\"fa fa-pen\"></i>Date and time</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.date && <ValidationError message={validationError.date} />}\r\n\t\t\t\t\t\t<div className=\"event-status\">\r\n\t\t\t\t\t\t\t{event.status === 'active'\r\n\t\t\t\t\t\t\t\t? <span className=\"status-active\" ><i className=\"fas fa-chart-line\"></i>{event.status}</span>\r\n\t\t\t\t\t\t\t\t: <span className=\"status-cancelled\"><i className=\"fas fa-ban\"></i>{event.status}</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-default-image\">\r\n\t\t\t\t\t\t\t{isImageLoading ? <Loader /> : <img src={imagePreview} alt=\"Event_Image\" />}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-image\">\r\n\t\t\t\t\t\t\t<input className=\"event-image-input\" type=\"file\" accept=\"image/*\" lang=\"en\" name=\"imageUrl\" id=\"imageUrl\" onChange={onChangeImageHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"image\"><i className=\"fas fa-image\"></i>Image</label>\r\n\t\t\t\t\t\t\t{validationError.image && <ValidationError message={validationError.image} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-form-body-details\">\r\n\t\t\t\t\t\t<div className=\"event-description\">\r\n\t\t\t\t\t\t\t<textarea className=\"event-description-input\" type=\"text\" name=\"description\" id=\"description\" cols=\"50\" rows=\"12\" defaultValue={event.description} onChange={onChangeInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"description\"><i className=\"fa fa-pen\"></i>Description</label>\r\n\t\t\t\t\t\t\t{validationError.description && <ValidationError message={validationError.description} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<MapEvent center={event.location} getGeoPoint={getGeoPoint} message={'Current location'} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-edit-form-footer\">\r\n\t\t\t\t\t\t<div className=\"event-actions cancel\">\r\n\t\t\t\t\t\t\t{event.status === 'active'\r\n\t\t\t\t\t\t\t\t? <div className=\"event-actions-icon\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"far fa-calendar-check\"></i>\r\n\t\t\t\t\t\t\t\t\t{/* <Link className=\"cancel-event-link\" to={`/events`} onClick={onClickCancelEventHandler} >CANCEL EVENT</Link> */}\r\n\t\t\t\t\t\t\t\t\t<Link className=\"cancel-event-link\" to={`/events/${event.id}/cancel`} onClick={onClickCancelEventHandler} >CANCEL EVENT</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"recommend\">\r\n\t\t\t\t\t\t\t<p>Organised by</p>\r\n\t\t\t\t\t\t\t<h3>{user.username}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-action\">\r\n\t\t\t\t\t\t\t<button className=\"event-action-btn\" type=\"submit\">Edit event</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.required && <ValidationError message={validationError.required} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default EventEdit;\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport useBookForm from \"../../../hooks/useBookForm\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport Loader from \"../../../components/loader\";\r\nimport Category from \"../../../components/category\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\nconst BookCreate = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tconst categories = [];\r\n\tconst {\r\n\t\tisLoading,\r\n\t\tisImageLoading,\r\n\t\tisSuccess,\r\n\t\tvalidationError,\r\n\t\timagePreview,\r\n\t\tonChangeImageHandler,\r\n\t\tonBlurInputHandler,\r\n\t\tonSubmitBookCreateHandler\r\n\t} = useBookForm(categories);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess) {\r\n\t\t\tnavigate('/books');\r\n\t\t}\r\n\t}, [isSuccess, navigate])\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t  <PageLayout>\r\n\t\t\t<Loader />\r\n\t\t  </PageLayout>\r\n\t\t)\r\n\t  }\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<div className=\"book-form-container\">\r\n\t\t\t\t<div className=\"book-form-title\">\r\n\t\t\t\t\t<h3><i className=\"fa fa-arrow-right\"></i>New book</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form className=\"book-form-body\" onSubmit={onSubmitBookCreateHandler}>\r\n\t\t\t\t\t<div className=\"book-form-body-main\">\r\n\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t<input className=\"title-input\" type=\"text\" name=\"title\" id=\"title\" onBlur={onBlurInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"title\"><i className=\"fa fa-pen\"></i>Title</label>\r\n\t\t\t\t\t\t\t{validationError.title && <ValidationError message={validationError.title} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"author\">\r\n\t\t\t\t\t\t\t<input className=\"author-input\" type=\"text\" name=\"author\" id=\"author\" onBlur={onBlurInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"title\"><i className=\"fa fa-pen\"></i>Author</label>\r\n\t\t\t\t\t\t\t{validationError.author &&  <ValidationError message={validationError.author} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"default-image\">\r\n\t\t\t\t\t\t\t{isImageLoading ? <Loader /> : <img src={imagePreview} alt=\"Book_Image\" />}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"image\">\r\n\t\t\t\t\t\t\t<input className=\"image-input\" type=\"file\" accept=\"image/*\" lang=\"en\" name=\"imageUrl\" id=\"imageUrl\" onChange={onChangeImageHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"image\"><i className=\"fas fa-image\"></i>Image</label>\r\n\t\t\t\t\t\t\t{validationError.image && <ValidationError message={validationError.image} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"book-form-body-details\">\r\n\t\t\t\t\t\t<div className=\"description\">\r\n\t\t\t\t\t\t\t<textarea className=\"description-input\" type=\"text\" name=\"description\" id=\"description\" cols=\"50\" rows=\"12\" onBlur={onBlurInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"description\"><i className=\"fa fa-pen\"></i>Description</label>\r\n\t\t\t\t\t\t\t{validationError.description && <ValidationError message={validationError.description} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Category selectedCategories={categories} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"book-form-footer\">\r\n\t\t\t\t\t\t<div className=\"recommend\">\r\n\t\t\t\t\t\t\t<p>Recommended by</p>\r\n\t\t\t\t\t\t\t<h3>{user.username}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"action\">\r\n\t\t\t\t\t\t\t<button className=\"action-btn\" type=\"submit\">Add to books</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.required && <ValidationError message={validationError.required} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default BookCreate;\r\n","import Parse from \"../config/server\";\r\n\r\nconst getAllCommentsByBookId = async function (bookId) {\r\n\tconst book = new Parse.Object('Book');\r\n\tbook.id = bookId;\r\n\r\n\tconst BookComment = Parse.Object.extend('BookComment');\r\n\tconst query = new Parse.Query(BookComment);\r\n\tquery.include('creator');\r\n\tquery.equalTo('book', book);\r\n\tquery.descending('createdAt');\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.reduce((a, x) => {\r\n\t\t\ta.push(viewModel(x))\r\n\t\t\treturn a\r\n\t\t}, [])\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching BookComment', error);\r\n\t}\r\n}\r\n\r\nconst getAllCommentsByEventId = async function (eventId) {\r\n\tconst event = new Parse.Object('Event');\r\n\tevent.id = eventId;\r\n\r\n\tconst EventComment = Parse.Object.extend('EventComment');\r\n\tconst query = new Parse.Query(EventComment);\r\n\tquery.include('creator');\r\n\tquery.equalTo('event', event);\r\n\tquery.descending('createdAt');\r\n\r\n\ttry {\r\n\t\tconst data = await query.find();\r\n\t\tconst results = data.reduce((a, x) => {\r\n\t\t\ta.push(viewModel(x))\r\n\t\t\treturn a\r\n\t\t}, [])\r\n\t\treturn results;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while fetching EventComment', error);\r\n\t}\r\n}\r\n\r\nconst createBookComment = async (bookId, text) => {\r\n\tconst book = new Parse.Object('Book');\r\n\tbook.id = bookId;\r\n\r\n\tconst bookComment = new Parse.Object('BookComment');\r\n\tbookComment.set('text', text);\r\n\tbookComment.set('creator', Parse.User.current());\r\n\tbookComment.set('book', book);\r\n\r\n\ttry {\r\n\t\tawait bookComment.save();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while creating BookComment: ', error);\r\n\t}\r\n}\r\n\r\nconst createEventComment = async (eventId, text) => {\r\n\tconst event = new Parse.Object('Event');\r\n\tevent.id = eventId;\r\n\r\n\tconst eventComment =new Parse.Object('EventComment');\r\n\teventComment.set('text', text);\r\n\teventComment.set('creator', Parse.User.current());\r\n\teventComment.set('event', event);\r\n\r\n\ttry {\r\n\t\tawait eventComment.save();\r\n\t} catch (error) {\r\n\t\tconsole.error('Error while creating EventComment: ', error);\r\n\t}\r\n}\r\n\r\n\r\nconst viewModel = (record) => {\r\n\tconst creator = record.get('creator').get('username');\r\n\tconst date = new Date(record.createdAt)\r\n\t\t.toLocaleDateString(\"en-US\", { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', })\r\n\r\n\treturn {\r\n\t\tid: record.id,\r\n\t\tcreatedAt: date,\r\n\t\ttext: record.get('text'),\r\n\t\tcreator,\r\n\t}\r\n}\r\n\r\nexport {\r\n\tcreateBookComment,\r\n\tcreateEventComment,\r\n\tgetAllCommentsByBookId,\r\n\tgetAllCommentsByEventId\r\n}\r\n","import { useState,useEffect } from 'react';\r\nimport { createBookComment, getAllCommentsByBookId } from '../services/comment';\r\n\r\n\r\nimport userService from '../services/user';\r\nimport { getBookById } from '../services/book';\r\nimport { commentDataValidation } from '../utils/validation';\r\n\r\nconst initialBookValue={\r\n\tid: \"\",\r\n\ttitle: \"\",\r\n\tauthor: \"\",\r\n\tdescription: \"\",\r\n\timageUrl: \"\",\r\n\trating: 0,\r\n\tvoted: [],\r\n\tcreatedAt: \"\",\r\n\tcreator: \"\",\r\n\tcategory: []\r\n};\r\n\r\nconst useBook = (bookId,isAuthenticated, user) => {\r\n\tconst [book, setBook] = useState(initialBookValue);\r\n\tconst [isLoading, setIsloading] = useState(false);\r\n\tconst [canVote, setCanVote] = useState(false);\r\n\tconst [canAdd, setCanAdd] = useState(true);\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [validationError, setValidationError] = useState(null);\r\n    \r\n\tconst isCreator=isAuthenticated && user.username === book.creator;\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tsetIsloading(true);\r\n\t\t\tconst book = await getBookById(bookId);\r\n\t\t\tsetIsloading(false);\r\n\t\t\tsetBook(book);\r\n\t\t\tif (isAuthenticated && user.username !== book.creator && !book.voted.includes(user.userId)) {\r\n\t\t\t\tsetCanVote(true);\r\n\t\t\t}\r\n\t\t\tif (Boolean(user.username) && user.username !== book.creator) {\r\n\t\t\t\tconst canAdd = await userService.checkBookInUserReadingList(user.userId, bookId);\r\n\t\t\t\tsetCanAdd(canAdd);\r\n\t\t\t}\r\n\t\t\tconst comments = await getAllCommentsByBookId(bookId);\r\n\t\t\tsetComments(comments);\r\n\t\t}\r\n\t\tfetchData()\r\n\t}, [bookId, user,isAuthenticated])\r\n\r\n\r\n\tconst onClickAddBookHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tawait userService.updateUserReadingList(user.userId, bookId);\r\n\t\tsetCanAdd(false);\r\n\t}\r\n\t\r\n\tconst onSubmitCommentHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst text=e.target.comment.value;\r\n\t\tconst error=commentDataValidation(text)\r\n\t\tif(error){\r\n\t\t\tsetValidationError(error);\r\n\t\t\treturn;\r\n\t\t}\r\n        if(validationError){\r\n            setValidationError(null);\r\n        }\r\n\t\tawait createBookComment(bookId, text);\r\n\t\tconst updated = await getAllCommentsByBookId(bookId);\r\n\t\tsetComments(updated);\r\n\t\te.target.comment.value = '';\r\n\t}\r\n\r\n    return{\r\n        book,\r\n        isLoading,\r\n        isCreator,\r\n        canVote, \r\n        canAdd,\r\n        comments,\r\n        validationError,\r\n        onClickAddBookHandler,\r\n        onSubmitCommentHandler\r\n    }\r\n}\r\n\r\nexport default useBook;","import { useState } from 'react';\r\n\r\nimport './index.css'\r\n\r\nimport { rateBook } from '../../services/rating';\r\n\r\nconst Rating = ({userId,bookId}) => {\r\n\r\n    const [isDisabled, setIsDisabled] = useState(false);\r\n\r\n    const onSubmitRatingHandler = (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData(e.target);\r\n\r\n        const stars = Array.from(data.values());\r\n        const value = stars.reduce((a, x) => {\r\n            if (Number(x) > a) {\r\n                a = Number(x);\r\n            }\r\n            return a;\r\n        }, 0)\r\n\r\n        rateBook(userId,bookId,value)\r\n        .then(()=>{\r\n            setIsDisabled(true)\r\n        })\r\n        .catch(err=>console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"rating\">\r\n            <form action=\"\" onSubmit={onSubmitRatingHandler} className=\"rating-form\">\r\n                <div className=\"stars\">\r\n                    <input className=\"star star-5\" id=\"star-5\" type=\"checkbox\" name=\"5\" defaultValue=\"5\" disabled={isDisabled} />\r\n                    <label className=\"star star-5\" htmlFor=\"star-5\">&#9733;</label>\r\n                    <input className=\"star star-4\" id=\"star-4\" type=\"checkbox\" name=\"4\" defaultValue=\"4\" disabled={isDisabled}/>\r\n                    <label className=\"star star-4\" htmlFor=\"star-4\">&#9733;</label>\r\n                    <input className=\"star star-3\" id=\"star-3\" type=\"checkbox\" name=\"3\" defaultValue=\"3\" disabled={isDisabled}/>\r\n                    <label className=\"star star-3\" htmlFor=\"star-3\">&#9733;</label>\r\n                    <input className=\"star star-2\" id=\"star-2\" type=\"checkbox\" name=\"2\" defaultValue=\"2\" disabled={isDisabled}/>\r\n                    <label className=\"star star-2\" htmlFor=\"star-2\">&#9733;</label>\r\n                    <input className=\"star star-1\" id=\"star-1\" type=\"checkbox\" name=\"1\" defaultValue=\"1\" disabled={isDisabled}/>\r\n                    <label className=\"star star-1\" htmlFor=\"star-1\">&#9733;</label>\r\n                </div>\r\n                <button type=\"submit\" disabled={isDisabled} className=\"rating-btn\">click the stars</button>\r\n            </form>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Rating;","import './index.css'\r\n\r\nconst CustomComment = ({creator, text, createdAt }) => {\r\n\r\n    return (\r\n        <div className=\"comment-container\">\r\n            <div className=\"comment-author\">\r\n                <i className=\"fas fa-user-circle\"></i>\r\n                <span>{creator}</span>\r\n            </div>\r\n            <p className=\"comment-date\">{createdAt}</p>\r\n            <div className=\"comment-text\">\r\n                {text}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomComment;","import {useContext } from \"react\";\r\nimport { Link, useParams} from \"react-router-dom\";\r\n\r\nimport './index.css';\r\n\r\nimport useBook from \"../../../hooks/useBook\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\nimport Star from \"../../../components/star\";\r\nimport Loader from \"../../../components/loader\";\r\nimport Rating from \"../../../components/rating\";\r\nimport CustomComment from \"../../../components/comment\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\n\r\nconst BookDetails = () => {\r\n\tconst {isAuthenticated, user } = useContext(AuthContext);\r\n\tconst { bookId } = useParams();\r\n\r\n\tconst{\r\n        book,\r\n        isLoading,\r\n        isCreator,\r\n        canVote, \r\n        canAdd,\r\n        comments,\r\n        validationError,\r\n        onClickAddBookHandler,\r\n        onSubmitCommentHandler\r\n    }=useBook(bookId,isAuthenticated,user)\r\n\r\n\tconst actionsAllowed = () => {\r\n\t\tif (!isAuthenticated) {\r\n\t\t\treturn <Link className=\"join-link\" to={'/register'}>JOIN US</Link>;\r\n\t\t}\r\n\t\tif (isCreator) {\r\n\t\t\treturn <Link className=\"edit-link\" to={`/books/${book.id}/edit`}>EDIT BOOK</Link>;\r\n\t\t}\r\n\t\tif (canAdd) {\r\n\t\t\treturn <Link className=\"add-to-reading-list-link\" to={`/books/${book.id}/add`} onClick={onClickAddBookHandler} >ADD TO YOUR LIST</Link>;\r\n\t\t} else {\r\n\t\t\treturn <p className=\"added-to-reading-list\">ADDED TO YOUR LIST</p>;\r\n\t\t}\r\n\t}\r\n\r\n\tif(isLoading){\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader/>\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<h1>Book</h1>\r\n\t\t\t<div className=\"book-details-container\">\r\n\t\t\t\t<div className=\"book-main\">\r\n\t\t\t\t\t<h4 className=\"book-author\">{book.author}</h4>\r\n\t\t\t\t\t<h1 className=\"book-title\">{book.title}</h1>\r\n\t\t\t\t\t<div className=\"book-details\">\r\n\t\t\t\t\t\t<span><i className=\"far fa-clock\"></i>{book.createdAt}</span>\r\n\t\t\t\t\t\t<span><i className=\"far fa-user\"></i>{book.creator}</span>\r\n\t\t\t\t\t\t<span><i className=\"far fa-comment-alt\"></i>{comments.length}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!canVote\r\n\t\t\t\t\t\t? <Star rating={book.rating} />\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"book-image\">\r\n\t\t\t\t\t\t<img src={book.imageUrl ? book.imageUrl : \"/default_book.png\"} alt=\"Book_cover\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"book-description\">{book.description}</p>\r\n\t\t\t\t\t<div className=\"book-categories\">\r\n\t\t\t\t\t\t{book.category.map(x => <span key={x}><i className=\"far fa-circle\"></i>{x}</span>)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"book-additional\">\r\n\t\t\t\t\t<div className=\"book-comments\">\r\n\t\t\t\t\t\t{comments.length > 0\r\n\t\t\t\t\t\t\t? comments.map(x => <CustomComment key={x.id} createdAt={x.createdAt} text={x.text} creator={x.creator} />)\r\n\t\t\t\t\t\t\t: <p>No comments yet... Be the first one to comment!</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"book-rating\">\r\n\t\t\t\t\t\t{canVote && <Rating userId={user.userId} bookId={bookId} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{isAuthenticated\r\n\t\t\t\t\t\t? <div className=\"book-comments-form\">\r\n\t\t\t\t\t\t\t<form action=\"\" method=\"post\" onSubmit={onSubmitCommentHandler}>\r\n\t\t\t\t\t\t\t\t<h4>You can write your comment here:</h4>\r\n\t\t\t\t\t\t\t\t<textarea className=\"comment-input\" name=\"comment\" id=\"comment\" cols=\"50\" rows=\"6\"></textarea>\r\n\t\t\t\t\t\t\t\t{validationError && <p className=\"comment-error\">{validationError}</p>}\r\n\t\t\t\t\t\t\t\t<button className=\"comment-btn\" type=\"submit\">POST</button>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"book-actions\">\r\n\t\t\t\t\t<div className=\"book-actions-icon\">\r\n\t\t\t\t\t\t<i className=\"far fa-calendar-check\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{actionsAllowed()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default BookDetails;\r\n\r\n\t// const onClickDeleteBookHandler = async(e)=>{\r\n\t// \te.preventDefault();\r\n\t// \tawait deleteBook(bookId)\r\n\t// \tnavigate('/books')\r\n\t// }","import { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useContext } from \"react\";\r\n\r\nimport './index.css';\r\n\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport useEventForm from \"../../../hooks/useEventForm\";\r\n\r\nimport Loader from \"../../../components/loader\";\r\nimport MapEvent from \"../../../components/map-event\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport ValidationError from \"../../../components/validation-error\";\r\n\r\nconst EventCreate = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tconst {\r\n\t\tisLoading,\r\n\t\tisImageLoading,\r\n\t\tvalidationError,\r\n\t\timagePreview,\r\n\t\tisSuccess,\r\n\t\tgetGeoPoint,\r\n\t\tonChangeImageHandler,\r\n\t\tonBlurInputHandler,\r\n\t\tonSubmitEventCreateHandler\r\n\t} = useEventForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(\"bb\");\r\n\t\tif (isSuccess) {\r\n\t\t\tnavigate('/events');\r\n\t\t}\r\n\t}, [isSuccess, navigate])\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<div className=\"event-form-container\">\r\n\t\t\t\t<div className=\"event-form-title\">\r\n\t\t\t\t\t<h3><i className=\"fa fa-arrow-right\"></i>New event</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form className=\"event-form-body\" onSubmit={onSubmitEventCreateHandler}>\r\n\t\t\t\t\t<div className=\"event-form-body-main\">\r\n\t\t\t\t\t\t<div className=\"event-name\">\r\n\t\t\t\t\t\t\t<input className=\"event-name-input\" type=\"text\" name=\"name\" id=\"name\" onBlur={onBlurInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"name\"><i className=\"fa fa-pen\"></i>Topic</label>\r\n\t\t\t\t\t\t\t{validationError.name && <ValidationError message={validationError.name} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-date\">\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"year\" id=\"year\" min={2021} max={2050} placeholder=\"YYYY\" />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"month\" id=\"month\" min={1} max={12} placeholder=\"MM\" />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"day\" id=\"day\" min={1} max={31} placeholder=\"DD\" />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"hour\" id=\"hour\" min={0} max={23} placeholder=\"HH\" />\r\n\t\t\t\t\t\t\t<input className=\"event-date-input-box\" type=\"number\" name=\"minute\" id=\"minute\" min={0} max={59} placeholder=\"MM\" />\r\n\t\t\t\t\t\t\t<label htmlFor=\"date\"><i className=\"fa fa-pen\"></i>Date and time</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.date && <ValidationError message={validationError.date} />}\r\n\t\t\t\t\t\t<div className=\"event-default-image\">\r\n\t\t\t\t\t\t\t{isImageLoading ? <Loader /> : <img src={imagePreview} alt=\"Event_Image\" />}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-image\">\r\n\t\t\t\t\t\t\t<input className=\"event-image-input\" type=\"file\" accept=\"image/*\" lang=\"en\" name=\"imageUrl\" id=\"imageUrl\"  onChange={onChangeImageHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"image\"><i className=\"fas fa-image\"></i>Image</label>\r\n\t\t\t\t\t\t\t{validationError.image && <ValidationError message={validationError.image} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-form-body-details\">\r\n\t\t\t\t\t\t<div className=\"event-description\">\r\n\t\t\t\t\t\t\t<textarea className=\"event-description-input\" type=\"text\" name=\"description\" id=\"description\" cols=\"50\" rows=\"12\" onBlur={onBlurInputHandler} />\r\n\t\t\t\t\t\t\t<label htmlFor=\"description\"><i className=\"fa fa-pen\"></i>Description</label>\r\n\t\t\t\t\t\t\t{validationError.description && <ValidationError message={validationError.description} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<MapEvent getGeoPoint={getGeoPoint} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-form-footer\">\r\n\t\t\t\t\t\t<div className=\"recommend\">\r\n\t\t\t\t\t\t\t<p>Organised by</p>\r\n\t\t\t\t\t\t\t<h3>{user.username}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-action\">\r\n\t\t\t\t\t\t\t<button className=\"event-action-btn\" type=\"submit\">Add to events</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{validationError.required && <ValidationError message={validationError.required} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default EventCreate;\r\n","import { useState, useEffect } from 'react';\r\n\r\n\r\nimport { DEFAULT_LAG_LTD, DEFAULT_MAP_CENTER } from '../common';\r\nimport { getEventById } from '../services/event';\r\nimport { signSubscription } from '../services/subscription';\r\nimport { commentDataValidation } from '../utils/validation';\r\nimport { createEventComment, getAllCommentsByEventId } from '../services/comment';\r\n\r\nconst initialEventValue = {\r\n\tid: \"\",\r\n\tname: \"\",\r\n\tdate: \"\",\r\n\tlocation: '',\r\n\tdescription: \"\",\r\n\timageUrl: \"\",\r\n\tstatus: \"\",\r\n\tcreatedAt: \"\",\r\n\tcreator: \"\",\r\n\tsubscriptionId: \"\",\r\n\tsubscribed: [],\r\n\tdateObj: {}\r\n};\r\n\r\nconst useEvent = (eventId, isAuthenticated, user) => {\r\n\tconst [event, setEvent] = useState(initialEventValue);\r\n\tconst [isLoading, setIsloading] = useState(false);\r\n\tconst [canSubscribe, setCanSubscribe] = useState(false);\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [validationError, setValidationError] = useState(null);\r\n\r\n\tconst isCreator = isAuthenticated && user.username === event.creator;\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tsetIsloading(true);\r\n\t\t\tconst event = await getEventById(eventId);\r\n\t\t\tconsole.log(event);\r\n\t\t\tsetIsloading(false);\r\n\t\t\tsetEvent(event);\r\n\t\t\tconsole.log(event);\r\n\t\t\tif (isAuthenticated && user.username !== event.creator \r\n\t\t\t\t&& !event.subscribed.includes(user.username) && event.status===\"active\") {\r\n\t\t\t\tsetCanSubscribe(true);\r\n\t\t\t}\r\n\t\t\t// if (Boolean(user.username) && user.username !== book.creator) {\r\n\t\t\t// \tconst canAdd = await userService.checkBookInUserReadingList(user.userId, bookId);\r\n\t\t\t// \tsetCanAdd(canAdd);\r\n\t\t\t// }\r\n\t\t\tconst comments = await getAllCommentsByEventId(eventId);\r\n\t\t\tsetComments(comments);\r\n\t\t}\r\n\t\tfetchData()\r\n\t}, [eventId, user, isAuthenticated])\r\n\r\n\r\n\tconst onClickAddEventHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tawait signSubscription(user.username, event.subscriptionId, event.subscribed);\r\n\t\tconst updatedSuscribed=[...event.subscribed,user.username];\r\n\t\tconsole.log(event);\r\n\t\tsetEvent(prev=>({...prev,subscribed:updatedSuscribed}));\r\n\t\tsetCanSubscribe(false);\r\n\t}\r\n\r\n\tconst onSubmitCommentHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst text = e.target.comment.value;\r\n\t\tconst error = commentDataValidation(text)\r\n\t\tif (error) {\r\n\t\t\tsetValidationError(error);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (validationError) {\r\n\t\t\tsetValidationError(null);\r\n\t\t}\r\n\t\tawait createEventComment(eventId, text);\r\n\t\tconst updated = await getAllCommentsByEventId(eventId);\r\n\t\tsetComments(updated);\r\n\t\te.target.comment.value = '';\r\n\t}\r\n\r\n\treturn {\r\n\t\tevent,\r\n\t\tisLoading,\r\n\t\tisCreator,\r\n\t\tcanSubscribe,\r\n\t\tcomments,\r\n\t\tvalidationError,\r\n\t\tonClickAddEventHandler,\r\n\t\tonSubmitCommentHandler\r\n\t}\r\n}\r\n\r\nexport default useEvent;","import { useContext } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport './index.css';\r\n\r\nimport useEvent from \"../../../hooks/useEvent\";\r\nimport AuthContext from \"../../../context/authContext\";\r\n\r\n// import Star from \"../../../components/star\";\r\nimport Loader from \"../../../components/loader\";\r\n// import Rating from \"../../../components/rating\";\r\nimport CustomComment from \"../../../components/comment\";\r\nimport PageLayout from \"../../../components/page-layout\";\r\nimport MapEvent from \"../../../components/map-event\";\r\n\r\nconst EventDetails = () => {\r\n\tconst { isAuthenticated, user } = useContext(AuthContext);\r\n\tconst { eventId } = useParams();\r\n\r\n\tconst {\r\n\t\tevent,\r\n\t\tisLoading,\r\n\t\tisCreator,\r\n\t\tcanSubscribe,\r\n\t\tcomments,\r\n\t\tvalidationError,\r\n\t\tonClickAddEventHandler,\r\n\t\tonSubmitCommentHandler\r\n\t} = useEvent(eventId, isAuthenticated, user)\r\n\r\n\tconst actionsAllowed = () => {\r\n\t\tif (!isAuthenticated) {\r\n\t\t\treturn <Link className=\"join-link\" to={'/register'}>JOIN US</Link>;\r\n\t\t}\r\n\t\tif (isCreator) {\r\n\t\t\treturn <Link className=\"edit-link\" to={`/events/${event.id}/edit`}>EDIT EVENT</Link>;\r\n\t\t}\r\n\t\tif ( canSubscribe) {\r\n\t\t\treturn <Link className=\"add-to-event-list-link\" to={`/events/${event.id}/subscribe`} onClick={onClickAddEventHandler} >ADD TO YOUR LIST</Link>;\r\n\t\t} else {\r\n\t\t\tif(event.status===\"cancelled\"){\r\n\t\t\t\treturn <p className=\"added-to-event-list\">CANCELLED EVENT</p>;\r\n\t\t\t}\r\n\t\t\treturn <p className=\"added-to-event-list\">ADDED TO YOUR LIST</p>;\r\n\t\t}\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\treturn (\r\n\t\t\t<PageLayout>\r\n\t\t\t\t<Loader />\r\n\t\t\t</PageLayout>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PageLayout>\r\n\t\t\t<h1>Event</h1>\r\n\t\t\t<div className=\"event-details-container\">\r\n\t\t\t\t<div className=\"event-main\">\r\n\t\t\t\t\t<h3 className=\"event-schedule\">SCHEDULE: {event.date}</h3>\r\n\t\t\t\t\t<h3 className=\"event-heading\"> TOPIC: {event.name}</h3>\r\n\t\t\t\t\t<div className=\"event-details\">\r\n\t\t\t\t\t\t<span><i className=\"far fa-clock\"></i>{event.createdAt}</span>\r\n\t\t\t\t\t\t<span><i className=\"far fa-user\"></i>{event.creator}</span>\r\n\t\t\t\t\t\t<span><i className=\"far fa-comment-alt\"></i>{comments.length}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-status\">\r\n\t\t\t\t\t\t{event.status === 'active'\r\n\t\t\t\t\t\t\t? <span className=\"status-active\" ><i className=\"fas fa-chart-line\"></i>{event.status}</span>\r\n\t\t\t\t\t\t\t: <span className=\"status-cancelled\"><i className=\"fas fa-ban\"></i>{event.status}</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-image\">\r\n\t\t\t\t\t\t<img src={event.imageUrl ? event.imageUrl : \"/default_event.png\"} alt=\"Event_cover\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"event-description\">{event.description}</p>\r\n\t\t\t\t\t<div className=\"event-subscribed\">\r\n\t\t\t\t\t\t{event.subscribed.length > 0\r\n\t\t\t\t\t\t\t? event.subscribed.map(x => <span key={x}> <i className=\"fas fa-user-circle subscribed\"></i>{x}</span>)\r\n\t\t\t\t\t\t\t: <p>No one has subscribed yet...</p>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"event-additional\">\r\n\t\t\t\t\t<div className=\"event-map-container\">\r\n\t\t\t\t\t\t{event.location && <MapEvent getGeoPoint={null} center={event.location} message={'Event location'} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"event-comments\">\r\n\t\t\t\t\t\t{comments.length > 0\r\n\t\t\t\t\t\t\t? comments.map(x => <CustomComment key={x.id} createdAt={x.createdAt} text={x.text} creator={x.creator} />)\r\n\t\t\t\t\t\t\t: <p>No comments yet... Be the first one to comment!</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{isAuthenticated\r\n\t\t\t\t\t\t? <div className=\"event-comments-form\">\r\n\t\t\t\t\t\t\t<form action=\"\" method=\"post\" onSubmit={onSubmitCommentHandler}>\r\n\t\t\t\t\t\t\t\t<h4>You can write your comment here:</h4>\r\n\t\t\t\t\t\t\t\t<textarea className=\"comment-input\" name=\"comment\" id=\"comment\" cols=\"50\" rows=\"6\"></textarea>\r\n\t\t\t\t\t\t\t\t{validationError && <p className=\"comment-error\">{validationError}</p>}\r\n\t\t\t\t\t\t\t\t<button className=\"comment-btn\" type=\"submit\">POST</button>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"event-actions\">\r\n\t\t\t\t\t<div className=\"event-actions-icon\">\r\n\t\t\t\t\t\t<i className=\"far fa-calendar-check\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{actionsAllowed()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PageLayout>\r\n\t)\r\n}\r\n\r\nexport default EventDetails;\r\n","import { Route, Routes } from 'react-router-dom';\n\nimport './App.css';\n\nimport {AuthRoute, UserRoute } from './GuardedRoute';\n\nimport Home from './pages/home';\nimport Landing from './pages/landing';\nimport NoMatch from './pages/no-match';\nimport Books from './pages/book/books';\nimport Login from './pages/auth/login';\nimport Logout from './pages/auth/logout';\nimport Events from './pages/event/events';\nimport MyPage from './pages/auth/my-page';\nimport Register from './pages/auth/register';\nimport BookEdit from './pages/book/book-edit';\nimport EventEdit from './pages/event/event-edit';\nimport BookCreate from './pages/book/book-create';\nimport BookDetails from './pages/book/book-details';\nimport EventCreate from './pages/event/event-create';\nimport EventDetails from './pages/event/event-details';\n\n\nconst App = () => {\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Landing />} />\n      <Route path=\"/home\" element={<Home />} />\n      \n      <Route path=\"/books\" element={<Books />} />\n      <Route path=\"/books/:bookId\" element={<BookDetails />} />\n      <Route element={<AuthRoute />}>\n        <Route path=\"/books/:bookId/edit\" element={<BookEdit />} />\n        <Route path=\"/books/create\" element={<BookCreate />} />\n      </Route>\n\n      <Route path=\"/events\" element={<Events />} />\n      <Route path=\"/events/:eventId\" element={<EventDetails />} />\n      <Route element={<AuthRoute />}>\n        <Route path=\"/events/:eventId/edit\" element={<EventEdit />} />\n        <Route path=\"/events/create\" element={<EventCreate />} />\n      </Route>\n\n      <Route element={<UserRoute />}>\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/register\" element={<Register />} />\n      </Route>\n\n      <Route element={<AuthRoute />}>\n        <Route path=\"/my-page/:userId\" element={<MyPage />} />\n        <Route path=\"/logout\" element={<Logout />} />\n      </Route>\n\n      <Route path=\"*\" element={<NoMatch />} />\n    </Routes>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hasError: false\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return {\r\n            hasError: true\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error) {\r\n        console.log('Error from componentDidCatch: ', error);\r\n    }\r\n    \r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <h1>Something went wrong!!!</h1>\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import { useState } from \"react\";\r\n\r\nconst useLocalStorage = (key, value) => {\r\n\r\n    const [state, setState] = useState(()=>{\r\n        try {\r\n            const item = localStorage.getItem(key);\r\n            console.log(item);\r\n            if (item) {\r\n                return JSON.parse(item)\r\n            }\r\n            return value;\r\n        } catch (error) {\r\n            console.log(error.message);\r\n            return value;\r\n        }\r\n    })\r\n\r\n\r\n    const setLocalStorageItem = (value) => {\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value))\r\n\r\n            setState(value);\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    }\r\n\r\n    return [\r\n        state,\r\n        setLocalStorageItem\r\n    ]\r\n};\r\n\r\nexport default useLocalStorage;","import { INITIAL_AUTH_VALUE } from './common';\r\n\r\nimport AuthContext from './context/authContext';\r\nimport useLocalStorage from './hooks/useLocalStorage';\r\n\r\nconst AuthContextProvider = (props) => {\r\n\r\n    const [user, setUser] = useLocalStorage('user', INITIAL_AUTH_VALUE);\r\n    \r\n    const login = (authData) => {\r\n        setUser(authData);\r\n    }\r\n\r\n    const logout = () => {\r\n        setUser(INITIAL_AUTH_VALUE);\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                user,\r\n                login,\r\n                logout,\r\n                isAuthenticated: user.username\r\n            }}\r\n        >\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AuthContextProvider\r\n","import { useState,useCallback } from 'react';\r\n\r\nimport { INITIAL_NOTIFICATION_VALUE } from './common';\r\n\r\nimport NotificationContext from './context/notificationContext';\r\n\r\n\r\n\r\nconst NotificationContextProvider = ({children}) => {\r\n\r\n    const [notification, setNotification] = useState(INITIAL_NOTIFICATION_VALUE);\r\n\r\n    const showNotification = useCallback((message,objectId) => {\r\n        setNotification(prev=>({...prev, show: true, message,objectId}));\r\n\r\n        setTimeout(() => {\r\n            setNotification(INITIAL_NOTIFICATION_VALUE);\r\n        }, 5000);\r\n    }, []);\r\n\r\n    const handleNotification = (result) => {\r\n        if(result==='cancel'){\r\n            setNotification(INITIAL_NOTIFICATION_VALUE);\r\n        }\r\n        setNotification(prev=>({...prev,result}));\r\n    };\r\n\r\n    return (\r\n        <NotificationContext.Provider\r\n            value={{ notification, showNotification, handleNotification} }>\r\n            { children }\r\n        </NotificationContext.Provider>\r\n    )\r\n};\r\n\r\nexport default NotificationContextProvider;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './App';\nimport ErrorBoundary from './ErrorBoundary';\nimport AuthContextProvider from './AuthContextProvider';\nimport NotificationContextProvider from './NotificationContextProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <AuthContextProvider>\n        <NotificationContextProvider>\n        <BrowserRouter basename=\"/read-aloud\">\n          <App />\n        </BrowserRouter>\n        </NotificationContextProvider>\n      </AuthContextProvider>\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}